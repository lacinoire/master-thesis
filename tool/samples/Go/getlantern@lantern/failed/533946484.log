travis_fold:start:worker_info[0K[33;1mWorker information[0m
hostname: 93288298-ac2e-47e6-b1f7-f1dda5099f9e@1.production-1-worker-org-gce-x4xs
version: v6.2.0 https://github.com/travis-ci/worker/tree/5e5476e01646095f48eec13196fdb3faf8f5cbf7
instance: travis-job-655836f0-ec78-4b43-b363-cd9f4c8d77d6 travis-ci-garnet-trusty-1512502259-986baf0 (via amqp)
startup: 6.243017955s
travis_fold:end:worker_info[0Ktravis_fold:start:system_info[0K[33;1mBuild system information[0m
Build language: go
Build group: stable
Build dist: trusty
Build id: 533946484
Job id: 533946485
Runtime kernel version: 4.4.0-101-generic
travis-build version: 11415f344
[34m[1mBuild image provisioning date and time[0m
Tue Dec  5 19:58:13 UTC 2017
[34m[1mOperating System Details[0m
Distributor ID:	Ubuntu
Description:	Ubuntu 14.04.5 LTS
Release:	14.04
Codename:	trusty
[34m[1mCookbooks Version[0m
7c2c6a6 https://github.com/travis-ci/travis-cookbooks/tree/7c2c6a6
[34m[1mgit version[0m
git version 2.15.1
[34m[1mbash version[0m
GNU bash, version 4.3.11(1)-release (x86_64-pc-linux-gnu)
[34m[1mgcc version[0m
gcc (Ubuntu 4.8.4-2ubuntu1~14.04.3) 4.8.4
Copyright (C) 2013 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

[34m[1mdocker version[0m
Client:
 Version:      17.09.0-ce
 API version:  1.32
 Go version:   go1.8.3
 Git commit:   afdb6d4
 Built:        Tue Sep 26 22:42:38 2017
 OS/Arch:      linux/amd64

Server:
 Version:      17.09.0-ce
 API version:  1.32 (minimum version 1.12)
 Go version:   go1.8.3
 Git commit:   afdb6d4
 Built:        Tue Sep 26 22:41:20 2017
 OS/Arch:      linux/amd64
 Experimental: false
[34m[1mclang version[0m
clang version 5.0.0 (tags/RELEASE_500/final)
Target: x86_64-unknown-linux-gnu
Thread model: posix
InstalledDir: /usr/local/clang-5.0.0/bin
[34m[1mjq version[0m
jq-1.5
[34m[1mbats version[0m
Bats 0.4.0
[34m[1mshellcheck version[0m
0.4.6
[34m[1mshfmt version[0m
v2.0.0
[34m[1mccache version[0m
ccache version 3.1.9

Copyright (C) 2002-2007 Andrew Tridgell
Copyright (C) 2009-2011 Joel Rosdahl

This program is free software; you can redistribute it and/or modify it under
the terms of the GNU General Public License as published by the Free Software
Foundation; either version 3 of the License, or (at your option) any later
version.
[34m[1mcmake version[0m
cmake version 3.9.2

CMake suite maintained and supported by Kitware (kitware.com/cmake).
[34m[1mheroku version[0m
heroku-cli/6.14.39-addc925 (linux-x64) node-v9.2.0
[34m[1mimagemagick version[0m
Version: ImageMagick 6.7.7-10 2017-07-31 Q16 http://www.imagemagick.org
[34m[1mmd5deep version[0m
4.2
[34m[1mmercurial version[0m
Mercurial Distributed SCM (version 4.2.2)
(see https://mercurial-scm.org for more information)

Copyright (C) 2005-2017 Matt Mackall and others
This is free software; see the source for copying conditions. There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
[34m[1mmysql version[0m
mysql  Ver 14.14 Distrib 5.6.33, for debian-linux-gnu (x86_64) using  EditLine wrapper
[34m[1mopenssl version[0m
OpenSSL 1.0.1f 6 Jan 2014
[34m[1mpacker version[0m
Packer v1.0.2

Your version of Packer is out of date! The latest version
is 1.1.2. You can update by downloading from www.packer.io
[34m[1mpostgresql client version[0m
psql (PostgreSQL) 9.6.6
[34m[1mragel version[0m
Ragel State Machine Compiler version 6.8 Feb 2013
Copyright (c) 2001-2009 by Adrian Thurston
[34m[1msubversion version[0m
svn, version 1.8.8 (r1568071)
   compiled Aug 10 2017, 17:20:39 on x86_64-pc-linux-gnu

Copyright (C) 2013 The Apache Software Foundation.
This software consists of contributions made by many people;
see the NOTICE file for more information.
Subversion is open source software, see http://subversion.apache.org/

The following repository access (RA) modules are available:

* ra_svn : Module for accessing a repository using the svn network protocol.
  - with Cyrus SASL authentication
  - handles 'svn' scheme
* ra_local : Module for accessing a repository on local disk.
  - handles 'file' scheme
* ra_serf : Module for accessing a repository via WebDAV protocol using serf.
  - using serf 1.3.3
  - handles 'http' scheme
  - handles 'https' scheme

[34m[1msudo version[0m
Sudo version 1.8.9p5
Configure options: --prefix=/usr -v --with-all-insults --with-pam --with-fqdn --with-logging=syslog --with-logfac=authpriv --with-env-editor --with-editor=/usr/bin/editor --with-timeout=15 --with-password-timeout=0 --with-passprompt=[sudo] password for %p:  --without-lecture --with-tty-tickets --disable-root-mailer --enable-admin-flag --with-sendmail=/usr/sbin/sendmail --with-timedir=/var/lib/sudo --mandir=/usr/share/man --libexecdir=/usr/lib/sudo --with-sssd --with-sssd-lib=/usr/lib/x86_64-linux-gnu --with-selinux
Sudoers policy plugin version 1.8.9p5
Sudoers file grammar version 43

Sudoers path: /etc/sudoers
Authentication methods: 'pam'
Syslog facility if syslog is being used for logging: authpriv
Syslog priority to use when user authenticates successfully: notice
Syslog priority to use when user authenticates unsuccessfully: alert
Send mail if the user is not in sudoers
Use a separate timestamp for each user/tty combo
Lecture user the first time they run sudo
Root may run sudo
Allow some information gathering to give useful error messages
Require fully-qualified hostnames in the sudoers file
Visudo will honor the EDITOR environment variable
Set the LOGNAME and USER environment variables
Length at which to wrap log file lines (0 for no wrap): 80
Authentication timestamp timeout: 15.0 minutes
Password prompt timeout: 0.0 minutes
Number of tries to enter a password: 3
Umask to use or 0777 to use user's: 022
Path to mail program: /usr/sbin/sendmail
Flags for mail program: -t
Address to send mail to: root
Subject line for mail messages: *** SECURITY information for %h ***
Incorrect password message: Sorry, try again.
Path to authentication timestamp dir: /var/lib/sudo
Default password prompt: [sudo] password for %p: 
Default user to run commands as: root
Value to override user's $PATH with: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin
Path to the editor for use by visudo: /usr/bin/editor
When to require a password for 'list' pseudocommand: any
When to require a password for 'verify' pseudocommand: all
File descriptors >= 3 will be closed before executing a command
Environment variables to check for sanity:
	TZ
	TERM
	LINGUAS
	LC_*
	LANGUAGE
	LANG
	COLORTERM
Environment variables to remove:
	RUBYOPT
	RUBYLIB
	PYTHONUSERBASE
	PYTHONINSPECT
	PYTHONPATH
	PYTHONHOME
	TMPPREFIX
	ZDOTDIR
	READNULLCMD
	NULLCMD
	FPATH
	PERL5DB
	PERL5OPT
	PERL5LIB
	PERLLIB
	PERLIO_DEBUG 
	JAVA_TOOL_OPTIONS
	SHELLOPTS
	GLOBIGNORE
	PS4
	BASH_ENV
	ENV
	TERMCAP
	TERMPATH
	TERMINFO_DIRS
	TERMINFO
	_RLD*
	LD_*
	PATH_LOCALE
	NLSPATH
	HOSTALIASES
	RES_OPTIONS
	LOCALDOMAIN
	CDPATH
	IFS
Environment variables to preserve:
	JAVA_HOME
	TRAVIS
	CI
	DEBIAN_FRONTEND
	XAUTHORIZATION
	XAUTHORITY
	PS2
	PS1
	PATH
	LS_COLORS
	KRB5CCNAME
	HOSTNAME
	HOME
	DISPLAY
	COLORS
Locale to use while parsing sudoers: C
Directory in which to store input/output logs: /var/log/sudo-io
File in which to store the input/output log: %{seq}
Add an entry to the utmp/utmpx file when allocating a pty
PAM service name to use
PAM service name to use for login shells
Create a new PAM session for the command to run in
Maximum I/O log sequence number: 0

Local IP address and netmask pairs:
	10.240.0.28/255.255.255.255
	172.17.0.1/255.255.0.0

Sudoers I/O plugin version 1.8.9p5
[34m[1mgzip version[0m
gzip 1.6
Copyright (C) 2007, 2010, 2011 Free Software Foundation, Inc.
Copyright (C) 1993 Jean-loup Gailly.
This is free software.  You may redistribute copies of it under the terms of
the GNU General Public License <http://www.gnu.org/licenses/gpl.html>.
There is NO WARRANTY, to the extent permitted by law.

Written by Jean-loup Gailly.
[34m[1mzip version[0m
Copyright (c) 1990-2008 Info-ZIP - Type 'zip "-L"' for software license.
This is Zip 3.0 (July 5th 2008), by Info-ZIP.
Currently maintained by E. Gordon.  Please send bug reports to
the authors using the web page at www.info-zip.org; see README for details.

Latest sources and executables are at ftp://ftp.info-zip.org/pub/infozip,
as of above date; see http://www.info-zip.org/ for other sites.

Compiled with gcc 4.8.2 for Unix (Linux ELF) on Oct 21 2013.

Zip special compilation options:
	USE_EF_UT_TIME       (store Universal Time)
	BZIP2_SUPPORT        (bzip2 library version 1.0.6, 6-Sept-2010)
	    bzip2 code and library copyright (c) Julian R Seward
	    (See the bzip2 license for terms of use)
	SYMLINK_SUPPORT      (symbolic links supported)
	LARGE_FILE_SUPPORT   (can read and write large files on file system)
	ZIP64_SUPPORT        (use Zip64 to store large files in archives)
	UNICODE_SUPPORT      (store and read UTF-8 Unicode paths)
	STORE_UNIX_UIDs_GIDs (store UID/GID sizes/values using new extra field)
	UIDGID_NOT_16BIT     (old Unix 16-bit UID/GID extra field not used)
	[encryption, version 2.91 of 05 Jan 2007] (modified for Zip 3)

Encryption notice:
	The encryption code of this program is not copyrighted and is
	put in the public domain.  It was originally written in Europe
	and, to the best of our knowledge, can be freely distributed
	in both source and object forms from any country, including
	the USA under License Exception TSU of the U.S. Export
	Administration Regulations (section 740.13(e)) of 6 June 2002.

Zip environment options:
             ZIP:  [none]
          ZIPOPT:  [none]
[34m[1mvim version[0m
VIM - Vi IMproved 7.4 (2013 Aug 10, compiled Nov 24 2016 16:43:18)
Included patches: 1-52
Extra patches: 8.0.0056
Modified by pkg-vim-maintainers@lists.alioth.debian.org
Compiled by buildd@
Huge version without GUI.  Features included (+) or not (-):
+acl             +farsi           +mouse_netterm   +syntax
+arabic          +file_in_path    +mouse_sgr       +tag_binary
+autocmd         +find_in_path    -mouse_sysmouse  +tag_old_static
-balloon_eval    +float           +mouse_urxvt     -tag_any_white
-browse          +folding         +mouse_xterm     -tcl
++builtin_terms  -footer          +multi_byte      +terminfo
+byte_offset     +fork()          +multi_lang      +termresponse
+cindent         +gettext         -mzscheme        +textobjects
-clientserver    -hangul_input    +netbeans_intg   +title
-clipboard       +iconv           +path_extra      -toolbar
+cmdline_compl   +insert_expand   -perl            +user_commands
+cmdline_hist    +jumplist        +persistent_undo +vertsplit
+cmdline_info    +keymap          +postscript      +virtualedit
+comments        +langmap         +printer         +visual
+conceal         +libcall         +profile         +visualextra
+cryptv          +linebreak       +python          +viminfo
+cscope          +lispindent      -python3         +vreplace
+cursorbind      +listcmds        +quickfix        +wildignore
+cursorshape     +localmap        +reltime         +wildmenu
+dialog_con      -lua             +rightleft       +windows
+diff            +menu            -ruby            +writebackup
+digraphs        +mksession       +scrollbind      -X11
-dnd             +modify_fname    +signs           -xfontset
-ebcdic          +mouse           +smartindent     -xim
+emacs_tags      -mouseshape      -sniff           -xsmp
+eval            +mouse_dec       +startuptime     -xterm_clipboard
+ex_extra        +mouse_gpm       +statusline      -xterm_save
+extra_search    -mouse_jsbterm   -sun_workshop    -xpm
   system vimrc file: "$VIM/vimrc"
     user vimrc file: "$HOME/.vimrc"
 2nd user vimrc file: "~/.vim/vimrc"
      user exrc file: "$HOME/.exrc"
  fall-back for $VIM: "/usr/share/vim"
Compilation: gcc -c -I. -Iproto -DHAVE_CONFIG_H     -g -O2 -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security -U_FORTIFY_SOURCE -D_FORTIFY_SOURCE=1      
Linking: gcc   -Wl,-Bsymbolic-functions -Wl,-z,relro -Wl,--as-needed -o vim        -lm -ltinfo -lnsl  -lselinux  -lacl -lattr -lgpm -ldl    -L/usr/lib/python2.7/config-x86_64-linux-gnu -lpython2.7 -lpthread -ldl -lutil -lm -Xlinker -export-dynamic -Wl,-O1 -Wl,-Bsymbolic-functions      
[34m[1miptables version[0m
iptables v1.4.21
[34m[1mcurl version[0m
curl 7.35.0 (x86_64-pc-linux-gnu) libcurl/7.35.0 OpenSSL/1.0.1f zlib/1.2.8 libidn/1.28 librtmp/2.3
[34m[1mwget version[0m
GNU Wget 1.15 built on linux-gnu.
[34m[1mrsync version[0m
rsync  version 3.1.0  protocol version 31
[34m[1mgimme version[0m
v1.2.0
[34m[1mnvm version[0m
0.33.6
[34m[1mperlbrew version[0m
/home/travis/perl5/perlbrew/bin/perlbrew  - App::perlbrew/0.80
[34m[1mphpenv version[0m
rbenv 1.1.1-25-g6aa70b6
[34m[1mrvm version[0m
rvm 1.29.3 (latest) by Michal Papis, Piotr Kuczynski, Wayne E. Seguin [https://rvm.io]
[34m[1mdefault ruby version[0m
ruby 2.4.1p111 (2017-03-22 revision 58053) [x86_64-linux]
[34m[1mCouchDB version[0m
couchdb 1.6.1
[34m[1mElasticSearch version[0m
5.5.0
[34m[1mInstalled Firefox version[0m
firefox 56.0.2
[34m[1mMongoDB version[0m
MongoDB 3.4.10
[34m[1mPhantomJS version[0m
2.1.1
[34m[1mPre-installed PostgreSQL versions[0m
9.2.24
9.3.20
9.4.15
9.5.10
9.6.6
[34m[1mRabbitMQ Version[0m
3.6.14
[34m[1mRedis version[0m
redis-server 4.0.6
[34m[1mriak version[0m
2.2.3
[34m[1mPre-installed Go versions[0m
1.7.4
[34m[1mant version[0m
Apache Ant(TM) version 1.9.3 compiled on April 8 2014
[34m[1mmvn version[0m
Apache Maven 3.5.2 (138edd61fd100ec658bfa2d307c43b76940a5d7d; 2017-10-18T07:58:13Z)
Maven home: /usr/local/maven-3.5.2
Java version: 1.8.0_151, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-8-oracle/jre
Default locale: en_US, platform encoding: UTF-8
OS name: "linux", version: "4.4.0-98-generic", arch: "amd64", family: "unix"
[34m[1mgradle version[0m

------------------------------------------------------------
Gradle 4.0.1
------------------------------------------------------------

Build time:   2017-07-07 14:02:41 UTC
Revision:     38e5dc0f772daecca1d2681885d3d85414eb6826

Groovy:       2.4.11
Ant:          Apache Ant(TM) version 1.9.6 compiled on June 29 2015
JVM:          1.8.0_151 (Oracle Corporation 25.151-b12)
OS:           Linux 4.4.0-98-generic amd64

[34m[1mlein version[0m
Leiningen 2.8.1 on Java 1.8.0_151 Java HotSpot(TM) 64-Bit Server VM
[34m[1mPre-installed Node.js versions[0m
v4.8.6
v6.12.0
v6.12.1
v8.9
v8.9.1
[34m[1mphpenv versions[0m
  system
  5.6
* 5.6.32 (set by /home/travis/.phpenv/version)
  7.0
  7.0.25
  7.1
  7.1.11
  hhvm
  hhvm-stable
[34m[1mcomposer --version[0m
Composer version 1.5.2 2017-09-11 16:59:25
[34m[1mPre-installed Ruby versions[0m
ruby-2.2.7
ruby-2.3.4
ruby-2.4.1
travis_fold:end:system_info[0K
travis_fold:start:docker_mtu[0Kdocker stop/waiting
docker start/running, process 4377
travis_fold:end:docker_mtu[0Ktravis_fold:start:resolvconf[0Kresolvconf stop/waiting
resolvconf start/running
travis_fold:end:resolvconf[0KUpdating gimme

travis_fold:start:git.checkout[0Ktravis_time:start:007b47db[0K$ git clone --depth=50 --branch=5.4.0 https://github.com/getlantern/lantern.git getlantern/lantern
Cloning into 'getlantern/lantern'...
Note: checking out 'e46cebcc957d27f283552dd4bef1a84739c8c1ed'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b <new-branch-name>

travis_time:end:007b47db:start=1558119325922772938,finish=1558119330183812657,duration=4261039719[0K$ cd getlantern/lantern
$ git checkout -qf 5.4.0
travis_fold:end:git.checkout[0K
$ travis_export_go 1.6 github.com/getlantern/lantern

[33;1mSetting environment variables from repository settings[0m
$ export encrypted_efbf15799575_key=[secure]
$ export encrypted_efbf15799575_iv=[secure]
$ export encrypted_f217260732a9_key=[secure]
$ export encrypted_f217260732a9_iv=[secure]
$ export CI_USER_TOKEN=[secure]

travis_time:start:1d512704[0K$ travis_setup_go
go version go1.6 linux/amd64
$ export GOPATH="/home/travis/gopath"
$ export PATH="/home/travis/gopath/bin:/home/travis/.gimme/versions/go1.6.linux.amd64/bin:/home/travis/bin:/home/travis/bin:/home/travis/.local/bin:/opt/pyenv/shims:/home/travis/.phpenv/shims:/home/travis/perl5/perlbrew/bin:/home/travis/.nvm/versions/node/v8.9.1/bin:/home/travis/.kiex/elixirs/elixir-1.4.5/bin:/home/travis/.kiex/bin:/home/travis/.rvm/gems/ruby-2.4.1/bin:/home/travis/.rvm/gems/ruby-2.4.1@global/bin:/home/travis/.rvm/rubies/ruby-2.4.1/bin:/home/travis/gopath/bin:/home/travis/.gimme/versions/go1.7.4.linux.amd64/bin:/usr/local/phantomjs/bin:/usr/local/phantomjs:/usr/local/neo4j-3.2.7/bin:/usr/local/maven-3.5.2/bin:/usr/local/cmake-3.9.2/bin:/usr/local/clang-5.0.0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/home/travis/.rvm/bin:/home/travis/.phpenv/bin:/opt/pyenv/bin:/home/travis/.yarn/bin"
$ export GO111MODULE="auto"
travis_time:end:1d512704:start=1558119330363779682,finish=1558119337508054571,duration=7144274889[0K$ gimme version
v1.5.3
$ go version
go version go1.6 linux/amd64
travis_fold:start:go.env[0K$ go env
GOARCH="amd64"
GOBIN=""
GOEXE=""
GOHOSTARCH="amd64"
GOHOSTOS="linux"
GOOS="linux"
GOPATH="/home/travis/gopath"
GORACE=""
GOROOT="/home/travis/.gimme/versions/go1.6.linux.amd64"
GOTOOLDIR="/home/travis/.gimme/versions/go1.6.linux.amd64/pkg/tool/linux_amd64"
GO15VENDOREXPERIMENT="1"
CC="gcc"
GOGCCFLAGS="-fPIC -m64 -pthread -fmessage-length=0"
CXX="g++"
CGO_ENABLED="1"
travis_fold:end:go.env[0Ktravis_fold:start:before_install.1[0Ktravis_time:start:18775044[0K$ echo -e "machine github.com\n  login $CI_USER_TOKEN" >> ~/.netrc
travis_time:end:18775044:start=1558119337554651109,finish=1558119337558454866,duration=3803757[0Ktravis_fold:end:before_install.1[0Ktravis_fold:start:before_install.2[0Ktravis_time:start:0f66f17b[0K$ openssl aes-256-cbc -K $encrypted_f217260732a9_key -iv $encrypted_f217260732a9_iv -in envvars.bash.enc -out envvars.bash -d
travis_time:end:0f66f17b:start=1558119337563802395,finish=1558119337578092368,duration=14289973[0Ktravis_fold:end:before_install.2[0Ktravis_fold:start:before_install.3[0Ktravis_time:start:1991253f[0K$ sed -i 's/git@github.com:/https:\/\/github.com\//' .gitmodules
travis_time:end:1991253f:start=1558119337584102723,finish=1558119337589501345,duration=5398622[0Ktravis_fold:end:before_install.3[0Ktravis_fold:start:before_install.4[0Ktravis_time:start:20ec0866[0K$ git submodule update --init --recursive
Submodule 'src/github.com/getlantern/http-proxy-lantern' (https://github.com/getlantern/http-proxy-lantern.git) registered for path 'src/github.com/getlantern/http-proxy-lantern'
Cloning into '/home/travis/gopath/src/github.com/getlantern/lantern/src/github.com/getlantern/http-proxy-lantern'...
Submodule path 'src/github.com/getlantern/http-proxy-lantern': checked out '7eb967cdd91cbd80455a03f0f1b5d47b70c1a1a0'
travis_time:end:20ec0866:start=1558119337594898730,finish=1558119338621195657,duration=1026296927[0Ktravis_fold:end:before_install.4[0Ktravis_fold:start:install.1[0Ktravis_time:start:1b8f2fe0[0K$ sudo apt-get install make -y
Reading package lists...
Building dependency tree...
Reading state information...
make is already the newest version (3.81-8.2ubuntu3).
make set to manually installed.
0 upgraded, 0 newly installed, 0 to remove and 304 not upgraded.
travis_time:end:1b8f2fe0:start=1558119338626986922,finish=1558119339186430946,duration=559444024[0Ktravis_fold:end:install.1[0Ktravis_fold:start:install.2[0Ktravis_time:start:016d835c[0K$ go get golang.org/x/tools/cmd/cover
travis_time:end:016d835c:start=1558119339192657958,finish=1558119343996770419,duration=4804112461[0Ktravis_fold:end:install.2[0Ktravis_fold:start:install.3[0Ktravis_time:start:0e0ef974[0K$ go get -v github.com/mattn/goveralls
github.com/mattn/goveralls (download)
github.com/mattn/goveralls
travis_time:end:0e0ef974:start=1558119344003332926,finish=1558119346862384999,duration=2859052073[0Ktravis_fold:end:install.3[0Ktravis_fold:start:install.4[0Ktravis_time:start:0a55004f[0K$ curl https://s3-eu-west-1.amazonaws.com/uaalto/go1.6.2_lantern_20160503_linux_amd64.tar.gz | tar -xz -C /tmp && rm -Rf /usr/local/go && sudo mv /tmp/go /usr/local
travis_time:end:0a55004f:start=1558119346868507555,finish=1558119356988672222,duration=10120164667[0Ktravis_fold:end:install.4[0Ktravis_fold:start:before_script[0Ktravis_time:start:00ee4bcf[0K$ npm install -g gulp-cli
/home/travis/.nvm/versions/node/v8.9.1/bin/gulp -> /home/travis/.nvm/versions/node/v8.9.1/lib/node_modules/gulp-cli/bin/gulp.js
+ gulp-cli@2.2.0
added 236 packages in 9.606s
travis_time:end:00ee4bcf:start=1558119356994881986,finish=1558119367304239490,duration=10309357504[0Ktravis_fold:end:before_script[0Ktravis_time:start:12960288[0K$ openssl aes-256-cbc -K $encrypted_f217260732a9_key -iv $encrypted_f217260732a9_iv -in envvars.bash.enc -out envvars.bash -d
travis_time:end:12960288:start=1558119367309218651,finish=1558119367316694020,duration=7475369[0K[32;1mThe command "openssl aes-256-cbc -K $encrypted_f217260732a9_key -iv $encrypted_f217260732a9_iv -in envvars.bash.enc -out envvars.bash -d" exited with 0.[0m

travis_time:start:00be132e[0K$ GOROOT=/usr/local/go make test-and-cover
npm WARN deprecated gulp-minify-css@1.2.4: Please use gulp-clean-css
npm WARN deprecated gulp-util@3.0.8: gulp-util is deprecated - replace it, following the guidelines at https://medium.com/gulpjs/gulp-util-ca3b1f9f9ac5
npm WARN deprecated gulp-util@2.2.20: gulp-util is deprecated - replace it, following the guidelines at https://medium.com/gulpjs/gulp-util-ca3b1f9f9ac5
npm WARN deprecated graceful-fs@2.0.3: please upgrade to graceful-fs 4 for compatibility with current and future versions of Node.js
npm WARN deprecated node-uuid@1.4.8: Use uuid module instead
npm WARN deprecated graceful-fs@3.0.11: please upgrade to graceful-fs 4 for compatibility with current and future versions of Node.js
npm WARN notice [SECURITY] minimatch has the following vulnerability: 1 high. Go here for more details: https://nodesecurity.io/advisories?search=minimatch&version=2.0.10 - Run `npm i npm@latest -g` to upgrade your npm version, and then `npm audit` to get more info.
npm WARN deprecated minimatch@2.0.10: Please update to minimatch 3.0.2 or higher to avoid a RegExp DoS issue
npm WARN deprecated natives@1.1.6: This module relies on Node.js's internals and will break at some point. Do not use it, and update to graceful-fs@4.x.
npm WARN notice [SECURITY] minimatch has the following vulnerability: 1 high. Go here for more details: https://nodesecurity.io/advisories?search=minimatch&version=0.2.14 - Run `npm i npm@latest -g` to upgrade your npm version, and then `npm audit` to get more info.
npm WARN notice [SECURITY] lodash has the following vulnerability: 1 low. Go here for more details: https://nodesecurity.io/advisories?search=lodash&version=1.0.2 - Run `npm i npm@latest -g` to upgrade your npm version, and then `npm audit` to get more info.
npm WARN deprecated minimatch@0.2.14: Please update to minimatch 3.0.2 or higher to avoid a RegExp DoS issue
npm WARN deprecated graceful-fs@1.2.3: please upgrade to graceful-fs 4 for compatibility with current and future versions of Node.js
npm notice created a lockfile as package-lock.json. You should commit this file.
npm WARN lantern-ui@0.0.10-0 license should be a valid SPDX license expression

added 490 packages in 9.924s
[18:56:18] Using gulpfile ~/gopath/src/github.com/getlantern/lantern/lantern-ui/gulpfile.js
[18:56:18] Starting 'clean'...
[18:56:18] Starting 'usemin'...
[18:56:18] Starting 'copy'...
[18:56:18] Finished 'copy' after 3.96 ms
[18:56:18] Finished 'clean' after 61 ms
[18:56:19] Finished 'usemin' after 716 ms
[18:56:19] Starting 'build'...
[18:56:19] Finished 'build' after 28 Î¼s
/home/travis/gopath/src/github.com/getlantern/lantern
warning: no packages being tested depend on github.com/getlantern/appdir
warning: no packages being tested depend on github.com/getlantern/balancer
warning: no packages being tested depend on github.com/getlantern/bandwidth
warning: no packages being tested depend on github.com/getlantern/borda/client
warning: no packages being tested depend on github.com/getlantern/buuid
warning: no packages being tested depend on github.com/getlantern/bytecounting
warning: no packages being tested depend on github.com/getlantern/byteexec
warning: no packages being tested depend on github.com/getlantern/chained
warning: no packages being tested depend on github.com/getlantern/checkfallbacks
warning: no packages being tested depend on github.com/getlantern/connpool
warning: no packages being tested depend on github.com/getlantern/context
warning: no packages being tested depend on github.com/getlantern/deepcopy
warning: no packages being tested depend on github.com/getlantern/detour
warning: no packages being tested depend on github.com/getlantern/errors
warning: no packages being tested depend on github.com/getlantern/eventual
warning: no packages being tested depend on github.com/getlantern/flashlight
warning: no packages being tested depend on github.com/getlantern/flashlight/app
warning: no packages being tested depend on github.com/getlantern/flashlight/client
warning: no packages being tested depend on github.com/getlantern/flashlight/config
warning: no packages being tested depend on github.com/getlantern/flashlight/logging
warning: no packages being tested depend on github.com/getlantern/flashlight/proxied
warning: no packages being tested depend on github.com/getlantern/flashlight/util
warning: no packages being tested depend on github.com/getlantern/fronted
warning: no packages being tested depend on github.com/getlantern/geolookup
warning: no packages being tested depend on github.com/getlantern/golog
warning: no packages being tested depend on github.com/getlantern/hex
warning: no packages being tested depend on github.com/getlantern/hidden
warning: no packages being tested depend on github.com/getlantern/idletiming
warning: no packages being tested depend on github.com/getlantern/keyman
warning: no packages being tested depend on github.com/getlantern/lantern
warning: no packages being tested depend on github.com/getlantern/measured
warning: no packages being tested depend on github.com/getlantern/netx
warning: no packages being tested depend on github.com/getlantern/ops
warning: no packages being tested depend on github.com/getlantern/osversion
warning: no packages being tested depend on github.com/getlantern/pathreflect
warning: no packages being tested depend on github.com/getlantern/proxiedsites
warning: no packages being tested depend on github.com/getlantern/rotator
warning: no packages being tested depend on github.com/getlantern/stack
warning: no packages being tested depend on github.com/getlantern/tarfs
warning: no packages being tested depend on github.com/getlantern/tlsdefaults
warning: no packages being tested depend on github.com/getlantern/tlsdialer
warning: no packages being tested depend on github.com/getlantern/waitforserver
warning: no packages being tested depend on github.com/getlantern/wfilter
warning: no packages being tested depend on github.com/getlantern/withtimeout
May 17 18:57:01.272 - 0m0s DEBUG flashlight: flashlight.go:66 ****************************** Package Version: 9999.99.99
May 17 18:57:01.272 - 0m0s DEBUG flashlight.util: hash.go:22 Hashing file at path /tmp/go-build021180568/github.com/getlantern/fdcount/_test/fdcount.test
May 17 18:57:01.412 - 0m0s DEBUG flashlight.ui: ui.go:56 Creating tarfs filesystem that prefers local resources at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 18:57:01.412 - 0m0s DEBUG tarfs: tarfs.go:62 Using local filesystem at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 18:57:01.428 - 0m0s DEBUG flashlight: settings.go:60 Loading settings
May 17 18:57:01.428 - 0m0s DEBUG flashlight: settings.go:71 Could not read file open /home/travis/.lantern/settings.yaml: no such file or directory
May 17 18:57:01.429 - 0m0s DEBUG flashlight.ui: service.go:132 Accepting websocket connections at: /data
May 17 18:57:01.429 - 0m0s DEBUG flashlight: settings.go:120 Sending Lantern settings to new client
May 17 18:57:01.431 - 0m0s DEBUG flashlight: settings.go:132 Reading settings messages!!
=== RUN   TestTCP
--- PASS: TestTCP (0.58s)
=== RUN   TestWaitUntilNoneMatchOK
--- PASS: TestWaitUntilNoneMatchOK (0.09s)
=== RUN   TestWaitUntilNoneMatchTimeout
--- PASS: TestWaitUntilNoneMatchTimeout (0.07s)
PASS
coverage: 7.5% of statements in github.com/getlantern/fdcount, github.com/getlantern/appdir, github.com/getlantern/balancer, github.com/getlantern/bandwidth, github.com/getlantern/borda/client, github.com/getlantern/buuid, github.com/getlantern/bytecounting, github.com/getlantern/byteexec, github.com/getlantern/chained, github.com/getlantern/checkfallbacks, github.com/getlantern/connpool, github.com/getlantern/context, github.com/getlantern/deepcopy, github.com/getlantern/detour, github.com/getlantern/errors, github.com/getlantern/eventual, github.com/getlantern/flashlight, github.com/getlantern/flashlight/app, github.com/getlantern/flashlight/client, github.com/getlantern/flashlight/config, github.com/getlantern/flashlight/logging, github.com/getlantern/flashlight/proxied, github.com/getlantern/flashlight/util, github.com/getlantern/fronted, github.com/getlantern/geolookup, github.com/getlantern/golog, github.com/getlantern/hex, github.com/getlantern/hidden, github.com/getlantern/idletiming, github.com/getlantern/keyman, github.com/getlantern/lantern, github.com/getlantern/measured, github.com/getlantern/netx, github.com/getlantern/ops, github.com/getlantern/osversion, github.com/getlantern/pathreflect, github.com/getlantern/proxiedsites, github.com/getlantern/rotator, github.com/getlantern/stack, github.com/getlantern/tarfs, github.com/getlantern/tlsdefaults, github.com/getlantern/tlsdialer, github.com/getlantern/waitforserver, github.com/getlantern/wfilter, github.com/getlantern/withtimeout
ok  	github.com/getlantern/fdcount	2.022s
warning: no packages being tested depend on github.com/getlantern/fdcount
warning: no packages being tested depend on github.com/getlantern/balancer
warning: no packages being tested depend on github.com/getlantern/bandwidth
warning: no packages being tested depend on github.com/getlantern/borda/client
warning: no packages being tested depend on github.com/getlantern/buuid
warning: no packages being tested depend on github.com/getlantern/bytecounting
warning: no packages being tested depend on github.com/getlantern/byteexec
warning: no packages being tested depend on github.com/getlantern/chained
warning: no packages being tested depend on github.com/getlantern/checkfallbacks
warning: no packages being tested depend on github.com/getlantern/connpool
warning: no packages being tested depend on github.com/getlantern/context
warning: no packages being tested depend on github.com/getlantern/deepcopy
warning: no packages being tested depend on github.com/getlantern/detour
warning: no packages being tested depend on github.com/getlantern/errors
warning: no packages being tested depend on github.com/getlantern/eventual
warning: no packages being tested depend on github.com/getlantern/flashlight
warning: no packages being tested depend on github.com/getlantern/flashlight/app
warning: no packages being tested depend on github.com/getlantern/flashlight/client
warning: no packages being tested depend on github.com/getlantern/flashlight/config
warning: no packages being tested depend on github.com/getlantern/flashlight/logging
warning: no packages being tested depend on github.com/getlantern/flashlight/proxied
warning: no packages being tested depend on github.com/getlantern/flashlight/util
warning: no packages being tested depend on github.com/getlantern/fronted
warning: no packages being tested depend on github.com/getlantern/geolookup
warning: no packages being tested depend on github.com/getlantern/golog
warning: no packages being tested depend on github.com/getlantern/hex
warning: no packages being tested depend on github.com/getlantern/hidden
warning: no packages being tested depend on github.com/getlantern/idletiming
warning: no packages being tested depend on github.com/getlantern/keyman
warning: no packages being tested depend on github.com/getlantern/lantern
warning: no packages being tested depend on github.com/getlantern/measured
warning: no packages being tested depend on github.com/getlantern/netx
warning: no packages being tested depend on github.com/getlantern/ops
warning: no packages being tested depend on github.com/getlantern/osversion
warning: no packages being tested depend on github.com/getlantern/pathreflect
warning: no packages being tested depend on github.com/getlantern/proxiedsites
warning: no packages being tested depend on github.com/getlantern/rotator
warning: no packages being tested depend on github.com/getlantern/stack
warning: no packages being tested depend on github.com/getlantern/tarfs
warning: no packages being tested depend on github.com/getlantern/tlsdefaults
warning: no packages being tested depend on github.com/getlantern/tlsdialer
warning: no packages being tested depend on github.com/getlantern/waitforserver
warning: no packages being tested depend on github.com/getlantern/wfilter
warning: no packages being tested depend on github.com/getlantern/withtimeout
May 17 18:57:42.571 - 0m0s DEBUG flashlight: flashlight.go:66 ****************************** Package Version: 9999.99.99
May 17 18:57:42.573 - 0m0s DEBUG flashlight.util: hash.go:22 Hashing file at path /tmp/go-build452222966/github.com/getlantern/appdir/_test/appdir.test
May 17 18:57:42.711 - 0m0s DEBUG flashlight.ui: ui.go:56 Creating tarfs filesystem that prefers local resources at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 18:57:42.711 - 0m0s DEBUG tarfs: tarfs.go:62 Using local filesystem at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 18:57:42.728 - 0m0s DEBUG flashlight: settings.go:60 Loading settings
May 17 18:57:42.728 - 0m0s DEBUG flashlight: settings.go:71 Could not read file open /home/travis/.lantern/settings.yaml: no such file or directory
May 17 18:57:42.729 - 0m0s DEBUG flashlight.ui: service.go:132 Accepting websocket connections at: /data
May 17 18:57:42.729 - 0m0s DEBUG flashlight: settings.go:120 Sending Lantern settings to new client
May 17 18:57:42.732 - 0m0s DEBUG flashlight: settings.go:132 Reading settings messages!!
=== RUN   TestDisplayPaths
2019/05/17 18:57:42 /home/travis/.myapp
2019/05/17 18:57:42 /home/travis/.myapp/logs
--- PASS: TestDisplayPaths (0.00s)
PASS
coverage: 6.0% of statements in github.com/getlantern/fdcount, github.com/getlantern/appdir, github.com/getlantern/balancer, github.com/getlantern/bandwidth, github.com/getlantern/borda/client, github.com/getlantern/buuid, github.com/getlantern/bytecounting, github.com/getlantern/byteexec, github.com/getlantern/chained, github.com/getlantern/checkfallbacks, github.com/getlantern/connpool, github.com/getlantern/context, github.com/getlantern/deepcopy, github.com/getlantern/detour, github.com/getlantern/errors, github.com/getlantern/eventual, github.com/getlantern/flashlight, github.com/getlantern/flashlight/app, github.com/getlantern/flashlight/client, github.com/getlantern/flashlight/config, github.com/getlantern/flashlight/logging, github.com/getlantern/flashlight/proxied, github.com/getlantern/flashlight/util, github.com/getlantern/fronted, github.com/getlantern/geolookup, github.com/getlantern/golog, github.com/getlantern/hex, github.com/getlantern/hidden, github.com/getlantern/idletiming, github.com/getlantern/keyman, github.com/getlantern/lantern, github.com/getlantern/measured, github.com/getlantern/netx, github.com/getlantern/ops, github.com/getlantern/osversion, github.com/getlantern/pathreflect, github.com/getlantern/proxiedsites, github.com/getlantern/rotator, github.com/getlantern/stack, github.com/getlantern/tarfs, github.com/getlantern/tlsdefaults, github.com/getlantern/tlsdialer, github.com/getlantern/waitforserver, github.com/getlantern/wfilter, github.com/getlantern/withtimeout
ok  	github.com/getlantern/appdir	1.289s
warning: no packages being tested depend on github.com/getlantern/fdcount
warning: no packages being tested depend on github.com/getlantern/appdir
warning: no packages being tested depend on github.com/getlantern/bandwidth
warning: no packages being tested depend on github.com/getlantern/borda/client
warning: no packages being tested depend on github.com/getlantern/buuid
warning: no packages being tested depend on github.com/getlantern/bytecounting
warning: no packages being tested depend on github.com/getlantern/byteexec
warning: no packages being tested depend on github.com/getlantern/chained
warning: no packages being tested depend on github.com/getlantern/checkfallbacks
warning: no packages being tested depend on github.com/getlantern/connpool
warning: no packages being tested depend on github.com/getlantern/deepcopy
warning: no packages being tested depend on github.com/getlantern/detour
warning: no packages being tested depend on github.com/getlantern/eventual
warning: no packages being tested depend on github.com/getlantern/flashlight
warning: no packages being tested depend on github.com/getlantern/flashlight/app
warning: no packages being tested depend on github.com/getlantern/flashlight/client
warning: no packages being tested depend on github.com/getlantern/flashlight/config
warning: no packages being tested depend on github.com/getlantern/flashlight/logging
warning: no packages being tested depend on github.com/getlantern/flashlight/proxied
warning: no packages being tested depend on github.com/getlantern/flashlight/util
warning: no packages being tested depend on github.com/getlantern/fronted
warning: no packages being tested depend on github.com/getlantern/geolookup
warning: no packages being tested depend on github.com/getlantern/idletiming
warning: no packages being tested depend on github.com/getlantern/keyman
warning: no packages being tested depend on github.com/getlantern/lantern
warning: no packages being tested depend on github.com/getlantern/measured
warning: no packages being tested depend on github.com/getlantern/netx
warning: no packages being tested depend on github.com/getlantern/osversion
warning: no packages being tested depend on github.com/getlantern/pathreflect
warning: no packages being tested depend on github.com/getlantern/proxiedsites
warning: no packages being tested depend on github.com/getlantern/rotator
warning: no packages being tested depend on github.com/getlantern/tarfs
warning: no packages being tested depend on github.com/getlantern/tlsdefaults
warning: no packages being tested depend on github.com/getlantern/tlsdialer
warning: no packages being tested depend on github.com/getlantern/waitforserver
warning: no packages being tested depend on github.com/getlantern/wfilter
warning: no packages being tested depend on github.com/getlantern/withtimeout
May 17 18:58:25.079 - 0m0s DEBUG flashlight: flashlight.go:66 ****************************** Package Version: 9999.99.99
May 17 18:58:25.080 - 0m0s DEBUG flashlight.util: hash.go:22 Hashing file at path /tmp/go-build156207354/github.com/getlantern/balancer/_test/balancer.test
May 17 18:58:25.221 - 0m0s DEBUG flashlight.ui: ui.go:56 Creating tarfs filesystem that prefers local resources at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 18:58:25.221 - 0m0s DEBUG tarfs: tarfs.go:62 Using local filesystem at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 18:58:25.238 - 0m0s DEBUG flashlight: settings.go:60 Loading settings
May 17 18:58:25.238 - 0m0s DEBUG flashlight: settings.go:71 Could not read file open /home/travis/.lantern/settings.yaml: no such file or directory
May 17 18:58:25.239 - 0m0s DEBUG flashlight.ui: service.go:132 Accepting websocket connections at: /data
May 17 18:58:25.241 - 0m0s DEBUG flashlight: settings.go:120 Sending Lantern settings to new client
May 17 18:58:25.244 - 0m0s DEBUG flashlight: settings.go:132 Reading settings messages!!
=== RUN   TestNoDialers
May 17 18:58:25.248 - 0m0s DEBUG balancer: balancer.go:102 Balancer idle for 432810h58m25.24858263s, start checking all dialers
--- PASS: TestNoDialers (0.00s)
=== RUN   TestSingleDialer
May 17 18:58:25.252 - 0m0s DEBUG balancer: balancer.go:102 Balancer idle for 432810h58m25.252217503s, start checking all dialers
May 17 18:58:25.256 - 0m0s ERROR balancer: dialer.go:190 No check function provided for dialer Dialer 1 [error=No check function provided for dialer %s error_location=github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190) error_text=No check function provided for dialer Dialer 1 error_type=errors.Error]
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).(github.com/getlantern/balancer.defaultCheck)-fm (dialer.go:72)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).check (dialer.go:102)
ERROR balancer: dialer.go:190   at runtime.goexit (asm_amd64.s:1998)
--- PASS: TestSingleDialer (0.27s)
=== RUN   TestRetryOnBadDialer
May 17 18:58:25.535 - 0m0s DEBUG balancer: balancer.go:102 Balancer idle for 432810h58m25.535606424s, start checking all dialers
May 17 18:58:25.537 - 0m0s DEBUG balancer: dialer.go:181 Will recheck Dialer 1 132.444389ms later because it failed for 1 times
May 17 18:58:25.539 - 0m0s ERROR balancer: balancer.go:136 Unable to dial via Dialer 1 to tcp://127.0.0.1:36729: Failing intentionally on pass 0...continuing [error=Unable to dial via %v to %s://%s: %v on pass %v...continuing error_location=github.com/getlantern/balancer.(*Balancer).Dial (balancer.go:136) error_op= error_text=Unable to dial via Dialer 1 to tcp://127.0.0.1:36729: Failing intentionally on pass 0...continuing error_type=errors.Error]
ERROR balancer: balancer.go:136   at github.com/getlantern/balancer.(*Balancer).Dial (balancer.go:136)
ERROR balancer: balancer.go:136   at github.com/getlantern/balancer.TestRetryOnBadDialer (balancer_test.go:70)
ERROR balancer: balancer.go:136   at testing.tRunner (testing.go:473)
ERROR balancer: balancer.go:136   at runtime.goexit (asm_amd64.s:1998)
ERROR balancer: balancer.go:136 Caused by: Failing intentionally
May 17 18:58:25.552 - 0m0s DEBUG balancer: balancer.go:127 Skip dialing tcp://127.0.0.1:36729 with same dailer Dialer 1
May 17 18:58:25.552 - 0m0s DEBUG balancer: balancer.go:127 Skip dialing tcp://127.0.0.1:36729 with same dailer Dialer 1
May 17 18:58:25.553 - 0m0s DEBUG balancer: dialer.go:181 Will recheck Dialer 1 66.635975ms later because it failed for 1 times
May 17 18:58:25.553 - 0m0s ERROR balancer: balancer.go:136 Unable to dial via Dialer 1 to tcp://127.0.0.1:36729: Failing intentionally on pass 0...continuing [error=Unable to dial via %v to %s://%s: %v on pass %v...continuing error_location=github.com/getlantern/balancer.(*Balancer).Dial (balancer.go:136) error_op= error_text=Unable to dial via Dialer 1 to tcp://127.0.0.1:36729: Failing intentionally on pass 0...continuing error_type=errors.Error]
ERROR balancer: balancer.go:136   at github.com/getlantern/balancer.(*Balancer).Dial (balancer.go:136)
ERROR balancer: balancer.go:136   at github.com/getlantern/balancer.TestRetryOnBadDialer (balancer_test.go:75)
ERROR balancer: balancer.go:136   at testing.tRunner (testing.go:473)
ERROR balancer: balancer.go:136   at runtime.goexit (asm_amd64.s:1998)
ERROR balancer: balancer.go:136 Caused by: Failing intentionally
May 17 18:58:25.553 - 0m0s DEBUG balancer: dialer.go:181 Will recheck Dialer 2 131.298386ms later because it failed for 1 times
May 17 18:58:25.554 - 0m0s ERROR balancer: balancer.go:136 Unable to dial via Dialer 2 to tcp://127.0.0.1:36729: Failing intentionally on pass 1...continuing [error=Unable to dial via %v to %s://%s: %v on pass %v...continuing error_location=github.com/getlantern/balancer.(*Balancer).Dial (balancer.go:136) error_op= error_text=Unable to dial via Dialer 2 to tcp://127.0.0.1:36729: Failing intentionally on pass 1...continuing error_type=errors.Error]
ERROR balancer: balancer.go:136   at github.com/getlantern/balancer.(*Balancer).Dial (balancer.go:136)
ERROR balancer: balancer.go:136   at github.com/getlantern/balancer.TestRetryOnBadDialer (balancer_test.go:75)
ERROR balancer: balancer.go:136   at testing.tRunner (testing.go:473)
ERROR balancer: balancer.go:136   at runtime.goexit (asm_amd64.s:1998)
ERROR balancer: balancer.go:136 Caused by: Failing intentionally
May 17 18:58:25.554 - 0m0s DEBUG balancer: balancer.go:127 Skip dialing tcp://127.0.0.1:36729 with same dailer Dialer 2
--- PASS: TestRetryOnBadDialer (0.02s)
=== RUN   TestRandomDialer
May 17 18:58:25.561 - 0m0s DEBUG balancer: balancer.go:102 Balancer idle for 432810h58m25.56091568s, start checking all dialers
May 17 18:58:25.564 - 0m0s ERROR balancer: dialer.go:190 No check function provided for dialer Dialer 1 [error=No check function provided for dialer %s error_location=github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190) error_text=No check function provided for dialer Dialer 1 error_type=errors.Error]
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).(github.com/getlantern/balancer.defaultCheck)-fm (dialer.go:72)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).check (dialer.go:102)
ERROR balancer: dialer.go:190   at runtime.goexit (asm_amd64.s:1998)
May 17 18:58:25.575 - 0m0s ERROR balancer: dialer.go:190 No check function provided for dialer Dialer 3 [error=No check function provided for dialer %s error_location=github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190) error_text=No check function provided for dialer Dialer 3 error_type=errors.Error]
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).(github.com/getlantern/balancer.defaultCheck)-fm (dialer.go:72)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).check (dialer.go:102)
ERROR balancer: dialer.go:190   at runtime.goexit (asm_amd64.s:1998)
May 17 18:58:25.579 - 0m0s ERROR balancer: dialer.go:190 No check function provided for dialer Dialer 2 [error=No check function provided for dialer %s error_location=github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190) error_text=No check function provided for dialer Dialer 2 error_type=errors.Error]
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).(github.com/getlantern/balancer.defaultCheck)-fm (dialer.go:72)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).check (dialer.go:102)
ERROR balancer: dialer.go:190   at runtime.goexit (asm_amd64.s:1998)
May 17 18:58:25.581 - 0m0s ERROR balancer: dialer.go:190 No check function provided for dialer Dialer 1 [error=No check function provided for dialer %s error_location=github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190) error_text=No check function provided for dialer Dialer 1 error_type=errors.Error]
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).(github.com/getlantern/balancer.defaultCheck)-fm (dialer.go:72)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).check (dialer.go:102)
ERROR balancer: dialer.go:190   at runtime.goexit (asm_amd64.s:1998)
May 17 18:58:25.635 - 0m0s ERROR balancer: dialer.go:190 No check function provided for dialer Dialer 1 [error=No check function provided for dialer %s error_location=github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190) error_text=No check function provided for dialer Dialer 1 error_type=errors.Error]
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).(github.com/getlantern/balancer.defaultCheck)-fm (dialer.go:72)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).check (dialer.go:102)
ERROR balancer: dialer.go:190   at runtime.goexit (asm_amd64.s:1998)
May 17 18:58:25.688 - 0m0s ERROR balancer: dialer.go:190 No check function provided for dialer Dialer 2 [error=No check function provided for dialer %s error_location=github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190) error_text=No check function provided for dialer Dialer 2 error_type=errors.Error]
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).(github.com/getlantern/balancer.defaultCheck)-fm (dialer.go:72)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).check (dialer.go:102)
ERROR balancer: dialer.go:190   at runtime.goexit (asm_amd64.s:1998)
--- PASS: TestRandomDialer (3.67s)
=== RUN   TestSuccessWithCondDialer
May 17 18:58:29.254 - 0m4s DEBUG balancer: balancer.go:102 Balancer idle for 432810h58m29.254316896s, start checking all dialers
May 17 18:58:29.284 - 0m4s ERROR balancer: dialer.go:190 No check function provided for dialer Dialer 1 [error=No check function provided for dialer %s error_location=github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190) error_text=No check function provided for dialer Dialer 1 error_type=errors.Error]
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).(github.com/getlantern/balancer.defaultCheck)-fm (dialer.go:72)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).check (dialer.go:102)
ERROR balancer: dialer.go:190   at runtime.goexit (asm_amd64.s:1998)
May 17 18:58:29.285 - 0m4s ERROR balancer: dialer.go:190 No check function provided for dialer Dialer 3 [error=No check function provided for dialer %s error_location=github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190) error_text=No check function provided for dialer Dialer 3 error_type=errors.Error]
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).(github.com/getlantern/balancer.defaultCheck)-fm (dialer.go:72)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).check (dialer.go:102)
ERROR balancer: dialer.go:190   at runtime.goexit (asm_amd64.s:1998)
May 17 18:58:29.334 - 0m4s DEBUG balancer: dialer.go:181 Will recheck Dialer 1 78.56265ms later because it failed for 1 times
May 17 18:58:29.335 - 0m4s ERROR balancer: balancer.go:136 Unable to dial via Dialer 1 to tcp://127.0.0.1:37736: Failing intentionally on pass 0...continuing [error=Unable to dial via %v to %s://%s: %v on pass %v...continuing error_location=github.com/getlantern/balancer.(*Balancer).Dial (balancer.go:136) error_op= error_text=Unable to dial via Dialer 1 to tcp://127.0.0.1:37736: Failing intentionally on pass 0...continuing error_type=errors.Error]
ERROR balancer: balancer.go:136   at github.com/getlantern/balancer.(*Balancer).Dial (balancer.go:136)
ERROR balancer: balancer.go:136   at github.com/getlantern/balancer.TestSuccessWithCondDialer (balancer_test.go:125)
ERROR balancer: balancer.go:136   at testing.tRunner (testing.go:473)
ERROR balancer: balancer.go:136   at runtime.goexit (asm_amd64.s:1998)
ERROR balancer: balancer.go:136 Caused by: Failing intentionally
May 17 18:58:29.340 - 0m4s ERROR balancer: dialer.go:190 No check function provided for dialer Dialer 2 [error=No check function provided for dialer %s error_location=github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190) error_text=No check function provided for dialer Dialer 2 error_type=errors.Error]
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).(github.com/getlantern/balancer.defaultCheck)-fm (dialer.go:72)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).check (dialer.go:102)
ERROR balancer: dialer.go:190   at runtime.goexit (asm_amd64.s:1998)
--- PASS: TestSuccessWithCondDialer (0.16s)
=== RUN   TestRecheck
May 17 18:58:29.400 - 0m4s DEBUG balancer: balancer.go:102 Balancer idle for 432810h58m29.400654742s, start checking all dialers
May 17 18:58:29.422 - 0m4s DEBUG balancer: dialer.go:181 Will recheck Dialer 1 143.594064ms later because it failed for 1 times
May 17 18:58:29.424 - 0m4s ERROR balancer: balancer.go:136 Unable to dial via Dialer 1 to tcp://127.0.0.1:33110: Failing intentionally on pass 0...continuing [error=Unable to dial via %v to %s://%s: %v on pass %v...continuing error_location=github.com/getlantern/balancer.(*Balancer).Dial (balancer.go:136) error_op= error_text=Unable to dial via Dialer 1 to tcp://127.0.0.1:33110: Failing intentionally on pass 0...continuing error_type=errors.Error]
ERROR balancer: balancer.go:136   at github.com/getlantern/balancer.(*Balancer).Dial (balancer.go:136)
ERROR balancer: balancer.go:136   at github.com/getlantern/balancer.TestRecheck (balancer_test.go:138)
ERROR balancer: balancer.go:136   at testing.tRunner (testing.go:473)
ERROR balancer: balancer.go:136   at runtime.goexit (asm_amd64.s:1998)
ERROR balancer: balancer.go:136 Caused by: Failing intentionally
May 17 18:58:29.438 - 0m4s ERROR balancer: dialer.go:190 No check function provided for dialer Dialer 1 [error=No check function provided for dialer %s error_location=github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190) error_text=No check function provided for dialer Dialer 1 error_type=errors.Error]
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).(github.com/getlantern/balancer.defaultCheck)-fm (dialer.go:72)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).check (dialer.go:102)
ERROR balancer: dialer.go:190   at runtime.goexit (asm_amd64.s:1998)
May 17 18:58:29.442 - 0m4s ERROR balancer: dialer.go:190 No check function provided for dialer Dialer 1 [error=No check function provided for dialer %s error_location=github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190) error_text=No check function provided for dialer Dialer 1 error_type=errors.Error]
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).(github.com/getlantern/balancer.defaultCheck)-fm (dialer.go:72)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).check (dialer.go:102)
ERROR balancer: dialer.go:190   at runtime.goexit (asm_amd64.s:1998)
--- PASS: TestRecheck (0.11s)
=== RUN   TestTrusted
May 17 18:58:29.546 - 0m4s DEBUG balancer: balancer.go:102 Balancer idle for 432810h58m29.546248919s, start checking all dialers
May 17 18:58:29.548 - 0m4s DEBUG balancer: balancer.go:102 Balancer idle for 432810h58m29.548081519s, start checking all dialers
May 17 18:58:29.549 - 0m4s DEBUG balancer: balancer.go:102 Balancer idle for 432810h58m29.549567416s, start checking all dialers
May 17 18:58:29.551 - 0m4s DEBUG balancer: balancer.go:102 Balancer idle for 432810h58m29.551233059s, start checking all dialers
--- PASS: TestTrusted (0.01s)
=== RUN   TestCheck
May 17 18:58:29.553 - 0m4s DEBUG balancer: balancer.go:102 Balancer idle for 432810h58m29.553452313s, start checking all dialers
May 17 18:58:29.558 - 0m4s DEBUG balancer: balancer_test.go:192 Check() called 1 times
May 17 18:58:29.579 - 0m4s ERROR balancer: dialer.go:190 No check function provided for dialer  [error=No check function provided for dialer %s error_location=github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190) error_text=No check function provided for dialer  error_type=errors.Error]
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).(github.com/getlantern/balancer.defaultCheck)-fm (dialer.go:72)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).check (dialer.go:102)
ERROR balancer: dialer.go:190   at runtime.goexit (asm_amd64.s:1998)
May 17 18:58:29.608 - 0m4s ERROR balancer: dialer.go:190 No check function provided for dialer  [error=No check function provided for dialer %s error_location=github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190) error_text=No check function provided for dialer  error_type=errors.Error]
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).(github.com/getlantern/balancer.defaultCheck)-fm (dialer.go:72)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).check (dialer.go:102)
ERROR balancer: dialer.go:190   at runtime.goexit (asm_amd64.s:1998)
May 17 18:58:29.655 - 0m4s ERROR balancer: dialer.go:190 No check function provided for dialer  [error=No check function provided for dialer %s error_location=github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190) error_text=No check function provided for dialer  error_type=errors.Error]
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).(github.com/getlantern/balancer.defaultCheck)-fm (dialer.go:72)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).check (dialer.go:102)
ERROR balancer: dialer.go:190   at runtime.goexit (asm_amd64.s:1998)
May 17 18:58:29.661 - 0m4s ERROR balancer: dialer.go:190 No check function provided for dialer Dialer 1 [error=No check function provided for dialer %s error_location=github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190) error_text=No check function provided for dialer Dialer 1 error_type=errors.Error]
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).(github.com/getlantern/balancer.defaultCheck)-fm (dialer.go:72)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).check (dialer.go:102)
ERROR balancer: dialer.go:190   at runtime.goexit (asm_amd64.s:1998)
May 17 18:58:29.662 - 0m4s ERROR balancer: dialer.go:190 No check function provided for dialer  [error=No check function provided for dialer %s error_location=github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190) error_text=No check function provided for dialer  error_type=errors.Error]
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).(github.com/getlantern/balancer.defaultCheck)-fm (dialer.go:72)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).check (dialer.go:102)
ERROR balancer: dialer.go:190   at runtime.goexit (asm_amd64.s:1998)
May 17 18:58:29.811 - 0m4s DEBUG balancer: balancer.go:102 Balancer idle for 225.156303ms, start checking all dialers
May 17 18:58:29.813 - 0m4s DEBUG balancer: balancer_test.go:192 Check() called 2 times
May 17 18:58:29.822 - 0m4s DEBUG balancer: dialer.go:181 Will recheck  131.219609ms later because it failed for 1 times
May 17 18:58:29.824 - 0m4s ERROR balancer: balancer.go:136 Unable to dial via  to tcp://check-failed-dialer:80: fail intentionally on pass 0...continuing [error=Unable to dial via %v to %s://%s: %v on pass %v...continuing error_location=github.com/getlantern/balancer.(*Balancer).Dial (balancer.go:136) error_op= error_text=Unable to dial via  to tcp://check-failed-dialer:80: fail intentionally on pass 0...continuing error_type=errors.Error]
ERROR balancer: balancer.go:136   at github.com/getlantern/balancer.(*Balancer).Dial (balancer.go:136)
ERROR balancer: balancer.go:136   at github.com/getlantern/balancer.TestCheck (balancer_test.go:220)
ERROR balancer: balancer.go:136   at testing.tRunner (testing.go:473)
ERROR balancer: balancer.go:136   at runtime.goexit (asm_amd64.s:1998)
ERROR balancer: balancer.go:136 Caused by: fail intentionally
May 17 18:58:29.824 - 0m4s DEBUG balancer: balancer.go:127 Skip dialing tcp://check-failed-dialer:80 with same dailer 
May 17 18:58:29.824 - 0m4s DEBUG balancer: balancer.go:127 Skip dialing tcp://check-failed-dialer:80 with same dailer 
May 17 18:58:29.961 - 0m4s DEBUG balancer: balancer_test.go:192 Check() called 3 times
--- PASS: TestCheck (0.41s)
=== RUN   TestResetDailers
May 17 18:58:29.969 - 0m4s DEBUG balancer: balancer.go:102 Balancer idle for 432810h58m29.969104452s, start checking all dialers
May 17 18:58:29.975 - 0m4s ERROR balancer: dialer.go:190 No check function provided for dialer Dialer 1 [error=No check function provided for dialer %s error_location=github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190) error_text=No check function provided for dialer Dialer 1 error_type=errors.Error]
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).defaultCheck (dialer.go:190)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).(github.com/getlantern/balancer.defaultCheck)-fm (dialer.go:72)
ERROR balancer: dialer.go:190   at github.com/getlantern/balancer.(*dialer).check (dialer.go:102)
ERROR balancer: dialer.go:190   at runtime.goexit (asm_amd64.s:1998)
May 17 18:58:29.994 - 0m4s DEBUG balancer: dialer.go:181 Will recheck Dialer 1 54.687162ms later because it failed for 1 times
May 17 18:58:29.995 - 0m4s ERROR balancer: balancer.go:136 Unable to dial via Dialer 1 to tcp://127.0.0.1:45391: Failing intentionally on pass 0...continuing [error=Unable to dial via %v to %s://%s: %v on pass %v...continuing error_location=github.com/getlantern/balancer.(*Balancer).Dial (balancer.go:136) error_op= error_text=Unable to dial via Dialer 1 to tcp://127.0.0.1:45391: Failing intentionally on pass 0...continuing error_type=errors.Error]
ERROR balancer: balancer.go:136   at github.com/getlantern/balancer.(*Balancer).Dial (balancer.go:136)
ERROR balancer: balancer.go:136   at github.com/getlantern/balancer.TestResetDailers (balancer_test.go:249)
ERROR balancer: balancer.go:136   at testing.tRunner (testing.go:473)
ERROR balancer: balancer.go:136   at runtime.goexit (asm_amd64.s:1998)
ERROR balancer: balancer.go:136 Caused by: Failing intentionally
--- PASS: TestResetDailers (0.04s)
=== RUN   TestStickyStrategy
--- PASS: TestStickyStrategy (0.00s)
=== RUN   TestFastestStrategy
--- PASS: TestFastestStrategy (0.00s)
=== RUN   TestQualityFirstStrategy
--- PASS: TestQualityFirstStrategy (0.00s)
=== RUN   TestWeightedStrategy
May 17 18:58:30.101 - 0m5s ERROR balancer: strategy.go:65 Using the Weighted balancer strategy.  This strategy is incomplete and may not work as expected.
May 17 18:58:30.144 - 0m5s ERROR balancer: strategy.go:65 Using the Weighted balancer strategy.  This strategy is incomplete and may not work as expected.
May 17 18:58:30.166 - 0m5s ERROR balancer: strategy.go:65 Using the Weighted balancer strategy.  This strategy is incomplete and may not work as expected.
May 17 18:58:30.177 - 0m5s ERROR balancer: strategy.go:65 Using the Weighted balancer strategy.  This strategy is incomplete and may not work as expected.
--- PASS: TestWeightedStrategy (0.10s)
PASS
coverage: 13.1% of statements in github.com/getlantern/fdcount, github.com/getlantern/appdir, github.com/getlantern/balancer, github.com/getlantern/bandwidth, github.com/getlantern/borda/client, github.com/getlantern/buuid, github.com/getlantern/bytecounting, github.com/getlantern/byteexec, github.com/getlantern/chained, github.com/getlantern/checkfallbacks, github.com/getlantern/connpool, github.com/getlantern/context, github.com/getlantern/deepcopy, github.com/getlantern/detour, github.com/getlantern/errors, github.com/getlantern/eventual, github.com/getlantern/flashlight, github.com/getlantern/flashlight/app, github.com/getlantern/flashlight/client, github.com/getlantern/flashlight/config, github.com/getlantern/flashlight/logging, github.com/getlantern/flashlight/proxied, github.com/getlantern/flashlight/util, github.com/getlantern/fronted, github.com/getlantern/geolookup, github.com/getlantern/golog, github.com/getlantern/hex, github.com/getlantern/hidden, github.com/getlantern/idletiming, github.com/getlantern/keyman, github.com/getlantern/lantern, github.com/getlantern/measured, github.com/getlantern/netx, github.com/getlantern/ops, github.com/getlantern/osversion, github.com/getlantern/pathreflect, github.com/getlantern/proxiedsites, github.com/getlantern/rotator, github.com/getlantern/stack, github.com/getlantern/tarfs, github.com/getlantern/tlsdefaults, github.com/getlantern/tlsdialer, github.com/getlantern/waitforserver, github.com/getlantern/wfilter, github.com/getlantern/withtimeout
ok  	github.com/getlantern/balancer	6.331s
warning: no packages being tested depend on github.com/getlantern/fdcount
warning: no packages being tested depend on github.com/getlantern/appdir
warning: no packages being tested depend on github.com/getlantern/balancer
warning: no packages being tested depend on github.com/getlantern/borda/client
warning: no packages being tested depend on github.com/getlantern/buuid
warning: no packages being tested depend on github.com/getlantern/bytecounting
warning: no packages being tested depend on github.com/getlantern/byteexec
warning: no packages being tested depend on github.com/getlantern/chained
warning: no packages being tested depend on github.com/getlantern/checkfallbacks
warning: no packages being tested depend on github.com/getlantern/connpool
warning: no packages being tested depend on github.com/getlantern/deepcopy
warning: no packages being tested depend on github.com/getlantern/detour
warning: no packages being tested depend on github.com/getlantern/eventual
warning: no packages being tested depend on github.com/getlantern/flashlight
warning: no packages being tested depend on github.com/getlantern/flashlight/app
warning: no packages being tested depend on github.com/getlantern/flashlight/client
warning: no packages being tested depend on github.com/getlantern/flashlight/config
warning: no packages being tested depend on github.com/getlantern/flashlight/logging
warning: no packages being tested depend on github.com/getlantern/flashlight/proxied
warning: no packages being tested depend on github.com/getlantern/flashlight/util
warning: no packages being tested depend on github.com/getlantern/fronted
warning: no packages being tested depend on github.com/getlantern/geolookup
warning: no packages being tested depend on github.com/getlantern/idletiming
warning: no packages being tested depend on github.com/getlantern/keyman
warning: no packages being tested depend on github.com/getlantern/lantern
warning: no packages being tested depend on github.com/getlantern/measured
warning: no packages being tested depend on github.com/getlantern/netx
warning: no packages being tested depend on github.com/getlantern/osversion
warning: no packages being tested depend on github.com/getlantern/pathreflect
warning: no packages being tested depend on github.com/getlantern/proxiedsites
warning: no packages being tested depend on github.com/getlantern/rotator
warning: no packages being tested depend on github.com/getlantern/tarfs
warning: no packages being tested depend on github.com/getlantern/tlsdefaults
warning: no packages being tested depend on github.com/getlantern/tlsdialer
warning: no packages being tested depend on github.com/getlantern/waitforserver
warning: no packages being tested depend on github.com/getlantern/wfilter
warning: no packages being tested depend on github.com/getlantern/withtimeout
May 17 18:59:11.898 - 0m0s DEBUG flashlight: flashlight.go:66 ****************************** Package Version: 9999.99.99
May 17 18:59:11.898 - 0m0s DEBUG flashlight.util: hash.go:22 Hashing file at path /tmp/go-build664917984/github.com/getlantern/bandwidth/_test/bandwidth.test
May 17 18:59:12.034 - 0m0s DEBUG flashlight.ui: ui.go:56 Creating tarfs filesystem that prefers local resources at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 18:59:12.034 - 0m0s DEBUG tarfs: tarfs.go:62 Using local filesystem at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 18:59:12.052 - 0m0s DEBUG flashlight: settings.go:60 Loading settings
May 17 18:59:12.052 - 0m0s DEBUG flashlight: settings.go:71 Could not read file open /home/travis/.lantern/settings.yaml: no such file or directory
May 17 18:59:12.053 - 0m0s DEBUG flashlight.ui: service.go:132 Accepting websocket connections at: /data
May 17 18:59:12.053 - 0m0s DEBUG flashlight: settings.go:120 Sending Lantern settings to new client
May 17 18:59:12.054 - 0m0s DEBUG flashlight: settings.go:132 Reading settings messages!!
=== RUN   TestRoundTrip
--- PASS: TestRoundTrip (0.05s)
PASS
coverage: 6.9% of statements in github.com/getlantern/fdcount, github.com/getlantern/appdir, github.com/getlantern/balancer, github.com/getlantern/bandwidth, github.com/getlantern/borda/client, github.com/getlantern/buuid, github.com/getlantern/bytecounting, github.com/getlantern/byteexec, github.com/getlantern/chained, github.com/getlantern/checkfallbacks, github.com/getlantern/connpool, github.com/getlantern/context, github.com/getlantern/deepcopy, github.com/getlantern/detour, github.com/getlantern/errors, github.com/getlantern/eventual, github.com/getlantern/flashlight, github.com/getlantern/flashlight/app, github.com/getlantern/flashlight/client, github.com/getlantern/flashlight/config, github.com/getlantern/flashlight/logging, github.com/getlantern/flashlight/proxied, github.com/getlantern/flashlight/util, github.com/getlantern/fronted, github.com/getlantern/geolookup, github.com/getlantern/golog, github.com/getlantern/hex, github.com/getlantern/hidden, github.com/getlantern/idletiming, github.com/getlantern/keyman, github.com/getlantern/lantern, github.com/getlantern/measured, github.com/getlantern/netx, github.com/getlantern/ops, github.com/getlantern/osversion, github.com/getlantern/pathreflect, github.com/getlantern/proxiedsites, github.com/getlantern/rotator, github.com/getlantern/stack, github.com/getlantern/tarfs, github.com/getlantern/tlsdefaults, github.com/getlantern/tlsdialer, github.com/getlantern/waitforserver, github.com/getlantern/wfilter, github.com/getlantern/withtimeout
ok  	github.com/getlantern/bandwidth	1.330s
warning: no packages being tested depend on github.com/getlantern/fdcount
warning: no packages being tested depend on github.com/getlantern/appdir
warning: no packages being tested depend on github.com/getlantern/balancer
warning: no packages being tested depend on github.com/getlantern/bandwidth
warning: no packages being tested depend on github.com/getlantern/buuid
warning: no packages being tested depend on github.com/getlantern/bytecounting
warning: no packages being tested depend on github.com/getlantern/byteexec
warning: no packages being tested depend on github.com/getlantern/chained
warning: no packages being tested depend on github.com/getlantern/checkfallbacks
warning: no packages being tested depend on github.com/getlantern/connpool
warning: no packages being tested depend on github.com/getlantern/deepcopy
warning: no packages being tested depend on github.com/getlantern/detour
warning: no packages being tested depend on github.com/getlantern/eventual
warning: no packages being tested depend on github.com/getlantern/flashlight
warning: no packages being tested depend on github.com/getlantern/flashlight/app
warning: no packages being tested depend on github.com/getlantern/flashlight/client
warning: no packages being tested depend on github.com/getlantern/flashlight/config
warning: no packages being tested depend on github.com/getlantern/flashlight/logging
warning: no packages being tested depend on github.com/getlantern/flashlight/proxied
warning: no packages being tested depend on github.com/getlantern/flashlight/util
warning: no packages being tested depend on github.com/getlantern/fronted
warning: no packages being tested depend on github.com/getlantern/geolookup
warning: no packages being tested depend on github.com/getlantern/idletiming
warning: no packages being tested depend on github.com/getlantern/keyman
warning: no packages being tested depend on github.com/getlantern/lantern
warning: no packages being tested depend on github.com/getlantern/measured
warning: no packages being tested depend on github.com/getlantern/netx
warning: no packages being tested depend on github.com/getlantern/osversion
warning: no packages being tested depend on github.com/getlantern/pathreflect
warning: no packages being tested depend on github.com/getlantern/proxiedsites
warning: no packages being tested depend on github.com/getlantern/rotator
warning: no packages being tested depend on github.com/getlantern/tarfs
warning: no packages being tested depend on github.com/getlantern/tlsdefaults
warning: no packages being tested depend on github.com/getlantern/tlsdialer
warning: no packages being tested depend on github.com/getlantern/waitforserver
warning: no packages being tested depend on github.com/getlantern/wfilter
warning: no packages being tested depend on github.com/getlantern/withtimeout
May 17 18:59:53.494 - 0m0s DEBUG flashlight: flashlight.go:66 ****************************** Package Version: 9999.99.99
May 17 18:59:53.495 - 0m0s DEBUG flashlight.util: hash.go:22 Hashing file at path /tmp/go-build287401057/github.com/getlantern/borda/client/_test/client.test
May 17 18:59:53.632 - 0m0s DEBUG flashlight.ui: ui.go:56 Creating tarfs filesystem that prefers local resources at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 18:59:53.632 - 0m0s DEBUG tarfs: tarfs.go:62 Using local filesystem at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 18:59:53.651 - 0m0s DEBUG flashlight: settings.go:60 Loading settings
May 17 18:59:53.651 - 0m0s DEBUG flashlight: settings.go:71 Could not read file open /home/travis/.lantern/settings.yaml: no such file or directory
May 17 18:59:53.652 - 0m0s DEBUG flashlight.ui: service.go:132 Accepting websocket connections at: /data
May 17 18:59:53.652 - 0m0s DEBUG flashlight: settings.go:120 Sending Lantern settings to new client
May 17 18:59:53.654 - 0m0s DEBUG flashlight: settings.go:132 Reading settings messages!!
=== RUN   TestBordaClient
May 17 18:59:53.657 - 0m0s DEBUG borda: borda.go:197 Reporting to Borda every 100ms
May 17 18:59:53.757 - 0m0s DEBUG borda: borda.go:236 Attempting to report 3 measurements to Borda
2019/05/17 18:59:53 http: multiple response.WriteHeader calls
May 17 18:59:53.761 - 0m0s ERROR borda: borda.go:244 Borda replied with error 500
May 17 18:59:53.761 - 0m0s DEBUG borda: borda.go:245 Rebuffering 3 measurements
May 17 18:59:53.857 - 0m0s DEBUG borda: borda.go:236 Attempting to report 3 measurements to Borda
May 17 18:59:53.861 - 0m0s DEBUG borda: borda.go:240 Sent 3 measurements
May 17 18:59:53.957 - 0m0s DEBUG borda: borda.go:221 Nothing to report
May 17 18:59:53.959 - 0m0s DEBUG borda: borda.go:236 Attempting to report 1 measurements to Borda
May 17 18:59:53.961 - 0m0s DEBUG borda: borda.go:240 Sent 1 measurements
--- PASS: TestBordaClient (0.31s)
PASS
coverage: 8.5% of statements in github.com/getlantern/fdcount, github.com/getlantern/appdir, github.com/getlantern/balancer, github.com/getlantern/bandwidth, github.com/getlantern/borda/client, github.com/getlantern/buuid, github.com/getlantern/bytecounting, github.com/getlantern/byteexec, github.com/getlantern/chained, github.com/getlantern/checkfallbacks, github.com/getlantern/connpool, github.com/getlantern/context, github.com/getlantern/deepcopy, github.com/getlantern/detour, github.com/getlantern/errors, github.com/getlantern/eventual, github.com/getlantern/flashlight, github.com/getlantern/flashlight/app, github.com/getlantern/flashlight/client, github.com/getlantern/flashlight/config, github.com/getlantern/flashlight/logging, github.com/getlantern/flashlight/proxied, github.com/getlantern/flashlight/util, github.com/getlantern/fronted, github.com/getlantern/geolookup, github.com/getlantern/golog, github.com/getlantern/hex, github.com/getlantern/hidden, github.com/getlantern/idletiming, github.com/getlantern/keyman, github.com/getlantern/lantern, github.com/getlantern/measured, github.com/getlantern/netx, github.com/getlantern/ops, github.com/getlantern/osversion, github.com/getlantern/pathreflect, github.com/getlantern/proxiedsites, github.com/getlantern/rotator, github.com/getlantern/stack, github.com/getlantern/tarfs, github.com/getlantern/tlsdefaults, github.com/getlantern/tlsdialer, github.com/getlantern/waitforserver, github.com/getlantern/wfilter, github.com/getlantern/withtimeout
May 17 18:59:54.057 - 0m0s DEBUG borda: borda.go:221 Nothing to report
May 17 18:59:54.157 - 0m0s DEBUG borda: borda.go:221 Nothing to report
May 17 18:59:54.257 - 0m0s DEBUG borda: borda.go:221 Nothing to report
May 17 18:59:54.357 - 0m0s DEBUG borda: borda.go:221 Nothing to report
May 17 18:59:54.457 - 0m0s DEBUG borda: borda.go:221 Nothing to report
May 17 18:59:54.557 - 0m1s DEBUG borda: borda.go:221 Nothing to report
May 17 18:59:54.657 - 0m1s DEBUG borda: borda.go:221 Nothing to report
May 17 18:59:54.757 - 0m1s DEBUG borda: borda.go:221 Nothing to report
May 17 18:59:54.857 - 0m1s DEBUG borda: borda.go:221 Nothing to report
May 17 18:59:54.957 - 0m1s DEBUG borda: borda.go:221 Nothing to report
ok  	github.com/getlantern/borda/client	1.588s
warning: no packages being tested depend on github.com/getlantern/fdcount
warning: no packages being tested depend on github.com/getlantern/appdir
warning: no packages being tested depend on github.com/getlantern/balancer
warning: no packages being tested depend on github.com/getlantern/bandwidth
warning: no packages being tested depend on github.com/getlantern/borda/client
warning: no packages being tested depend on github.com/getlantern/bytecounting
warning: no packages being tested depend on github.com/getlantern/byteexec
warning: no packages being tested depend on github.com/getlantern/chained
warning: no packages being tested depend on github.com/getlantern/checkfallbacks
warning: no packages being tested depend on github.com/getlantern/connpool
warning: no packages being tested depend on github.com/getlantern/deepcopy
warning: no packages being tested depend on github.com/getlantern/detour
warning: no packages being tested depend on github.com/getlantern/eventual
warning: no packages being tested depend on github.com/getlantern/flashlight
warning: no packages being tested depend on github.com/getlantern/flashlight/app
warning: no packages being tested depend on github.com/getlantern/flashlight/client
warning: no packages being tested depend on github.com/getlantern/flashlight/config
warning: no packages being tested depend on github.com/getlantern/flashlight/logging
warning: no packages being tested depend on github.com/getlantern/flashlight/proxied
warning: no packages being tested depend on github.com/getlantern/flashlight/util
warning: no packages being tested depend on github.com/getlantern/fronted
warning: no packages being tested depend on github.com/getlantern/geolookup
warning: no packages being tested depend on github.com/getlantern/idletiming
warning: no packages being tested depend on github.com/getlantern/keyman
warning: no packages being tested depend on github.com/getlantern/lantern
warning: no packages being tested depend on github.com/getlantern/measured
warning: no packages being tested depend on github.com/getlantern/netx
warning: no packages being tested depend on github.com/getlantern/osversion
warning: no packages being tested depend on github.com/getlantern/pathreflect
warning: no packages being tested depend on github.com/getlantern/proxiedsites
warning: no packages being tested depend on github.com/getlantern/rotator
warning: no packages being tested depend on github.com/getlantern/tarfs
warning: no packages being tested depend on github.com/getlantern/tlsdefaults
warning: no packages being tested depend on github.com/getlantern/tlsdialer
warning: no packages being tested depend on github.com/getlantern/waitforserver
warning: no packages being tested depend on github.com/getlantern/wfilter
warning: no packages being tested depend on github.com/getlantern/withtimeout
May 17 19:00:34.464 - 0m0s DEBUG flashlight: flashlight.go:66 ****************************** Package Version: 9999.99.99
May 17 19:00:34.465 - 0m0s DEBUG flashlight.util: hash.go:22 Hashing file at path /tmp/go-build057780362/github.com/getlantern/buuid/_test/buuid.test
May 17 19:00:34.603 - 0m0s DEBUG flashlight.ui: ui.go:56 Creating tarfs filesystem that prefers local resources at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:00:34.603 - 0m0s DEBUG tarfs: tarfs.go:62 Using local filesystem at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:00:34.622 - 0m0s DEBUG flashlight: settings.go:60 Loading settings
May 17 19:00:34.622 - 0m0s DEBUG flashlight: settings.go:71 Could not read file open /home/travis/.lantern/settings.yaml: no such file or directory
May 17 19:00:34.623 - 0m0s DEBUG flashlight.ui: service.go:132 Accepting websocket connections at: /data
May 17 19:00:34.623 - 0m0s DEBUG flashlight: settings.go:120 Sending Lantern settings to new client
May 17 19:00:34.624 - 0m0s DEBUG flashlight: settings.go:132 Reading settings messages!!
=== RUN   TestRandom
--- PASS: TestRandom (0.00s)
=== RUN   TestReadWriteOK
--- PASS: TestReadWriteOK (0.00s)
=== RUN   TestWriteFailure
--- PASS: TestWriteFailure (0.00s)
=== RUN   TestReadFailure
--- PASS: TestReadFailure (0.00s)
=== RUN   TestStringOK
--- PASS: TestStringOK (0.00s)
=== RUN   TestStringFailure
--- PASS: TestStringFailure (0.00s)
PASS
coverage: 6.4% of statements in github.com/getlantern/fdcount, github.com/getlantern/appdir, github.com/getlantern/balancer, github.com/getlantern/bandwidth, github.com/getlantern/borda/client, github.com/getlantern/buuid, github.com/getlantern/bytecounting, github.com/getlantern/byteexec, github.com/getlantern/chained, github.com/getlantern/checkfallbacks, github.com/getlantern/connpool, github.com/getlantern/context, github.com/getlantern/deepcopy, github.com/getlantern/detour, github.com/getlantern/errors, github.com/getlantern/eventual, github.com/getlantern/flashlight, github.com/getlantern/flashlight/app, github.com/getlantern/flashlight/client, github.com/getlantern/flashlight/config, github.com/getlantern/flashlight/logging, github.com/getlantern/flashlight/proxied, github.com/getlantern/flashlight/util, github.com/getlantern/fronted, github.com/getlantern/geolookup, github.com/getlantern/golog, github.com/getlantern/hex, github.com/getlantern/hidden, github.com/getlantern/idletiming, github.com/getlantern/keyman, github.com/getlantern/lantern, github.com/getlantern/measured, github.com/getlantern/netx, github.com/getlantern/ops, github.com/getlantern/osversion, github.com/getlantern/pathreflect, github.com/getlantern/proxiedsites, github.com/getlantern/rotator, github.com/getlantern/stack, github.com/getlantern/tarfs, github.com/getlantern/tlsdefaults, github.com/getlantern/tlsdialer, github.com/getlantern/waitforserver, github.com/getlantern/wfilter, github.com/getlantern/withtimeout
ok  	github.com/getlantern/buuid	1.286s
warning: no packages being tested depend on github.com/getlantern/fdcount
warning: no packages being tested depend on github.com/getlantern/appdir
warning: no packages being tested depend on github.com/getlantern/balancer
warning: no packages being tested depend on github.com/getlantern/bandwidth
warning: no packages being tested depend on github.com/getlantern/borda/client
warning: no packages being tested depend on github.com/getlantern/buuid
warning: no packages being tested depend on github.com/getlantern/byteexec
warning: no packages being tested depend on github.com/getlantern/chained
warning: no packages being tested depend on github.com/getlantern/checkfallbacks
warning: no packages being tested depend on github.com/getlantern/connpool
warning: no packages being tested depend on github.com/getlantern/context
warning: no packages being tested depend on github.com/getlantern/deepcopy
warning: no packages being tested depend on github.com/getlantern/detour
warning: no packages being tested depend on github.com/getlantern/errors
warning: no packages being tested depend on github.com/getlantern/eventual
warning: no packages being tested depend on github.com/getlantern/flashlight
warning: no packages being tested depend on github.com/getlantern/flashlight/app
warning: no packages being tested depend on github.com/getlantern/flashlight/client
warning: no packages being tested depend on github.com/getlantern/flashlight/config
warning: no packages being tested depend on github.com/getlantern/flashlight/logging
warning: no packages being tested depend on github.com/getlantern/flashlight/proxied
warning: no packages being tested depend on github.com/getlantern/flashlight/util
warning: no packages being tested depend on github.com/getlantern/fronted
warning: no packages being tested depend on github.com/getlantern/geolookup
warning: no packages being tested depend on github.com/getlantern/golog
warning: no packages being tested depend on github.com/getlantern/hex
warning: no packages being tested depend on github.com/getlantern/hidden
warning: no packages being tested depend on github.com/getlantern/idletiming
warning: no packages being tested depend on github.com/getlantern/keyman
warning: no packages being tested depend on github.com/getlantern/lantern
warning: no packages being tested depend on github.com/getlantern/measured
warning: no packages being tested depend on github.com/getlantern/netx
warning: no packages being tested depend on github.com/getlantern/ops
warning: no packages being tested depend on github.com/getlantern/osversion
warning: no packages being tested depend on github.com/getlantern/pathreflect
warning: no packages being tested depend on github.com/getlantern/proxiedsites
warning: no packages being tested depend on github.com/getlantern/rotator
warning: no packages being tested depend on github.com/getlantern/stack
warning: no packages being tested depend on github.com/getlantern/tarfs
warning: no packages being tested depend on github.com/getlantern/tlsdefaults
warning: no packages being tested depend on github.com/getlantern/tlsdialer
warning: no packages being tested depend on github.com/getlantern/waitforserver
warning: no packages being tested depend on github.com/getlantern/wfilter
warning: no packages being tested depend on github.com/getlantern/withtimeout
May 17 19:01:15.490 - 0m0s DEBUG flashlight: flashlight.go:66 ****************************** Package Version: 9999.99.99
May 17 19:01:15.491 - 0m0s DEBUG flashlight.util: hash.go:22 Hashing file at path /tmp/go-build602914738/github.com/getlantern/bytecounting/_test/bytecounting.test
May 17 19:01:15.634 - 0m0s DEBUG flashlight.ui: ui.go:56 Creating tarfs filesystem that prefers local resources at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:01:15.634 - 0m0s DEBUG tarfs: tarfs.go:62 Using local filesystem at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:01:15.652 - 0m0s DEBUG flashlight: settings.go:60 Loading settings
May 17 19:01:15.652 - 0m0s DEBUG flashlight: settings.go:71 Could not read file open /home/travis/.lantern/settings.yaml: no such file or directory
May 17 19:01:15.653 - 0m0s DEBUG flashlight.ui: service.go:132 Accepting websocket connections at: /data
May 17 19:01:15.653 - 0m0s DEBUG flashlight: settings.go:120 Sending Lantern settings to new client
May 17 19:01:15.655 - 0m0s DEBUG flashlight: settings.go:132 Reading settings messages!!
=== RUN   TestCounting
--- PASS: TestCounting (0.00s)
PASS
coverage: 6.5% of statements in github.com/getlantern/fdcount, github.com/getlantern/appdir, github.com/getlantern/balancer, github.com/getlantern/bandwidth, github.com/getlantern/borda/client, github.com/getlantern/buuid, github.com/getlantern/bytecounting, github.com/getlantern/byteexec, github.com/getlantern/chained, github.com/getlantern/checkfallbacks, github.com/getlantern/connpool, github.com/getlantern/context, github.com/getlantern/deepcopy, github.com/getlantern/detour, github.com/getlantern/errors, github.com/getlantern/eventual, github.com/getlantern/flashlight, github.com/getlantern/flashlight/app, github.com/getlantern/flashlight/client, github.com/getlantern/flashlight/config, github.com/getlantern/flashlight/logging, github.com/getlantern/flashlight/proxied, github.com/getlantern/flashlight/util, github.com/getlantern/fronted, github.com/getlantern/geolookup, github.com/getlantern/golog, github.com/getlantern/hex, github.com/getlantern/hidden, github.com/getlantern/idletiming, github.com/getlantern/keyman, github.com/getlantern/lantern, github.com/getlantern/measured, github.com/getlantern/netx, github.com/getlantern/ops, github.com/getlantern/osversion, github.com/getlantern/pathreflect, github.com/getlantern/proxiedsites, github.com/getlantern/rotator, github.com/getlantern/stack, github.com/getlantern/tarfs, github.com/getlantern/tlsdefaults, github.com/getlantern/tlsdialer, github.com/getlantern/waitforserver, github.com/getlantern/wfilter, github.com/getlantern/withtimeout
ok  	github.com/getlantern/bytecounting	1.296s
warning: no packages being tested depend on github.com/getlantern/fdcount
warning: no packages being tested depend on github.com/getlantern/appdir
warning: no packages being tested depend on github.com/getlantern/balancer
warning: no packages being tested depend on github.com/getlantern/bandwidth
warning: no packages being tested depend on github.com/getlantern/borda/client
warning: no packages being tested depend on github.com/getlantern/buuid
warning: no packages being tested depend on github.com/getlantern/bytecounting
warning: no packages being tested depend on github.com/getlantern/chained
warning: no packages being tested depend on github.com/getlantern/checkfallbacks
warning: no packages being tested depend on github.com/getlantern/connpool
warning: no packages being tested depend on github.com/getlantern/deepcopy
warning: no packages being tested depend on github.com/getlantern/detour
warning: no packages being tested depend on github.com/getlantern/eventual
warning: no packages being tested depend on github.com/getlantern/flashlight
warning: no packages being tested depend on github.com/getlantern/flashlight/app
warning: no packages being tested depend on github.com/getlantern/flashlight/client
warning: no packages being tested depend on github.com/getlantern/flashlight/config
warning: no packages being tested depend on github.com/getlantern/flashlight/logging
warning: no packages being tested depend on github.com/getlantern/flashlight/proxied
warning: no packages being tested depend on github.com/getlantern/flashlight/util
warning: no packages being tested depend on github.com/getlantern/fronted
warning: no packages being tested depend on github.com/getlantern/geolookup
warning: no packages being tested depend on github.com/getlantern/idletiming
warning: no packages being tested depend on github.com/getlantern/keyman
warning: no packages being tested depend on github.com/getlantern/lantern
warning: no packages being tested depend on github.com/getlantern/measured
warning: no packages being tested depend on github.com/getlantern/netx
warning: no packages being tested depend on github.com/getlantern/osversion
warning: no packages being tested depend on github.com/getlantern/pathreflect
warning: no packages being tested depend on github.com/getlantern/proxiedsites
warning: no packages being tested depend on github.com/getlantern/rotator
warning: no packages being tested depend on github.com/getlantern/tarfs
warning: no packages being tested depend on github.com/getlantern/tlsdefaults
warning: no packages being tested depend on github.com/getlantern/tlsdialer
warning: no packages being tested depend on github.com/getlantern/waitforserver
warning: no packages being tested depend on github.com/getlantern/wfilter
warning: no packages being tested depend on github.com/getlantern/withtimeout
May 17 19:01:56.631 - 0m0s DEBUG flashlight: flashlight.go:66 ****************************** Package Version: 9999.99.99
May 17 19:01:56.632 - 0m0s DEBUG flashlight.util: hash.go:22 Hashing file at path /tmp/go-build011031894/github.com/getlantern/byteexec/_test/byteexec.test
May 17 19:01:56.772 - 0m0s DEBUG flashlight.ui: ui.go:56 Creating tarfs filesystem that prefers local resources at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:01:56.772 - 0m0s DEBUG tarfs: tarfs.go:62 Using local filesystem at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:01:56.790 - 0m0s DEBUG flashlight: settings.go:60 Loading settings
May 17 19:01:56.790 - 0m0s DEBUG flashlight: settings.go:71 Could not read file open /home/travis/.lantern/settings.yaml: no such file or directory
May 17 19:01:56.791 - 0m0s DEBUG flashlight.ui: service.go:132 Accepting websocket connections at: /data
May 17 19:01:56.791 - 0m0s DEBUG flashlight: settings.go:120 Sending Lantern settings to new client
May 17 19:01:56.793 - 0m0s DEBUG flashlight: settings.go:132 Reading settings messages!!
=== RUN   TestExec
--- PASS: TestExec (4.02s)
	byteexec_test.go:87: /home/travis/.byteexec/helloworld
	byteexec_test.go:87: /home/travis/.byteexec/helloworld
	byteexec_test.go:87: /home/travis/.byteexec/helloworld
	byteexec_test.go:87: /home/travis/.byteexec/helloworld
PASS
coverage: 6.9% of statements in github.com/getlantern/fdcount, github.com/getlantern/appdir, github.com/getlantern/balancer, github.com/getlantern/bandwidth, github.com/getlantern/borda/client, github.com/getlantern/buuid, github.com/getlantern/bytecounting, github.com/getlantern/byteexec, github.com/getlantern/chained, github.com/getlantern/checkfallbacks, github.com/getlantern/connpool, github.com/getlantern/context, github.com/getlantern/deepcopy, github.com/getlantern/detour, github.com/getlantern/errors, github.com/getlantern/eventual, github.com/getlantern/flashlight, github.com/getlantern/flashlight/app, github.com/getlantern/flashlight/client, github.com/getlantern/flashlight/config, github.com/getlantern/flashlight/logging, github.com/getlantern/flashlight/proxied, github.com/getlantern/flashlight/util, github.com/getlantern/fronted, github.com/getlantern/geolookup, github.com/getlantern/golog, github.com/getlantern/hex, github.com/getlantern/hidden, github.com/getlantern/idletiming, github.com/getlantern/keyman, github.com/getlantern/lantern, github.com/getlantern/measured, github.com/getlantern/netx, github.com/getlantern/ops, github.com/getlantern/osversion, github.com/getlantern/pathreflect, github.com/getlantern/proxiedsites, github.com/getlantern/rotator, github.com/getlantern/stack, github.com/getlantern/tarfs, github.com/getlantern/tlsdefaults, github.com/getlantern/tlsdialer, github.com/getlantern/waitforserver, github.com/getlantern/wfilter, github.com/getlantern/withtimeout
ok  	github.com/getlantern/byteexec	5.306s
warning: no packages being tested depend on github.com/getlantern/fdcount
warning: no packages being tested depend on github.com/getlantern/appdir
warning: no packages being tested depend on github.com/getlantern/balancer
warning: no packages being tested depend on github.com/getlantern/borda/client
warning: no packages being tested depend on github.com/getlantern/buuid
warning: no packages being tested depend on github.com/getlantern/bytecounting
warning: no packages being tested depend on github.com/getlantern/byteexec
warning: no packages being tested depend on github.com/getlantern/checkfallbacks
warning: no packages being tested depend on github.com/getlantern/connpool
warning: no packages being tested depend on github.com/getlantern/deepcopy
warning: no packages being tested depend on github.com/getlantern/detour
warning: no packages being tested depend on github.com/getlantern/eventual
warning: no packages being tested depend on github.com/getlantern/flashlight
warning: no packages being tested depend on github.com/getlantern/flashlight/app
warning: no packages being tested depend on github.com/getlantern/flashlight/client
warning: no packages being tested depend on github.com/getlantern/flashlight/config
warning: no packages being tested depend on github.com/getlantern/flashlight/logging
warning: no packages being tested depend on github.com/getlantern/flashlight/proxied
warning: no packages being tested depend on github.com/getlantern/flashlight/util
warning: no packages being tested depend on github.com/getlantern/fronted
warning: no packages being tested depend on github.com/getlantern/geolookup
warning: no packages being tested depend on github.com/getlantern/idletiming
warning: no packages being tested depend on github.com/getlantern/keyman
warning: no packages being tested depend on github.com/getlantern/lantern
warning: no packages being tested depend on github.com/getlantern/measured
warning: no packages being tested depend on github.com/getlantern/netx
warning: no packages being tested depend on github.com/getlantern/osversion
warning: no packages being tested depend on github.com/getlantern/pathreflect
warning: no packages being tested depend on github.com/getlantern/proxiedsites
warning: no packages being tested depend on github.com/getlantern/rotator
warning: no packages being tested depend on github.com/getlantern/tarfs
warning: no packages being tested depend on github.com/getlantern/tlsdefaults
warning: no packages being tested depend on github.com/getlantern/tlsdialer
warning: no packages being tested depend on github.com/getlantern/waitforserver
warning: no packages being tested depend on github.com/getlantern/wfilter
warning: no packages being tested depend on github.com/getlantern/withtimeout
May 17 19:02:42.018 - 0m0s DEBUG flashlight: flashlight.go:66 ****************************** Package Version: 9999.99.99
May 17 19:02:42.018 - 0m0s DEBUG flashlight.util: hash.go:22 Hashing file at path /tmp/go-build722790022/github.com/getlantern/chained/_test/chained.test
May 17 19:02:42.158 - 0m0s DEBUG flashlight.ui: ui.go:56 Creating tarfs filesystem that prefers local resources at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:02:42.159 - 0m0s DEBUG tarfs: tarfs.go:62 Using local filesystem at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:02:42.177 - 0m0s DEBUG flashlight: settings.go:60 Loading settings
May 17 19:02:42.177 - 0m0s DEBUG flashlight: settings.go:71 Could not read file open /home/travis/.lantern/settings.yaml: no such file or directory
May 17 19:02:42.178 - 0m0s DEBUG flashlight.ui: service.go:132 Accepting websocket connections at: /data
May 17 19:02:42.178 - 0m0s DEBUG flashlight: settings.go:120 Sending Lantern settings to new client
May 17 19:02:42.180 - 0m0s DEBUG flashlight: settings.go:132 Reading settings messages!!
=== RUN   TestBadDialServer
--- PASS: TestBadDialServer (0.00s)
=== RUN   TestBadProtocol
--- PASS: TestBadProtocol (0.00s)
=== RUN   TestBadServer
May 17 19:02:42.186 - 0m0s DEBUG chained: chained_test.go:61 Error: Error reading CONNECT response: unexpected EOF
--- PASS: TestBadServer (0.00s)
=== RUN   TestBadConnectStatus
--- PASS: TestBadConnectStatus (0.00s)
=== RUN   TestBadMethodToServer
--- PASS: TestBadMethodToServer (0.01s)
=== RUN   TestBadAddressToServer
--- PASS: TestBadAddressToServer (0.00s)
=== RUN   TestSuccess
May 17 19:02:42.201 - 0m0s DEBUG chained: chained_test.go:132 TESTING SUCCESS
May 17 19:02:42.201 - 0m0s DEBUG chained: chained_test.go:125 Dialing with timeout to: 127.0.0.1:39647
May 17 19:02:42.202 - 0m0s DEBUG chained: chained_test.go:127 Got conn &{{0xc82039c2a0}} and err <nil>
May 17 19:02:42.204 - 0m0s DEBUG bandwidth: bandwidth.go:57 Response missing XBQ header, can't read bandwidth quota
--- PASS: TestSuccess (0.00s)
PASS
coverage: 10.6% of statements in github.com/getlantern/fdcount, github.com/getlantern/appdir, github.com/getlantern/balancer, github.com/getlantern/bandwidth, github.com/getlantern/borda/client, github.com/getlantern/buuid, github.com/getlantern/bytecounting, github.com/getlantern/byteexec, github.com/getlantern/chained, github.com/getlantern/checkfallbacks, github.com/getlantern/connpool, github.com/getlantern/context, github.com/getlantern/deepcopy, github.com/getlantern/detour, github.com/getlantern/errors, github.com/getlantern/eventual, github.com/getlantern/flashlight, github.com/getlantern/flashlight/app, github.com/getlantern/flashlight/client, github.com/getlantern/flashlight/config, github.com/getlantern/flashlight/logging, github.com/getlantern/flashlight/proxied, github.com/getlantern/flashlight/util, github.com/getlantern/fronted, github.com/getlantern/geolookup, github.com/getlantern/golog, github.com/getlantern/hex, github.com/getlantern/hidden, github.com/getlantern/idletiming, github.com/getlantern/keyman, github.com/getlantern/lantern, github.com/getlantern/measured, github.com/getlantern/netx, github.com/getlantern/ops, github.com/getlantern/osversion, github.com/getlantern/pathreflect, github.com/getlantern/proxiedsites, github.com/getlantern/rotator, github.com/getlantern/stack, github.com/getlantern/tarfs, github.com/getlantern/tlsdefaults, github.com/getlantern/tlsdialer, github.com/getlantern/waitforserver, github.com/getlantern/wfilter, github.com/getlantern/withtimeout
ok  	github.com/getlantern/chained	1.312s
warning: no packages being tested depend on github.com/getlantern/fdcount
warning: no packages being tested depend on github.com/getlantern/borda/client
warning: no packages being tested depend on github.com/getlantern/buuid
warning: no packages being tested depend on github.com/getlantern/bytecounting
warning: no packages being tested depend on github.com/getlantern/byteexec
warning: no packages being tested depend on github.com/getlantern/connpool
warning: no packages being tested depend on github.com/getlantern/deepcopy
warning: no packages being tested depend on github.com/getlantern/flashlight
warning: no packages being tested depend on github.com/getlantern/flashlight/app
warning: no packages being tested depend on github.com/getlantern/flashlight/config
warning: no packages being tested depend on github.com/getlantern/flashlight/logging
warning: no packages being tested depend on github.com/getlantern/flashlight/proxied
warning: no packages being tested depend on github.com/getlantern/flashlight/util
warning: no packages being tested depend on github.com/getlantern/geolookup
warning: no packages being tested depend on github.com/getlantern/lantern
warning: no packages being tested depend on github.com/getlantern/measured
warning: no packages being tested depend on github.com/getlantern/osversion
warning: no packages being tested depend on github.com/getlantern/pathreflect
warning: no packages being tested depend on github.com/getlantern/proxiedsites
warning: no packages being tested depend on github.com/getlantern/rotator
warning: no packages being tested depend on github.com/getlantern/tarfs
warning: no packages being tested depend on github.com/getlantern/tlsdefaults
warning: no packages being tested depend on github.com/getlantern/waitforserver
warning: no packages being tested depend on github.com/getlantern/wfilter
May 17 19:03:20.883 - 0m0s DEBUG flashlight: flashlight.go:66 ****************************** Package Version: 9999.99.99
May 17 19:03:20.883 - 0m0s DEBUG flashlight.util: hash.go:22 Hashing file at path /tmp/go-build230620913/github.com/getlantern/checkfallbacks/_test/checkfallbacks.test
May 17 19:03:21.020 - 0m0s DEBUG flashlight.ui: ui.go:56 Creating tarfs filesystem that prefers local resources at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:03:21.020 - 0m0s DEBUG tarfs: tarfs.go:62 Using local filesystem at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:03:21.037 - 0m0s DEBUG flashlight: settings.go:60 Loading settings
May 17 19:03:21.038 - 0m0s DEBUG flashlight: settings.go:71 Could not read file open /home/travis/.lantern/settings.yaml: no such file or directory
May 17 19:03:21.039 - 0m0s DEBUG flashlight.ui: service.go:132 Accepting websocket connections at: /data
May 17 19:03:21.039 - 0m0s DEBUG flashlight: settings.go:120 Sending Lantern settings to new client
May 17 19:03:21.041 - 0m0s DEBUG flashlight: settings.go:132 Reading settings messages!!
=== RUN   TestJSONloading
--- PASS: TestJSONloading (0.00s)
PASS
coverage: 6.2% of statements in github.com/getlantern/fdcount, github.com/getlantern/appdir, github.com/getlantern/balancer, github.com/getlantern/bandwidth, github.com/getlantern/borda/client, github.com/getlantern/buuid, github.com/getlantern/bytecounting, github.com/getlantern/byteexec, github.com/getlantern/chained, github.com/getlantern/checkfallbacks, github.com/getlantern/connpool, github.com/getlantern/context, github.com/getlantern/deepcopy, github.com/getlantern/detour, github.com/getlantern/errors, github.com/getlantern/eventual, github.com/getlantern/flashlight, github.com/getlantern/flashlight/app, github.com/getlantern/flashlight/client, github.com/getlantern/flashlight/config, github.com/getlantern/flashlight/logging, github.com/getlantern/flashlight/proxied, github.com/getlantern/flashlight/util, github.com/getlantern/fronted, github.com/getlantern/geolookup, github.com/getlantern/golog, github.com/getlantern/hex, github.com/getlantern/hidden, github.com/getlantern/idletiming, github.com/getlantern/keyman, github.com/getlantern/lantern, github.com/getlantern/measured, github.com/getlantern/netx, github.com/getlantern/ops, github.com/getlantern/osversion, github.com/getlantern/pathreflect, github.com/getlantern/proxiedsites, github.com/getlantern/rotator, github.com/getlantern/stack, github.com/getlantern/tarfs, github.com/getlantern/tlsdefaults, github.com/getlantern/tlsdialer, github.com/getlantern/waitforserver, github.com/getlantern/wfilter, github.com/getlantern/withtimeout
ok  	github.com/getlantern/checkfallbacks	1.291s
warning: no packages being tested depend on github.com/getlantern/fdcount
warning: no packages being tested depend on github.com/getlantern/appdir
warning: no packages being tested depend on github.com/getlantern/balancer
warning: no packages being tested depend on github.com/getlantern/bandwidth
warning: no packages being tested depend on github.com/getlantern/borda/client
warning: no packages being tested depend on github.com/getlantern/buuid
warning: no packages being tested depend on github.com/getlantern/bytecounting
warning: no packages being tested depend on github.com/getlantern/byteexec
warning: no packages being tested depend on github.com/getlantern/chained
warning: no packages being tested depend on github.com/getlantern/checkfallbacks
warning: no packages being tested depend on github.com/getlantern/deepcopy
warning: no packages being tested depend on github.com/getlantern/detour
warning: no packages being tested depend on github.com/getlantern/eventual
warning: no packages being tested depend on github.com/getlantern/flashlight
warning: no packages being tested depend on github.com/getlantern/flashlight/app
warning: no packages being tested depend on github.com/getlantern/flashlight/client
warning: no packages being tested depend on github.com/getlantern/flashlight/config
warning: no packages being tested depend on github.com/getlantern/flashlight/logging
warning: no packages being tested depend on github.com/getlantern/flashlight/proxied
warning: no packages being tested depend on github.com/getlantern/flashlight/util
warning: no packages being tested depend on github.com/getlantern/fronted
warning: no packages being tested depend on github.com/getlantern/geolookup
warning: no packages being tested depend on github.com/getlantern/idletiming
warning: no packages being tested depend on github.com/getlantern/keyman
warning: no packages being tested depend on github.com/getlantern/lantern
warning: no packages being tested depend on github.com/getlantern/measured
warning: no packages being tested depend on github.com/getlantern/netx
warning: no packages being tested depend on github.com/getlantern/osversion
warning: no packages being tested depend on github.com/getlantern/pathreflect
warning: no packages being tested depend on github.com/getlantern/proxiedsites
warning: no packages being tested depend on github.com/getlantern/rotator
warning: no packages being tested depend on github.com/getlantern/tarfs
warning: no packages being tested depend on github.com/getlantern/tlsdefaults
warning: no packages being tested depend on github.com/getlantern/tlsdialer
warning: no packages being tested depend on github.com/getlantern/waitforserver
warning: no packages being tested depend on github.com/getlantern/wfilter
warning: no packages being tested depend on github.com/getlantern/withtimeout
May 17 19:04:01.795 - 0m0s DEBUG flashlight: flashlight.go:66 ****************************** Package Version: 9999.99.99
May 17 19:04:01.795 - 0m0s DEBUG flashlight.util: hash.go:22 Hashing file at path /tmp/go-build379339347/github.com/getlantern/connpool/_test/connpool.test
May 17 19:04:01.934 - 0m0s DEBUG flashlight.ui: ui.go:56 Creating tarfs filesystem that prefers local resources at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:04:01.934 - 0m0s DEBUG tarfs: tarfs.go:62 Using local filesystem at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:04:01.950 - 0m0s DEBUG flashlight: settings.go:60 Loading settings
May 17 19:04:01.950 - 0m0s DEBUG flashlight: settings.go:71 Could not read file open /home/travis/.lantern/settings.yaml: no such file or directory
May 17 19:04:01.951 - 0m0s DEBUG flashlight.ui: service.go:132 Accepting websocket connections at: /data
May 17 19:04:01.951 - 0m0s DEBUG flashlight: settings.go:120 Sending Lantern settings to new client
May 17 19:04:01.952 - 0m0s DEBUG flashlight: settings.go:132 Reading settings messages!!
=== RUN   TestIt
May 17 19:04:01.971 - 0m0s DEBUG connpool: connpool.go:77 Starting connection pool with size 20
--- PASS: TestIt (2.50s)
=== RUN   TestDialFailure
May 17 19:04:04.471 - 0m2s DEBUG connpool: connpool.go:77 Starting connection pool with size 10
May 17 19:04:05.688 - 0m3s DEBUG connpool: connpool_test.go:139 Testing
--- PASS: TestDialFailure (1.36s)
=== RUN   TestPropertyChange
May 17 19:04:05.818 - 0m4s DEBUG connpool: connpool.go:77 Starting connection pool with size 0
--- PASS: TestPropertyChange (0.00s)
PASS
coverage: 8.2% of statements in github.com/getlantern/fdcount, github.com/getlantern/appdir, github.com/getlantern/balancer, github.com/getlantern/bandwidth, github.com/getlantern/borda/client, github.com/getlantern/buuid, github.com/getlantern/bytecounting, github.com/getlantern/byteexec, github.com/getlantern/chained, github.com/getlantern/checkfallbacks, github.com/getlantern/connpool, github.com/getlantern/context, github.com/getlantern/deepcopy, github.com/getlantern/detour, github.com/getlantern/errors, github.com/getlantern/eventual, github.com/getlantern/flashlight, github.com/getlantern/flashlight/app, github.com/getlantern/flashlight/client, github.com/getlantern/flashlight/config, github.com/getlantern/flashlight/logging, github.com/getlantern/flashlight/proxied, github.com/getlantern/flashlight/util, github.com/getlantern/fronted, github.com/getlantern/geolookup, github.com/getlantern/golog, github.com/getlantern/hex, github.com/getlantern/hidden, github.com/getlantern/idletiming, github.com/getlantern/keyman, github.com/getlantern/lantern, github.com/getlantern/measured, github.com/getlantern/netx, github.com/getlantern/ops, github.com/getlantern/osversion, github.com/getlantern/pathreflect, github.com/getlantern/proxiedsites, github.com/getlantern/rotator, github.com/getlantern/stack, github.com/getlantern/tarfs, github.com/getlantern/tlsdefaults, github.com/getlantern/tlsdialer, github.com/getlantern/waitforserver, github.com/getlantern/wfilter, github.com/getlantern/withtimeout
ok  	github.com/getlantern/connpool	5.141s
warning: no packages being tested depend on github.com/getlantern/fdcount
warning: no packages being tested depend on github.com/getlantern/appdir
warning: no packages being tested depend on github.com/getlantern/balancer
warning: no packages being tested depend on github.com/getlantern/bandwidth
warning: no packages being tested depend on github.com/getlantern/borda/client
warning: no packages being tested depend on github.com/getlantern/buuid
warning: no packages being tested depend on github.com/getlantern/bytecounting
warning: no packages being tested depend on github.com/getlantern/byteexec
warning: no packages being tested depend on github.com/getlantern/chained
warning: no packages being tested depend on github.com/getlantern/checkfallbacks
warning: no packages being tested depend on github.com/getlantern/connpool
warning: no packages being tested depend on github.com/getlantern/deepcopy
warning: no packages being tested depend on github.com/getlantern/detour
warning: no packages being tested depend on github.com/getlantern/errors
warning: no packages being tested depend on github.com/getlantern/eventual
warning: no packages being tested depend on github.com/getlantern/flashlight
warning: no packages being tested depend on github.com/getlantern/flashlight/app
warning: no packages being tested depend on github.com/getlantern/flashlight/client
warning: no packages being tested depend on github.com/getlantern/flashlight/config
warning: no packages being tested depend on github.com/getlantern/flashlight/logging
warning: no packages being tested depend on github.com/getlantern/flashlight/proxied
warning: no packages being tested depend on github.com/getlantern/flashlight/util
warning: no packages being tested depend on github.com/getlantern/fronted
warning: no packages being tested depend on github.com/getlantern/geolookup
warning: no packages being tested depend on github.com/getlantern/golog
warning: no packages being tested depend on github.com/getlantern/hex
warning: no packages being tested depend on github.com/getlantern/hidden
warning: no packages being tested depend on github.com/getlantern/idletiming
warning: no packages being tested depend on github.com/getlantern/keyman
warning: no packages being tested depend on github.com/getlantern/lantern
warning: no packages being tested depend on github.com/getlantern/measured
warning: no packages being tested depend on github.com/getlantern/netx
warning: no packages being tested depend on github.com/getlantern/ops
warning: no packages being tested depend on github.com/getlantern/osversion
warning: no packages being tested depend on github.com/getlantern/pathreflect
warning: no packages being tested depend on github.com/getlantern/proxiedsites
warning: no packages being tested depend on github.com/getlantern/rotator
warning: no packages being tested depend on github.com/getlantern/stack
warning: no packages being tested depend on github.com/getlantern/tarfs
warning: no packages being tested depend on github.com/getlantern/tlsdefaults
warning: no packages being tested depend on github.com/getlantern/tlsdialer
warning: no packages being tested depend on github.com/getlantern/waitforserver
warning: no packages being tested depend on github.com/getlantern/wfilter
warning: no packages being tested depend on github.com/getlantern/withtimeout
May 17 19:04:47.053 - 0m0s DEBUG flashlight: flashlight.go:66 ****************************** Package Version: 9999.99.99
May 17 19:04:47.053 - 0m0s DEBUG flashlight.util: hash.go:22 Hashing file at path /tmp/go-build032353701/github.com/getlantern/context/_test/context.test
May 17 19:04:47.195 - 0m0s DEBUG flashlight.ui: ui.go:56 Creating tarfs filesystem that prefers local resources at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:04:47.196 - 0m0s DEBUG tarfs: tarfs.go:62 Using local filesystem at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:04:47.212 - 0m0s DEBUG flashlight: settings.go:60 Loading settings
May 17 19:04:47.212 - 0m0s DEBUG flashlight: settings.go:71 Could not read file open /home/travis/.lantern/settings.yaml: no such file or directory
May 17 19:04:47.213 - 0m0s DEBUG flashlight.ui: service.go:132 Accepting websocket connections at: /data
May 17 19:04:47.213 - 0m0s DEBUG flashlight: settings.go:120 Sending Lantern settings to new client
May 17 19:04:47.214 - 0m0s DEBUG flashlight: settings.go:132 Reading settings messages!!
=== RUN   TestStack
--- PASS: TestStack (0.00s)
PASS
coverage: 8.2% of statements in github.com/getlantern/fdcount, github.com/getlantern/appdir, github.com/getlantern/balancer, github.com/getlantern/bandwidth, github.com/getlantern/borda/client, github.com/getlantern/buuid, github.com/getlantern/bytecounting, github.com/getlantern/byteexec, github.com/getlantern/chained, github.com/getlantern/checkfallbacks, github.com/getlantern/connpool, github.com/getlantern/context, github.com/getlantern/deepcopy, github.com/getlantern/detour, github.com/getlantern/errors, github.com/getlantern/eventual, github.com/getlantern/flashlight, github.com/getlantern/flashlight/app, github.com/getlantern/flashlight/client, github.com/getlantern/flashlight/config, github.com/getlantern/flashlight/logging, github.com/getlantern/flashlight/proxied, github.com/getlantern/flashlight/util, github.com/getlantern/fronted, github.com/getlantern/geolookup, github.com/getlantern/golog, github.com/getlantern/hex, github.com/getlantern/hidden, github.com/getlantern/idletiming, github.com/getlantern/keyman, github.com/getlantern/lantern, github.com/getlantern/measured, github.com/getlantern/netx, github.com/getlantern/ops, github.com/getlantern/osversion, github.com/getlantern/pathreflect, github.com/getlantern/proxiedsites, github.com/getlantern/rotator, github.com/getlantern/stack, github.com/getlantern/tarfs, github.com/getlantern/tlsdefaults, github.com/getlantern/tlsdialer, github.com/getlantern/waitforserver, github.com/getlantern/wfilter, github.com/getlantern/withtimeout
ok  	github.com/getlantern/context	1.296s
warning: no packages being tested depend on github.com/getlantern/fdcount
warning: no packages being tested depend on github.com/getlantern/appdir
warning: no packages being tested depend on github.com/getlantern/balancer
warning: no packages being tested depend on github.com/getlantern/bandwidth
warning: no packages being tested depend on github.com/getlantern/borda/client
warning: no packages being tested depend on github.com/getlantern/buuid
warning: no packages being tested depend on github.com/getlantern/bytecounting
warning: no packages being tested depend on github.com/getlantern/byteexec
warning: no packages being tested depend on github.com/getlantern/chained
warning: no packages being tested depend on github.com/getlantern/checkfallbacks
warning: no packages being tested depend on github.com/getlantern/connpool
warning: no packages being tested depend on github.com/getlantern/context
warning: no packages being tested depend on github.com/getlantern/detour
warning: no packages being tested depend on github.com/getlantern/errors
warning: no packages being tested depend on github.com/getlantern/eventual
warning: no packages being tested depend on github.com/getlantern/flashlight
warning: no packages being tested depend on github.com/getlantern/flashlight/app
warning: no packages being tested depend on github.com/getlantern/flashlight/client
warning: no packages being tested depend on github.com/getlantern/flashlight/config
warning: no packages being tested depend on github.com/getlantern/flashlight/logging
warning: no packages being tested depend on github.com/getlantern/flashlight/proxied
warning: no packages being tested depend on github.com/getlantern/flashlight/util
warning: no packages being tested depend on github.com/getlantern/fronted
warning: no packages being tested depend on github.com/getlantern/geolookup
warning: no packages being tested depend on github.com/getlantern/golog
warning: no packages being tested depend on github.com/getlantern/hex
warning: no packages being tested depend on github.com/getlantern/hidden
warning: no packages being tested depend on github.com/getlantern/idletiming
warning: no packages being tested depend on github.com/getlantern/keyman
warning: no packages being tested depend on github.com/getlantern/lantern
warning: no packages being tested depend on github.com/getlantern/measured
warning: no packages being tested depend on github.com/getlantern/netx
warning: no packages being tested depend on github.com/getlantern/ops
warning: no packages being tested depend on github.com/getlantern/osversion
warning: no packages being tested depend on github.com/getlantern/pathreflect
warning: no packages being tested depend on github.com/getlantern/proxiedsites
warning: no packages being tested depend on github.com/getlantern/rotator
warning: no packages being tested depend on github.com/getlantern/stack
warning: no packages being tested depend on github.com/getlantern/tarfs
warning: no packages being tested depend on github.com/getlantern/tlsdefaults
warning: no packages being tested depend on github.com/getlantern/tlsdialer
warning: no packages being tested depend on github.com/getlantern/waitforserver
warning: no packages being tested depend on github.com/getlantern/wfilter
warning: no packages being tested depend on github.com/getlantern/withtimeout
May 17 19:05:28.061 - 0m0s DEBUG flashlight: flashlight.go:66 ****************************** Package Version: 9999.99.99
May 17 19:05:28.061 - 0m0s DEBUG flashlight.util: hash.go:22 Hashing file at path /tmp/go-build876556205/github.com/getlantern/deepcopy/_test/deepcopy.test
May 17 19:05:28.198 - 0m0s DEBUG flashlight.ui: ui.go:56 Creating tarfs filesystem that prefers local resources at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:05:28.198 - 0m0s DEBUG tarfs: tarfs.go:62 Using local filesystem at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:05:28.214 - 0m0s DEBUG flashlight: settings.go:60 Loading settings
May 17 19:05:28.214 - 0m0s DEBUG flashlight: settings.go:71 Could not read file open /home/travis/.lantern/settings.yaml: no such file or directory
May 17 19:05:28.218 - 0m0s DEBUG flashlight.ui: service.go:132 Accepting websocket connections at: /data
May 17 19:05:28.218 - 0m0s DEBUG flashlight: settings.go:120 Sending Lantern settings to new client
May 17 19:05:28.221 - 0m0s DEBUG flashlight: settings.go:132 Reading settings messages!!
=== RUN   TestCopy
--- PASS: TestCopy (0.00s)
	deepcopy_test.go:48: (*deepcopy.A)(0xc820067280)({
		 String: (string) (len=11) "Hello World",
		 Int: (int) 5,
		 Strings: ([]string) (len=2 cap=4) {
		  (string) (len=1) "A",
		  (string) (len=1) "B"
		 },
		 Ints: (map[string]int) (len=3) {
		  (string) (len=1) "B": (int) 2,
		  (string) (len=1) "C": (int) 4,
		  (string) (len=1) "A": (int) 1
		 },
		 As: (map[string]*deepcopy.A) (len=2) {
		  (string) (len=3) "One": (*deepcopy.A)(0xc8200673c0)({
		   String: (string) (len=1) "2",
		   Int: (int) 0,
		   Strings: ([]string) <nil>,
		   Ints: (map[string]int) <nil>,
		   As: (map[string]*deepcopy.A) <nil>
		  }),
		  (string) (len=3) "Two": (*deepcopy.A)(0xc820067400)({
		   String: (string) (len=1) "3",
		   Int: (int) 0,
		   Strings: ([]string) <nil>,
		   Ints: (map[string]int) <nil>,
		   As: (map[string]*deepcopy.A) <nil>
		  })
		 }
		})
		
PASS
coverage: 6.2% of statements in github.com/getlantern/fdcount, github.com/getlantern/appdir, github.com/getlantern/balancer, github.com/getlantern/bandwidth, github.com/getlantern/borda/client, github.com/getlantern/buuid, github.com/getlantern/bytecounting, github.com/getlantern/byteexec, github.com/getlantern/chained, github.com/getlantern/checkfallbacks, github.com/getlantern/connpool, github.com/getlantern/context, github.com/getlantern/deepcopy, github.com/getlantern/detour, github.com/getlantern/errors, github.com/getlantern/eventual, github.com/getlantern/flashlight, github.com/getlantern/flashlight/app, github.com/getlantern/flashlight/client, github.com/getlantern/flashlight/config, github.com/getlantern/flashlight/logging, github.com/getlantern/flashlight/proxied, github.com/getlantern/flashlight/util, github.com/getlantern/fronted, github.com/getlantern/geolookup, github.com/getlantern/golog, github.com/getlantern/hex, github.com/getlantern/hidden, github.com/getlantern/idletiming, github.com/getlantern/keyman, github.com/getlantern/lantern, github.com/getlantern/measured, github.com/getlantern/netx, github.com/getlantern/ops, github.com/getlantern/osversion, github.com/getlantern/pathreflect, github.com/getlantern/proxiedsites, github.com/getlantern/rotator, github.com/getlantern/stack, github.com/getlantern/tarfs, github.com/getlantern/tlsdefaults, github.com/getlantern/tlsdialer, github.com/getlantern/waitforserver, github.com/getlantern/wfilter, github.com/getlantern/withtimeout
ok  	github.com/getlantern/deepcopy	1.292s
warning: no packages being tested depend on github.com/getlantern/fdcount
warning: no packages being tested depend on github.com/getlantern/appdir
warning: no packages being tested depend on github.com/getlantern/balancer
warning: no packages being tested depend on github.com/getlantern/bandwidth
warning: no packages being tested depend on github.com/getlantern/borda/client
warning: no packages being tested depend on github.com/getlantern/buuid
warning: no packages being tested depend on github.com/getlantern/bytecounting
warning: no packages being tested depend on github.com/getlantern/byteexec
warning: no packages being tested depend on github.com/getlantern/chained
warning: no packages being tested depend on github.com/getlantern/checkfallbacks
warning: no packages being tested depend on github.com/getlantern/connpool
warning: no packages being tested depend on github.com/getlantern/deepcopy
warning: no packages being tested depend on github.com/getlantern/eventual
warning: no packages being tested depend on github.com/getlantern/flashlight
warning: no packages being tested depend on github.com/getlantern/flashlight/app
warning: no packages being tested depend on github.com/getlantern/flashlight/client
warning: no packages being tested depend on github.com/getlantern/flashlight/config
warning: no packages being tested depend on github.com/getlantern/flashlight/logging
warning: no packages being tested depend on github.com/getlantern/flashlight/proxied
warning: no packages being tested depend on github.com/getlantern/flashlight/util
warning: no packages being tested depend on github.com/getlantern/fronted
warning: no packages being tested depend on github.com/getlantern/geolookup
warning: no packages being tested depend on github.com/getlantern/idletiming
warning: no packages being tested depend on github.com/getlantern/keyman
warning: no packages being tested depend on github.com/getlantern/lantern
warning: no packages being tested depend on github.com/getlantern/measured
warning: no packages being tested depend on github.com/getlantern/osversion
warning: no packages being tested depend on github.com/getlantern/pathreflect
warning: no packages being tested depend on github.com/getlantern/proxiedsites
warning: no packages being tested depend on github.com/getlantern/rotator
warning: no packages being tested depend on github.com/getlantern/tarfs
warning: no packages being tested depend on github.com/getlantern/tlsdefaults
warning: no packages being tested depend on github.com/getlantern/tlsdialer
warning: no packages being tested depend on github.com/getlantern/waitforserver
warning: no packages being tested depend on github.com/getlantern/wfilter
warning: no packages being tested depend on github.com/getlantern/withtimeout
May 17 19:06:09.877 - 0m0s DEBUG flashlight: flashlight.go:66 ****************************** Package Version: 9999.99.99
May 17 19:06:09.878 - 0m0s DEBUG flashlight.util: hash.go:22 Hashing file at path /tmp/go-build560469427/github.com/getlantern/detour/_test/detour.test
May 17 19:06:10.019 - 0m0s DEBUG flashlight.ui: ui.go:56 Creating tarfs filesystem that prefers local resources at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:06:10.019 - 0m0s DEBUG tarfs: tarfs.go:62 Using local filesystem at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:06:10.036 - 0m0s DEBUG flashlight: settings.go:60 Loading settings
May 17 19:06:10.036 - 0m0s DEBUG flashlight: settings.go:71 Could not read file open /home/travis/.lantern/settings.yaml: no such file or directory
May 17 19:06:10.037 - 0m0s DEBUG flashlight.ui: service.go:132 Accepting websocket connections at: /data
May 17 19:06:10.037 - 0m0s DEBUG flashlight: settings.go:120 Sending Lantern settings to new client
May 17 19:06:10.039 - 0m0s DEBUG flashlight: settings.go:132 Reading settings messages!!
=== RUN   TestBlockedImmediately
May 17 19:06:10.144 - 0m0s DEBUG detour: detour.go:149 Dial initially to 255.0.0.1:80 failed, try detour: dial tcp 255.0.0.1:80: i/o timeout
May 17 19:06:10.147 - 0m0s DEBUG detour: detour.go:149 Dial initially to 127.0.0.1:4325 failed, try detour: dial tcp 127.0.0.1:4325: getsockopt: connection refused
May 17 19:06:10.204 - 0m0s DEBUG detour: detour.go:214 Error while read from 127.0.0.1:33691 initially: read tcp 127.0.0.1:38000->127.0.0.1:33691: i/o timeout
May 17 19:06:10.204 - 0m0s DEBUG detour: detour.go:220 Detour HTTP GET request to 127.0.0.1:33691
May 17 19:06:10.258 - 0m0s DEBUG detour: detour.go:214 Error while read from 127.0.0.1:33691 initially: read tcp 127.0.0.1:38004->127.0.0.1:33691: i/o timeout
May 17 19:06:10.258 - 0m0s DEBUG detour: detour.go:224 Not HTTP GET request, add to whitelist
--- PASS: TestBlockedImmediately (0.37s)
=== RUN   TestBlockedAfterwards
--- PASS: TestBlockedAfterwards (0.20s)
=== RUN   TestRemoveFromWhitelist
--- PASS: TestRemoveFromWhitelist (0.35s)
=== RUN   TestClosing
--- PASS: TestClosing (0.10s)
=== RUN   TestIranRules
May 17 19:06:11.122 - 0m1s DEBUG detour: detour.go:149 Dial initially to 10.10.34.34:80 failed, try detour: dial tcp 10.10.34.34:80: i/o timeout
--- PASS: TestIranRules (0.06s)
=== RUN   TestCheckSubdomain
--- PASS: TestCheckSubdomain (0.00s)
=== RUN   TestDumpWhiteList
--- PASS: TestDumpWhiteList (0.00s)
PASS
coverage: 10.3% of statements in github.com/getlantern/fdcount, github.com/getlantern/appdir, github.com/getlantern/balancer, github.com/getlantern/bandwidth, github.com/getlantern/borda/client, github.com/getlantern/buuid, github.com/getlantern/bytecounting, github.com/getlantern/byteexec, github.com/getlantern/chained, github.com/getlantern/checkfallbacks, github.com/getlantern/connpool, github.com/getlantern/context, github.com/getlantern/deepcopy, github.com/getlantern/detour, github.com/getlantern/errors, github.com/getlantern/eventual, github.com/getlantern/flashlight, github.com/getlantern/flashlight/app, github.com/getlantern/flashlight/client, github.com/getlantern/flashlight/config, github.com/getlantern/flashlight/logging, github.com/getlantern/flashlight/proxied, github.com/getlantern/flashlight/util, github.com/getlantern/fronted, github.com/getlantern/geolookup, github.com/getlantern/golog, github.com/getlantern/hex, github.com/getlantern/hidden, github.com/getlantern/idletiming, github.com/getlantern/keyman, github.com/getlantern/lantern, github.com/getlantern/measured, github.com/getlantern/netx, github.com/getlantern/ops, github.com/getlantern/osversion, github.com/getlantern/pathreflect, github.com/getlantern/proxiedsites, github.com/getlantern/rotator, github.com/getlantern/stack, github.com/getlantern/tarfs, github.com/getlantern/tlsdefaults, github.com/getlantern/tlsdialer, github.com/getlantern/waitforserver, github.com/getlantern/wfilter, github.com/getlantern/withtimeout
ok  	github.com/getlantern/detour	2.376s
warning: no packages being tested depend on github.com/getlantern/fdcount
warning: no packages being tested depend on github.com/getlantern/appdir
warning: no packages being tested depend on github.com/getlantern/balancer
warning: no packages being tested depend on github.com/getlantern/bandwidth
warning: no packages being tested depend on github.com/getlantern/borda/client
warning: no packages being tested depend on github.com/getlantern/buuid
warning: no packages being tested depend on github.com/getlantern/bytecounting
warning: no packages being tested depend on github.com/getlantern/byteexec
warning: no packages being tested depend on github.com/getlantern/chained
warning: no packages being tested depend on github.com/getlantern/checkfallbacks
warning: no packages being tested depend on github.com/getlantern/connpool
warning: no packages being tested depend on github.com/getlantern/deepcopy
warning: no packages being tested depend on github.com/getlantern/detour
warning: no packages being tested depend on github.com/getlantern/eventual
warning: no packages being tested depend on github.com/getlantern/flashlight
warning: no packages being tested depend on github.com/getlantern/flashlight/app
warning: no packages being tested depend on github.com/getlantern/flashlight/client
warning: no packages being tested depend on github.com/getlantern/flashlight/config
warning: no packages being tested depend on github.com/getlantern/flashlight/logging
warning: no packages being tested depend on github.com/getlantern/flashlight/proxied
warning: no packages being tested depend on github.com/getlantern/flashlight/util
warning: no packages being tested depend on github.com/getlantern/fronted
warning: no packages being tested depend on github.com/getlantern/geolookup
warning: no packages being tested depend on github.com/getlantern/golog
warning: no packages being tested depend on github.com/getlantern/idletiming
warning: no packages being tested depend on github.com/getlantern/keyman
warning: no packages being tested depend on github.com/getlantern/lantern
warning: no packages being tested depend on github.com/getlantern/measured
warning: no packages being tested depend on github.com/getlantern/netx
warning: no packages being tested depend on github.com/getlantern/osversion
warning: no packages being tested depend on github.com/getlantern/pathreflect
warning: no packages being tested depend on github.com/getlantern/proxiedsites
warning: no packages being tested depend on github.com/getlantern/rotator
warning: no packages being tested depend on github.com/getlantern/tarfs
warning: no packages being tested depend on github.com/getlantern/tlsdefaults
warning: no packages being tested depend on github.com/getlantern/tlsdialer
warning: no packages being tested depend on github.com/getlantern/waitforserver
warning: no packages being tested depend on github.com/getlantern/wfilter
warning: no packages being tested depend on github.com/getlantern/withtimeout
May 17 19:06:53.001 - 0m0s DEBUG flashlight: flashlight.go:66 ****************************** Package Version: 9999.99.99
May 17 19:06:53.002 - 0m0s DEBUG flashlight.util: hash.go:22 Hashing file at path /tmp/go-build179019349/github.com/getlantern/errors/_test/errors.test
May 17 19:06:53.144 - 0m0s DEBUG flashlight.ui: ui.go:56 Creating tarfs filesystem that prefers local resources at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:06:53.144 - 0m0s DEBUG tarfs: tarfs.go:62 Using local filesystem at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:06:53.162 - 0m0s DEBUG flashlight: settings.go:60 Loading settings
May 17 19:06:53.162 - 0m0s DEBUG flashlight: settings.go:71 Could not read file open /home/travis/.lantern/settings.yaml: no such file or directory
May 17 19:06:53.163 - 0m0s DEBUG flashlight.ui: service.go:132 Accepting websocket connections at: /data
May 17 19:06:53.163 - 0m0s DEBUG flashlight: settings.go:120 Sending Lantern settings to new client
May 17 19:06:53.165 - 0m0s DEBUG flashlight: settings.go:132 Reading settings messages!!
=== RUN   TestFull
--- PASS: TestFull (0.06s)
=== RUN   TestNewWithCause
--- PASS: TestNewWithCause (0.00s)
=== RUN   TestWrapNil
--- PASS: TestWrapNil (0.00s)
PASS
coverage: 11.4% of statements in github.com/getlantern/fdcount, github.com/getlantern/appdir, github.com/getlantern/balancer, github.com/getlantern/bandwidth, github.com/getlantern/borda/client, github.com/getlantern/buuid, github.com/getlantern/bytecounting, github.com/getlantern/byteexec, github.com/getlantern/chained, github.com/getlantern/checkfallbacks, github.com/getlantern/connpool, github.com/getlantern/context, github.com/getlantern/deepcopy, github.com/getlantern/detour, github.com/getlantern/errors, github.com/getlantern/eventual, github.com/getlantern/flashlight, github.com/getlantern/flashlight/app, github.com/getlantern/flashlight/client, github.com/getlantern/flashlight/config, github.com/getlantern/flashlight/logging, github.com/getlantern/flashlight/proxied, github.com/getlantern/flashlight/util, github.com/getlantern/fronted, github.com/getlantern/geolookup, github.com/getlantern/golog, github.com/getlantern/hex, github.com/getlantern/hidden, github.com/getlantern/idletiming, github.com/getlantern/keyman, github.com/getlantern/lantern, github.com/getlantern/measured, github.com/getlantern/netx, github.com/getlantern/ops, github.com/getlantern/osversion, github.com/getlantern/pathreflect, github.com/getlantern/proxiedsites, github.com/getlantern/rotator, github.com/getlantern/stack, github.com/getlantern/tarfs, github.com/getlantern/tlsdefaults, github.com/getlantern/tlsdialer, github.com/getlantern/waitforserver, github.com/getlantern/wfilter, github.com/getlantern/withtimeout
ok  	github.com/getlantern/errors	1.350s
warning: no packages being tested depend on github.com/getlantern/fdcount
warning: no packages being tested depend on github.com/getlantern/appdir
warning: no packages being tested depend on github.com/getlantern/balancer
warning: no packages being tested depend on github.com/getlantern/bandwidth
warning: no packages being tested depend on github.com/getlantern/borda/client
warning: no packages being tested depend on github.com/getlantern/buuid
warning: no packages being tested depend on github.com/getlantern/bytecounting
warning: no packages being tested depend on github.com/getlantern/byteexec
warning: no packages being tested depend on github.com/getlantern/chained
warning: no packages being tested depend on github.com/getlantern/checkfallbacks
warning: no packages being tested depend on github.com/getlantern/connpool
warning: no packages being tested depend on github.com/getlantern/context
warning: no packages being tested depend on github.com/getlantern/deepcopy
warning: no packages being tested depend on github.com/getlantern/detour
warning: no packages being tested depend on github.com/getlantern/errors
warning: no packages being tested depend on github.com/getlantern/flashlight
warning: no packages being tested depend on github.com/getlantern/flashlight/app
warning: no packages being tested depend on github.com/getlantern/flashlight/client
warning: no packages being tested depend on github.com/getlantern/flashlight/config
warning: no packages being tested depend on github.com/getlantern/flashlight/logging
warning: no packages being tested depend on github.com/getlantern/flashlight/proxied
warning: no packages being tested depend on github.com/getlantern/flashlight/util
warning: no packages being tested depend on github.com/getlantern/fronted
warning: no packages being tested depend on github.com/getlantern/geolookup
warning: no packages being tested depend on github.com/getlantern/golog
warning: no packages being tested depend on github.com/getlantern/hex
warning: no packages being tested depend on github.com/getlantern/hidden
warning: no packages being tested depend on github.com/getlantern/idletiming
warning: no packages being tested depend on github.com/getlantern/keyman
warning: no packages being tested depend on github.com/getlantern/lantern
warning: no packages being tested depend on github.com/getlantern/measured
warning: no packages being tested depend on github.com/getlantern/netx
warning: no packages being tested depend on github.com/getlantern/ops
warning: no packages being tested depend on github.com/getlantern/osversion
warning: no packages being tested depend on github.com/getlantern/pathreflect
warning: no packages being tested depend on github.com/getlantern/proxiedsites
warning: no packages being tested depend on github.com/getlantern/rotator
warning: no packages being tested depend on github.com/getlantern/stack
warning: no packages being tested depend on github.com/getlantern/tarfs
warning: no packages being tested depend on github.com/getlantern/tlsdefaults
warning: no packages being tested depend on github.com/getlantern/tlsdialer
warning: no packages being tested depend on github.com/getlantern/waitforserver
warning: no packages being tested depend on github.com/getlantern/wfilter
warning: no packages being tested depend on github.com/getlantern/withtimeout
May 17 19:07:35.757 - 0m0s DEBUG flashlight: flashlight.go:66 ****************************** Package Version: 9999.99.99
May 17 19:07:35.757 - 0m0s DEBUG flashlight.util: hash.go:22 Hashing file at path /tmp/go-build609265923/github.com/getlantern/eventual/_test/eventual.test
May 17 19:07:35.899 - 0m0s DEBUG flashlight.ui: ui.go:56 Creating tarfs filesystem that prefers local resources at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:07:35.901 - 0m0s DEBUG tarfs: tarfs.go:62 Using local filesystem at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:07:35.915 - 0m0s DEBUG flashlight: settings.go:60 Loading settings
May 17 19:07:35.916 - 0m0s DEBUG flashlight: settings.go:71 Could not read file open /home/travis/.lantern/settings.yaml: no such file or directory
May 17 19:07:35.919 - 0m0s DEBUG flashlight.ui: service.go:132 Accepting websocket connections at: /data
May 17 19:07:35.920 - 0m0s DEBUG flashlight: settings.go:120 Sending Lantern settings to new client
May 17 19:07:35.922 - 0m0s DEBUG flashlight: settings.go:132 Reading settings messages!!
=== RUN   TestSingle
--- PASS: TestSingle (0.08s)
=== RUN   TestNoSet
--- PASS: TestNoSet (0.07s)
=== RUN   TestCancelImmediate
--- PASS: TestCancelImmediate (0.01s)
=== RUN   TestCancelAfterSet
--- PASS: TestCancelAfterSet (0.00s)
=== RUN   TestConcurrent
--- PASS: TestConcurrent (0.11s)
PASS
coverage: 6.9% of statements in github.com/getlantern/fdcount, github.com/getlantern/appdir, github.com/getlantern/balancer, github.com/getlantern/bandwidth, github.com/getlantern/borda/client, github.com/getlantern/buuid, github.com/getlantern/bytecounting, github.com/getlantern/byteexec, github.com/getlantern/chained, github.com/getlantern/checkfallbacks, github.com/getlantern/connpool, github.com/getlantern/context, github.com/getlantern/deepcopy, github.com/getlantern/detour, github.com/getlantern/errors, github.com/getlantern/eventual, github.com/getlantern/flashlight, github.com/getlantern/flashlight/app, github.com/getlantern/flashlight/client, github.com/getlantern/flashlight/config, github.com/getlantern/flashlight/logging, github.com/getlantern/flashlight/proxied, github.com/getlantern/flashlight/util, github.com/getlantern/fronted, github.com/getlantern/geolookup, github.com/getlantern/golog, github.com/getlantern/hex, github.com/getlantern/hidden, github.com/getlantern/idletiming, github.com/getlantern/keyman, github.com/getlantern/lantern, github.com/getlantern/measured, github.com/getlantern/netx, github.com/getlantern/ops, github.com/getlantern/osversion, github.com/getlantern/pathreflect, github.com/getlantern/proxiedsites, github.com/getlantern/rotator, github.com/getlantern/stack, github.com/getlantern/tarfs, github.com/getlantern/tlsdefaults, github.com/getlantern/tlsdialer, github.com/getlantern/waitforserver, github.com/getlantern/wfilter, github.com/getlantern/withtimeout
ok  	github.com/getlantern/eventual	1.573s
warning: no packages being tested depend on github.com/getlantern/fdcount
warning: no packages being tested depend on github.com/getlantern/buuid
warning: no packages being tested depend on github.com/getlantern/bytecounting
warning: no packages being tested depend on github.com/getlantern/byteexec
warning: no packages being tested depend on github.com/getlantern/checkfallbacks
warning: no packages being tested depend on github.com/getlantern/connpool
warning: no packages being tested depend on github.com/getlantern/deepcopy
warning: no packages being tested depend on github.com/getlantern/flashlight/app
warning: no packages being tested depend on github.com/getlantern/flashlight/util
warning: no packages being tested depend on github.com/getlantern/lantern
warning: no packages being tested depend on github.com/getlantern/measured
warning: no packages being tested depend on github.com/getlantern/pathreflect
warning: no packages being tested depend on github.com/getlantern/tlsdefaults
warning: no packages being tested depend on github.com/getlantern/waitforserver
May 17 19:08:18.414 - 0m0s DEBUG flashlight: flashlight.go:66 ****************************** Package Version: 9999.99.99
May 17 19:08:18.416 - 0m0s DEBUG flashlight.util: hash.go:22 Hashing file at path /tmp/go-build634150170/github.com/getlantern/flashlight/_test/flashlight.test
May 17 19:08:18.559 - 0m0s DEBUG flashlight.ui: ui.go:56 Creating tarfs filesystem that prefers local resources at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:08:18.559 - 0m0s DEBUG tarfs: tarfs.go:62 Using local filesystem at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:08:18.577 - 0m0s DEBUG flashlight: settings.go:60 Loading settings
May 17 19:08:18.577 - 0m0s DEBUG flashlight: settings.go:71 Could not read file open /home/travis/.lantern/settings.yaml: no such file or directory
May 17 19:08:18.578 - 0m0s DEBUG flashlight.ui: service.go:132 Accepting websocket connections at: /data
May 17 19:08:18.578 - 0m0s DEBUG flashlight: settings.go:120 Sending Lantern settings to new client
May 17 19:08:18.579 - 0m0s DEBUG flashlight: settings.go:132 Reading settings messages!!
testing: warning: no tests to run
PASS
coverage: 6.0% of statements in github.com/getlantern/fdcount, github.com/getlantern/appdir, github.com/getlantern/balancer, github.com/getlantern/bandwidth, github.com/getlantern/borda/client, github.com/getlantern/buuid, github.com/getlantern/bytecounting, github.com/getlantern/byteexec, github.com/getlantern/chained, github.com/getlantern/checkfallbacks, github.com/getlantern/connpool, github.com/getlantern/context, github.com/getlantern/deepcopy, github.com/getlantern/detour, github.com/getlantern/errors, github.com/getlantern/eventual, github.com/getlantern/flashlight, github.com/getlantern/flashlight/app, github.com/getlantern/flashlight/client, github.com/getlantern/flashlight/config, github.com/getlantern/flashlight/logging, github.com/getlantern/flashlight/proxied, github.com/getlantern/flashlight/util, github.com/getlantern/fronted, github.com/getlantern/geolookup, github.com/getlantern/golog, github.com/getlantern/hex, github.com/getlantern/hidden, github.com/getlantern/idletiming, github.com/getlantern/keyman, github.com/getlantern/lantern, github.com/getlantern/measured, github.com/getlantern/netx, github.com/getlantern/ops, github.com/getlantern/osversion, github.com/getlantern/pathreflect, github.com/getlantern/proxiedsites, github.com/getlantern/rotator, github.com/getlantern/stack, github.com/getlantern/tarfs, github.com/getlantern/tlsdefaults, github.com/getlantern/tlsdialer, github.com/getlantern/waitforserver, github.com/getlantern/wfilter, github.com/getlantern/withtimeout
ok  	github.com/getlantern/flashlight	1.309s
warning: no packages being tested depend on github.com/getlantern/fdcount
warning: no packages being tested depend on github.com/getlantern/buuid
warning: no packages being tested depend on github.com/getlantern/bytecounting
warning: no packages being tested depend on github.com/getlantern/checkfallbacks
warning: no packages being tested depend on github.com/getlantern/connpool
warning: no packages being tested depend on github.com/getlantern/deepcopy
warning: no packages being tested depend on github.com/getlantern/lantern
warning: no packages being tested depend on github.com/getlantern/measured
warning: no packages being tested depend on github.com/getlantern/pathreflect
warning: no packages being tested depend on github.com/getlantern/tlsdefaults
warning: no packages being tested depend on github.com/getlantern/waitforserver
May 17 19:09:06.255 - 0m0s DEBUG flashlight: flashlight.go:66 ****************************** Package Version: 9999.99.99
May 17 19:09:06.256 - 0m0s DEBUG flashlight.util: hash.go:22 Hashing file at path /tmp/go-build997219519/github.com/getlantern/flashlight/app/_test/app.test
May 17 19:09:06.425 - 0m0s DEBUG flashlight.ui: ui.go:56 Creating tarfs filesystem that prefers local resources at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:09:06.425 - 0m0s DEBUG tarfs: tarfs.go:62 Using local filesystem at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:09:06.452 - 0m0s DEBUG flashlight: settings.go:60 Loading settings
May 17 19:09:06.452 - 0m0s DEBUG flashlight: settings.go:71 Could not read file open /home/travis/.lantern/settings.yaml: no such file or directory
May 17 19:09:06.453 - 0m0s DEBUG flashlight.ui: service.go:132 Accepting websocket connections at: /data
May 17 19:09:06.453 - 0m0s DEBUG flashlight: settings.go:120 Sending Lantern settings to new client
=== RUN   TestProxying
May 17 19:09:06.457 - 0m0s DEBUG flashlight: settings.go:132 Reading settings messages!!
At least one of the Key/Cert files is not found -> Generating new key pair
Creating new PK at: webkey.pem
Creating new server cert at: webcert.pem
May 17 19:09:07.809 - 0m1s DEBUG http-proxy-lantern.analytics: analytics.go:64 Will report analytics to Google as  using hostname 'travis-job-655836f0-ec78-4b43-b363-cd9f4c8d77d6', sampling 0 percent of requests
May 17 19:09:07.814 - 0m1s DEBUG server: server.go:118 Wrapping listener with Allow
At least one of the Key/Cert files is not found -> Generating new key pair
May 17 19:09:07.815 - 0m1s DEBUG lantern-proxy: http_proxy.go:215 obfs4 listening at 127.0.0.1:18347
Creating new PK at: ./proxykey.pem
Creating new server cert at: ./proxycert.pem
May 17 19:09:08.309 - 0m2s DEBUG server: server.go:98 Listen https on localhost:18346
May 17 19:09:08.319 - 0m2s DEBUG flashlight: app.go:82 map[cloudconfig:http://127.0.0.1:46122 frontedconfig:http://127.0.0.1:46122 addr:localhost:18345 headless:true readableconfig:true proxyall:true configdir:. stickyconfig:false clear-proxy-settings:false uiaddr:127.0.0.1:16823]
May 17 19:09:08.319 - 0m2s DEBUG flashlight: pac.go:198 Cycling the pac file
May 17 19:09:08.320 - 0m2s ERROR flashlight: settings.go:211 Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory [error=Could not write settings file %v error_location=github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211) error_op=open error_text=Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory error_type=errors.Error]
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).unlockAndSave (settings.go:347)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetProxyAll (settings.go:235)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*App).Run.func1 (app.go:86)
ERROR flashlight: settings.go:211   at runtime.goexit (asm_amd64.s:1998)
ERROR flashlight: settings.go:211 Caused by: no such file or directory
May 17 19:09:08.322 - 0m2s DEBUG flashlight: flashlight.go:200 ---- flashlight version: development, release: 9999.99.99, build revision date: now ----
May 17 19:09:08.322 - 0m2s DEBUG flashlight.config: initializer.go:141 Not configuring for staging.
May 17 19:09:08.323 - 0m2s DEBUG flashlight.config: initializer.go:114 Overridding chained URL from the command line 'http://127.0.0.1:46122'
May 17 19:09:08.323 - 0m2s DEBUG flashlight.config: initializer.go:123 Overridding fronted URL from the command line 'http://127.0.0.1:46122'
May 17 19:09:08.323 - 0m2s DEBUG flashlight.client: client.go:321 Using config dir .
May 17 19:09:08.326 - 0m2s DEBUG flashlight.config: config.go:130 Sending saved config for .packaged-lantern.yaml
May 17 19:09:08.326 - 0m2s DEBUG flashlight: flashlight.go:107 Applying proxy config with proxies: map[fallback-template:0xc820343a40]
May 17 19:09:08.326 - 0m2s DEBUG flashlight.client: client.go:191 Configure() called
May 17 19:09:08.327 - 0m2s DEBUG flashlight.client: balancer.go:25 Adding 1 chained servers
May 17 19:09:08.328 - 0m2s DEBUG flashlight.client: balancer.go:35 Adding chained server: localhost:18346
May 17 19:09:08.335 - 0m2s DEBUG flashlight.config: initializer.go:155 Not configuring for staging.
May 17 19:09:08.336 - 0m2s DEBUG flashlight.config: initializer.go:114 Overridding chained URL from the command line 'http://127.0.0.1:46122'
May 17 19:09:08.336 - 0m2s DEBUG flashlight.config: initializer.go:123 Overridding fronted URL from the command line 'http://127.0.0.1:46122'
May 17 19:09:08.336 - 0m2s DEBUG flashlight.client: client.go:321 Using config dir .
May 17 19:09:08.336 - 0m2s DEBUG flashlight.config: config.go:119 Could not load stored config Unable to open config file global.yaml for reading: open global.yaml: no such file or directory
May 17 19:09:08.352 - 0m2s DEBUG flashlight.config: fetcher.go:52 Will poll for config at http://127.0.0.1:46122/proxies.yaml.gz (http://127.0.0.1:46122/proxies.yaml.gz)
May 17 19:09:08.352 - 0m2s DEBUG flashlight.config: fetcher.go:74 Fetching cloud config from http://127.0.0.1:46122/proxies.yaml.gz (http://127.0.0.1:46122/proxies.yaml.gz) [op=fetch_config root_op=fetch_config]
May 17 19:09:09.363 - 0m3s DEBUG flashlight.config: config.go:125 Sending embedded config for .packaged-lantern.yaml
May 17 19:09:09.363 - 0m3s DEBUG flashlight: app.go:123 Got first config
May 17 19:09:09.365 - 0m3s DEBUG flashlight: flashlight.go:115 Applying global config
May 17 19:09:09.367 - 0m3s DEBUG flashlight.config: bootstrap.go:129 Opening bootstrap file from: /tmp/go-build997219519/github.com/getlantern/flashlight/app/.packaged-lantern.yaml
May 17 19:09:09.368 - 0m3s DEBUG fronted: direct.go:112 Loading candidates
May 17 19:09:09.377 - 0m3s DEBUG flashlight.config: bootstrap.go:63 Opening file at: /tmp/go-build997219519/github.com/getlantern/flashlight/app/.packaged-lantern.yaml
May 17 19:09:09.378 - 0m3s DEBUG flashlight.config: bootstrap.go:68 Error reading file open /tmp/go-build997219519/github.com/getlantern/flashlight/app/.packaged-lantern.yaml: no such file or directory
May 17 19:09:09.378 - 0m3s DEBUG flashlight.config: bootstrap.go:63 Opening file at: /home/travis/.lantern/.packaged-lantern.yaml
May 17 19:09:09.378 - 0m3s DEBUG flashlight.config: bootstrap.go:68 Error reading file open /home/travis/.lantern/.packaged-lantern.yaml: no such file or directory
May 17 19:09:09.379 - 0m3s ERROR flashlight: app.go:162 Could not read settings? open /home/travis/.lantern/.packaged-lantern.yaml: no such file or directory [error=Could not read settings? %v error_location=github.com/getlantern/flashlight/app.(*App).beforeStart (app.go:162) error_op=open error_text=Could not read settings? open /home/travis/.lantern/.packaged-lantern.yaml: no such file or directory error_type=errors.Error]
ERROR flashlight: app.go:162   at github.com/getlantern/flashlight/app.(*App).beforeStart (app.go:162)
ERROR flashlight: app.go:162   at github.com/getlantern/flashlight/app.(*App).(github.com/getlantern/flashlight/app.beforeStart)-fm (app.go:104)
ERROR flashlight: app.go:162   at github.com/getlantern/flashlight.Run (flashlight.go:124)
ERROR flashlight: app.go:162   at github.com/getlantern/flashlight/app.(*App).Run.func1 (app.go:109)
ERROR flashlight: app.go:162   at runtime.goexit (asm_amd64.s:1998)
ERROR flashlight: app.go:162 Caused by: no such file or directory
May 17 19:09:09.379 - 0m3s DEBUG flashlight: app.go:170 Starting client UI at 127.0.0.1:16823
May 17 19:09:09.379 - 0m3s DEBUG flashlight.ui: ui.go:137 UI available at http://0.0.0.0:16823
May 17 19:09:09.379 - 0m3s DEBUG flashlight: bandwidth.go:15 Sending current bandwidth quota to new client
May 17 19:09:09.381 - 0m3s DEBUG flashlight: flashlight.go:126 Preparing to start client proxy
May 17 19:09:09.381 - 0m3s DEBUG flashlight.geolookup: geolookup.go:57 Requested refresh
May 17 19:09:09.382 - 0m3s DEBUG flashlight: flashlight.go:143 Starting client HTTP proxy
May 17 19:09:09.382 - 0m3s DEBUG flashlight.client: client.go:118 About to listen
May 17 19:09:09.382 - 0m3s DEBUG flashlight: flashlight.go:146 Started client HTTP proxy
May 17 19:09:09.382 - 0m3s DEBUG flashlight: pac.go:180 Setting lantern as system proxy
May 17 19:09:09.382 - 0m3s DEBUG flashlight: pac.go:181 Serving PAC file at http://0.0.0.0:16823/proxy_on.pac
May 17 19:09:09.393 - 0m3s DEBUG flashlight: flashlight.go:133 Starting client SOCKS5 proxy
May 17 19:09:09.395 - 0m3s DEBUG flashlight.client: client.go:183 About to start SOCKS5 client proxy at 127.0.0.1:8788
May 17 19:09:09.405 - 0m3s DEBUG flashlight.config: fetcher.go:52 Will poll for config at http://127.0.0.1:46122/global.yaml.gz (http://127.0.0.1:46122/global.yaml.gz)
May 17 19:09:09.405 - 0m3s DEBUG flashlight.config: fetcher.go:74 Fetching cloud config from http://127.0.0.1:46122/global.yaml.gz (http://127.0.0.1:46122/global.yaml.gz) [op=fetch_config root_op=fetch_config]
May 17 19:09:09.406 - 0m3s DEBUG geolookup: geolookup.go:131 Fetching ip... [op=geolookup root_op=geolookup]
May 17 19:09:09.451 - 0m3s DEBUG flashlight.logging: logging.go:121 No logglyToken, not reporting errors
May 17 19:09:09.451 - 0m3s DEBUG flashlight.proxiedsites: proxiedsites.go:19 Configuring
May 17 19:09:09.467 - 0m3s DEBUG flashlight.proxied: proxied.go:193 Using dual fronter [http_method=GET http_proto=HTTP/1.1 op=chainedandfronted origin=127.0.0.1:46122 origin_host=127.0.0.1 origin_port=46122 root_op=fetch_config]
May 17 19:09:09.468 - 0m3s DEBUG flashlight.proxied: proxied.go:193 Using dual fronter [http_method=GET http_proto=HTTP/1.1 op=chainedandfronted origin=127.0.0.1:46122 origin_host=127.0.0.1 origin_port=46122 root_op=fetch_config]
May 17 19:09:09.470 - 0m3s DEBUG flashlight.proxied: proxied.go:292 Sending chained request: false [http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=127.0.0.1:46122 origin_host=127.0.0.1 origin_port=46122 root_op=fetch_config]
May 17 19:09:09.471 - 0m3s DEBUG flashlight.proxied: proxied.go:265 In fronted [http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=127.0.0.1:46122 origin_host=127.0.0.1 origin_port=46122 root_op=fetch_config]
May 17 19:09:09.471 - 0m3s DEBUG flashlight.proxied: proxied.go:279 Sending request via DDF: false [fronted_url=http://127.0.0.1:46122/global.yaml.gz http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=127.0.0.1:46122 origin_host=127.0.0.1 origin_port=46122 proxy_type=fronted root_op=fetch_config]
May 17 19:09:09.472 - 0m3s DEBUG flashlight.proxied: proxied.go:193 Using dual fronter [http_method=GET http_proto=HTTP/1.1 op=chainedandfronted origin=geo.getiantem.org root_op=geolookup]
May 17 19:09:09.473 - 0m3s DEBUG flashlight.proxied: proxied.go:292 Sending chained request: false [http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=geo.getiantem.org root_op=geolookup]
May 17 19:09:09.474 - 0m3s DEBUG flashlight.proxied: proxied.go:265 In fronted [http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=geo.getiantem.org root_op=geolookup]
May 17 19:09:09.474 - 0m3s DEBUG flashlight.proxied: proxied.go:279 Sending request via DDF: false [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/ http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=geo.getiantem.org proxy_type=fronted root_op=geolookup]
May 17 19:09:09.477 - 0m3s DEBUG flashlight.proxied: proxied.go:265 In fronted [http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=127.0.0.1:46122 origin_host=127.0.0.1 origin_port=46122 root_op=fetch_config]
May 17 19:09:09.477 - 0m3s DEBUG flashlight.proxied: proxied.go:279 Sending request via DDF: false [fronted_url=http://127.0.0.1:46122/proxies.yaml.gz http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=127.0.0.1:46122 origin_host=127.0.0.1 origin_port=46122 proxy_type=fronted root_op=fetch_config]
May 17 19:09:09.478 - 0m3s DEBUG flashlight.proxied: proxied.go:292 Sending chained request: false [fronted_url=http://127.0.0.1:46122/proxies.yaml.gz http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=127.0.0.1:46122 origin_host=127.0.0.1 origin_port=46122 proxy_type=fronted root_op=fetch_config]
May 17 19:09:09.617 - 0m3s DEBUG proxiedsites: proxiedsites.go:151 Applied updated configuration
May 17 19:09:09.617 - 0m3s DEBUG proxiedsites: proxiedsites.go:152 7298 additions, 0 deletions
May 17 19:09:09.617 - 0m3s DEBUG flashlight.proxiedsites: proxiedsites.go:31 Updating detour with 7298 additions and 0 deletions
May 17 19:09:09.747 - 0m3s DEBUG fronted: cache.go:80 Caching vetted masquerade for cloudfront.net (54.182.226.46)
May 17 19:09:09.776 - 0m3s DEBUG fronted: cache.go:80 Caching vetted masquerade for cloudfront.net (54.182.196.59)
May 17 19:09:09.794 - 0m3s ERROR flashlight: pac.go:217 Unable to set lantern as system proxy: Unable to execute /home/travis/.byteexec/pac-cmd: signal: trace/breakpoint trap (core dumped)

(process:4139): GLib-GIO-ERROR **: Settings schema 'org.gnome.system.proxy' is not installed

 [error=Unable to set lantern as system proxy: %v error_location=github.com/getlantern/flashlight/app.doPACOn (pac.go:217) error_op= error_text=Unable to set lantern as system proxy: Unable to execute /home/travis/.byteexec/pac-cmd: signal: trace/breakpoint trap (core dumped)

(process:4139): GLib-GIO-ERROR **: Settings schema 'org.gnome.system.proxy' is not installed

 error_type=errors.Error]
ERROR flashlight: pac.go:217   at github.com/getlantern/flashlight/app.doPACOn (pac.go:217)
ERROR flashlight: pac.go:217   at github.com/getlantern/flashlight/app.pacOn (pac.go:182)
ERROR flashlight: pac.go:217   at github.com/getlantern/flashlight/app.(*App).afterStart (app.go:213)
ERROR flashlight: pac.go:217   at github.com/getlantern/flashlight/app.(*App).(github.com/getlantern/flashlight/app.afterStart)-fm (app.go:105)
ERROR flashlight: pac.go:217   at github.com/getlantern/flashlight.Run.func4 (flashlight.go:147)
ERROR flashlight: pac.go:217   at github.com/getlantern/flashlight/client.(*Client).ListenAndServeHTTP (client.go:136)
ERROR flashlight: pac.go:217   at github.com/getlantern/flashlight.Run (flashlight.go:148)
ERROR flashlight: pac.go:217   at github.com/getlantern/flashlight/app.(*App).Run.func1 (app.go:109)
ERROR flashlight: pac.go:217   at runtime.goexit (asm_amd64.s:1998)
ERROR flashlight: pac.go:217 Caused by: Unable to execute /home/travis/.byteexec/pac-cmd: signal: trace/breakpoint trap (core dumped)

(process:4139): GLib-GIO-ERROR **: Settings schema 'org.gnome.system.proxy' is not installed


May 17 19:09:09.794 - 0m3s DEBUG flashlight: app.go:224 Not opening browser. Startup is: <nil>
May 17 19:09:09.794 - 0m3s DEBUG flashlight.client: client.go:145 About to start HTTP client proxy at 127.0.0.1:18345
May 17 19:09:09.800 - 0m3s DEBUG flashlight.autoupdate: autoupdate.go:72 Software version: 9999.99.99
May 17 19:09:09.800 - 0m3s DEBUG autoupdate: autoupdate.go:59 Defaulted CheckInterval to 4h0m0s
May 17 19:09:09.805 - 0m3s DEBUG flashlight.client: handler.go:51 Reverse proxying GET http://geo.getiantem.org/lookup/ [op=proxy root_op=proxy user_agent=Go-http-client/1.1]
May 17 19:09:09.812 - 0m3s DEBUG flashlight.client: handler.go:51 Reverse proxying GET http://127.0.0.1:46122/proxies.yaml.gz [op=proxy origin_host=127.0.0.1 origin_port=46122 root_op=proxy user_agent=Go-http-client/1.1]
May 17 19:09:09.813 - 0m3s DEBUG flashlight.client: handler.go:51 Reverse proxying GET http://127.0.0.1:46122/global.yaml.gz [op=proxy origin_host=127.0.0.1 origin_port=46122 root_op=proxy user_agent=Go-http-client/1.1]
May 17 19:09:09.814 - 0m3s DEBUG flashlight.client: handler.go:51 Reverse proxying GET http://127.0.0.1:38814/ [op=proxy origin_host=127.0.0.1 origin_port=38814 root_op=proxy user_agent=Go-http-client/1.1]
May 17 19:09:09.814 - 0m3s DEBUG balancer: balancer.go:102 Balancer idle for 432811h9m9.814629401s, start checking all dialers [detour=false op=proxied_dialer root_op=proxied_dialer]
May 17 19:09:09.822 - 0m3s DEBUG fronted: cache.go:80 Caching vetted masquerade for cloudfront.net (54.182.196.83)
May 17 19:09:09.982 - 0m3s DEBUG fronted: cache.go:80 Caching vetted masquerade for cloudfront.net (54.182.194.90)
May 17 19:09:10.017 - 0m3s DEBUG fronted: cache.go:80 Caching vetted masquerade for cloudfront.net (54.182.209.89)
May 17 19:09:10.039 - 0m3s DEBUG fronted: cache.go:80 Caching vetted masquerade for cloudfront.net (54.182.201.154)
May 17 19:09:10.042 - 0m3s DEBUG fronted: cache.go:80 Caching vetted masquerade for cloudfront.net (54.182.192.23)
May 17 19:09:10.047 - 0m3s DEBUG flashlight.proxied: proxied.go:245 Got successful HTTP call! [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/ http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=geolookup]
May 17 19:09:10.047 - 0m3s DEBUG flashlight.proxied: proxied.go:284 Fronted request succeeded [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/ http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=geolookup]
May 17 19:09:10.049 - 0m3s DEBUG flashlight.proxied: proxied.go:376 Got good first response [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/ http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=geolookup]
May 17 19:09:10.051 - 0m3s DEBUG flashlight.client: client.go:239 Dialing proxy takes 236.423003ms for 127.0.0.1:38814 [detour=false op=proxied_dialer root_op=proxied_dialer]
May 17 19:09:10.053 - 0m3s DEBUG flashlight.client: client.go:239 Dialing proxy takes 229.483125ms for 127.0.0.1:46122 [detour=false op=proxied_dialer root_op=proxied_dialer]
May 17 19:09:10.057 - 0m3s DEBUG flashlight.client: client.go:239 Dialing proxy takes 233.929683ms for geo.getiantem.org:80 [detour=false op=proxied_dialer root_op=proxied_dialer]
May 17 19:09:10.068 - 0m3s DEBUG tokenfilter: tokenfilter.go:59 Allowing connection from 127.0.0.1:36686 to geo.getiantem.org [client_ip=127.0.0.1 device_id=QgEKFAWo op=tokenfilter origin=geo.getiantem.org root_op=proxy]
May 17 19:09:10.071 - 0m3s DEBUG flashlight.client: client.go:239 Dialing proxy takes 245.822846ms for 127.0.0.1:46122 [detour=false op=proxied_dialer root_op=proxied_dialer]
May 17 19:09:10.074 - 0m3s DEBUG tokenfilter: tokenfilter.go:59 Allowing connection from 127.0.0.1:36688 to ping-chained-server [client_ip=127.0.0.1 device_id=QgEKFAWo op=tokenfilter origin=ping-chained-server root_op=proxy]
May 17 19:09:10.078 - 0m3s DEBUG tokenfilter: tokenfilter.go:59 Allowing connection from 127.0.0.1:36684 to 127.0.0.1:46122 [client_ip=127.0.0.1 device_id=QgEKFAWo op=tokenfilter origin=127.0.0.1:46122 root_op=proxy]
May 17 19:09:10.081 - 0m3s DEBUG tokenfilter: tokenfilter.go:59 Allowing connection from 127.0.0.1:36682 to 127.0.0.1:38814 [client_ip=127.0.0.1 device_id=QgEKFAWo op=tokenfilter origin=127.0.0.1:38814 root_op=proxy]
May 17 19:09:10.060 - 0m3s DEBUG geolookup: geolookup.go:163 Successfully looked up IP '35.193.7.13' and country 'US' [op=geolookup root_op=geolookup]
May 17 19:09:10.085 - 0m3s DEBUG flashlight.geolookup: geolookup.go:90 IP is 35.193.7.13
May 17 19:09:10.085 - 0m3s DEBUG flashlight.geolookup: geolookup.go:70 Got new geolocation info
May 17 19:09:10.091 - 0m3s DEBUG flashlight.analytics: analytics.go:53 Starting analytics session with ip 35.193.7.13
May 17 19:09:10.095 - 0m3s DEBUG flashlight.analytics: analytics.go:148 Full analytics request: POST /collect HTTP/1.1
Host: ssl.google-analytics.com
User-Agent: Go-http-client/1.1
Content-Length: 187
Content-Type: application/x-www-form-urlencoded
Accept-Encoding: gzip

aip=1&cd1=development&cd2=development-3056bcc7e4acd43fc43ddbea3a7928372bdd3ac35282b8f894dcf7fc36890fba&cid=QgEKFAWo&dp=localhost&sc=start&t=pageview&tid=UA-21815217-12&uip=35.193.7.13&v=1
May 17 19:09:10.101 - 0m3s DEBUG tokenfilter: tokenfilter.go:59 Allowing connection from 127.0.0.1:36680 to 127.0.0.1:46122 [client_ip=127.0.0.1 device_id=QgEKFAWo op=tokenfilter origin=127.0.0.1:46122 root_op=proxy]
May 17 19:09:10.118 - 0m3s DEBUG flashlight: integration_test.go:165 Reading request path: /proxies.yaml.gz
May 17 19:09:10.118 - 0m3s DEBUG flashlight: integration_test.go:206 Writing proxy config
May 17 19:09:10.144 - 0m3s DEBUG forward: forward.go:92 Round trip: http://127.0.0.1:38814/, code: 200, duration: 48.939367ms [client_ip=127.0.0.1 device_id=QgEKFAWo op=proxy_http origin=127.0.0.1:38814 root_op=proxy]
May 17 19:09:10.172 - 0m3s DEBUG flashlight: integration_test.go:165 Reading request path: /global.yaml.gz
May 17 19:09:10.172 - 0m3s DEBUG flashlight: integration_test.go:178 Writing global config
May 17 19:09:10.190 - 0m3s DEBUG forward: forward.go:92 Round trip: http://127.0.0.1:46122/proxies.yaml.gz, code: 200, duration: 108.99081ms [client_ip=127.0.0.1 device_id=QgEKFAWo op=proxy_http origin=127.0.0.1:46122 root_op=proxy]
May 17 19:09:10.219 - 0m3s DEBUG bandwidth: bandwidth.go:57 Response missing XBQ header, can't read bandwidth quota [op=proxy origin_host=127.0.0.1 origin_port=38814 root_op=proxy user_agent=Go-http-client/1.1]
May 17 19:09:10.228 - 0m3s DEBUG bandwidth: bandwidth.go:57 Response missing XBQ header, can't read bandwidth quota [op=proxy origin_host=127.0.0.1 origin_port=46122 root_op=proxy user_agent=Go-http-client/1.1]
May 17 19:09:10.237 - 0m3s DEBUG tokenfilter: tokenfilter.go:59 Allowing connection from 127.0.0.1:36706 to ssl.google-analytics.com:443 [client_ip=127.0.0.1 device_id=QgEKFAWo op=tokenfilter origin=ssl.google-analytics.com:443 root_op=proxy]
May 17 19:09:10.250 - 0m3s DEBUG bandwidth: bandwidth.go:57 Response missing XBQ header, can't read bandwidth quota [detour=false op=dial_for_balancer origin_host=ssl.google-analytics.com origin_port=443 proxy_host=localhost proxy_port=18346 proxy_type=chained root_op=proxy user_agent=Go-http-client/1.1]
May 17 19:09:10.252 - 0m3s DEBUG flashlight.client: client.go:239 Dialing proxy takes 130.750731ms for ssl.google-analytics.com:443 [detour=false op=proxied_dialer origin_host=ssl.google-analytics.com origin_port=443 root_op=proxy user_agent=Go-http-client/1.1]
May 17 19:09:10.261 - 0m4s DEBUG flashlight.proxied: proxied.go:245 Got successful HTTP call! [fronted_url=http://127.0.0.1:46122/proxies.yaml.gz http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=127.0.0.1:46122 origin_host=127.0.0.1 origin_port=46122 proxy_type=fronted root_op=fetch_config]
May 17 19:09:10.261 - 0m4s DEBUG flashlight.proxied: proxied.go:295 Switching to chained fronter for future requests since it succeeded [fronted_url=http://127.0.0.1:46122/proxies.yaml.gz http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=127.0.0.1:46122 origin_host=127.0.0.1 origin_port=46122 proxy_type=fronted root_op=fetch_config]
May 17 19:09:10.263 - 0m4s DEBUG flashlight.proxied: proxied.go:376 Got good first response [fronted_url=http://127.0.0.1:46122/proxies.yaml.gz http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=127.0.0.1:46122 origin_host=127.0.0.1 origin_port=46122 proxy_type=fronted root_op=fetch_config]
May 17 19:09:10.267 - 0m4s DEBUG flashlight.config: fetcher.go:124 Response headers from http://127.0.0.1:46122/proxies.yaml.gz (http://127.0.0.1:46122/proxies.yaml.gz):
HTTP/1.1 200 OK
Connection: close
Content-Length: 985
Content-Type: application/x-gzip
Date: Fri, 17 May 2019 19:09:10 GMT
X-Lantern-Etag: 1

 [op=fetch_config root_op=fetch_config]
May 17 19:09:10.268 - 0m4s DEBUG flashlight.config: fetcher.go:171 Fetched cloud config [op=fetch_config root_op=fetch_config]
May 17 19:09:10.292 - 0m4s DEBUG flashlight.config: config.go:226 Fetched config! map[fallback-template:0xc820342230]
May 17 19:09:10.298 - 0m4s DEBUG flashlight.config: config.go:229 Sent to save chan
May 17 19:09:10.303 - 0m4s DEBUG flashlight.config: config.go:291 Wrote file at proxies.yaml
May 17 19:09:10.310 - 0m4s DEBUG flashlight: flashlight.go:107 Applying proxy config with proxies: map[fallback-template:0xc820342230]
May 17 19:09:10.316 - 0m4s DEBUG flashlight.client: client.go:191 Configure() called
May 17 19:09:10.317 - 0m4s DEBUG flashlight.client: balancer.go:25 Adding 1 chained servers
May 17 19:09:10.319 - 0m4s DEBUG forward: forward.go:92 Round trip: http://geo.getiantem.org/lookup/, code: 200, duration: 249.705178ms [client_ip=127.0.0.1 device_id=QgEKFAWo op=proxy_http origin=geo.getiantem.org root_op=proxy]
May 17 19:09:10.322 - 0m4s DEBUG flashlight.client: balancer.go:35 Adding chained server: localhost:18346
May 17 19:09:10.359 - 0m4s DEBUG bandwidth: bandwidth.go:57 Response missing XBQ header, can't read bandwidth quota [op=proxy root_op=proxy user_agent=Go-http-client/1.1]
May 17 19:09:10.382 - 0m4s DEBUG flashlight.proxied: proxied.go:245 Got successful HTTP call! [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/ http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=geo.getiantem.org proxy_type=fronted root_op=geolookup]
May 17 19:09:10.385 - 0m4s DEBUG flashlight.proxied: proxied.go:295 Switching to chained fronter for future requests since it succeeded [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/ http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=geo.getiantem.org proxy_type=fronted root_op=geolookup]
May 17 19:09:10.391 - 0m4s DEBUG flashlight.proxied: proxied.go:382 Closing second response body [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/ http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=geo.getiantem.org proxy_type=fronted root_op=geolookup]
May 17 19:09:10.502 - 0m4s DEBUG fronted: cache.go:80 Caching vetted masquerade for cloudfront.net (54.182.198.27)
May 17 19:09:10.502 - 0m4s DEBUG fronted: cache.go:80 Caching vetted masquerade for cloudfront.net (54.182.216.59)
May 17 19:09:10.540 - 0m4s DEBUG fronted: cache.go:80 Caching vetted masquerade for cloudfront.net (54.182.198.13)
May 17 19:09:10.600 - 0m4s DEBUG fronted: cache.go:80 Caching vetted masquerade for cloudfront.net (54.182.215.43)
May 17 19:09:10.640 - 0m4s DEBUG tokenfilter: tokenfilter.go:59 Allowing connection from 127.0.0.1:36720 to update.getlantern.org:443 [client_ip=127.0.0.1 device_id=QgEKFAWo op=tokenfilter origin=update.getlantern.org:443 root_op=proxy]
May 17 19:09:10.644 - 0m4s DEBUG flashlight.proxied: proxied.go:406 Got an error: unsuccessful response status [fronted_url=http://127.0.0.1:46122/global.yaml.gz http_method=GET http_proto=HTTP/1.1 http_response_status_code=403 op=dualfetcher origin=127.0.0.1:46122 origin_host=127.0.0.1 origin_port=46122 proxy_type=fronted root_op=fetch_config]
May 17 19:09:10.648 - 0m4s DEBUG bandwidth: bandwidth.go:57 Response missing XBQ header, can't read bandwidth quota [detour=false op=dial_for_balancer origin_host=update.getlantern.org origin_port=443 proxy_host=localhost proxy_port=18346 proxy_type=chained root_op=proxy user_agent=Go-http-client/1.1]
May 17 19:09:10.651 - 0m4s DEBUG flashlight.client: client.go:239 Dialing proxy takes 108.442098ms for update.getlantern.org:443 [detour=false op=proxied_dialer origin_host=update.getlantern.org origin_port=443 root_op=proxy user_agent=Go-http-client/1.1]
May 17 19:09:10.661 - 0m4s DEBUG flashlight.analytics: analytics.go:161 Successfully sent request to GA: 200 OK
May 17 19:09:10.704 - 0m4s DEBUG flashlight.proxied: proxied.go:387 Ignoring error on second response [fronted_url=http://127.0.0.1:46122/proxies.yaml.gz http_method=GET http_proto=HTTP/1.1 http_response_status_code=403 op=dualfetcher origin=127.0.0.1:46122 origin_host=127.0.0.1 origin_port=46122 proxy_type=fronted root_op=fetch_config]
May 17 19:09:10.824 - 0m4s DEBUG autoupdate: autoupdate.go:78 No update available
May 17 19:09:10.904 - 0m4s DEBUG fronted: cache.go:80 Caching vetted masquerade for cloudfront.net (54.182.199.90)
May 17 19:09:11.290 - 0m5s DEBUG forward: forward.go:92 Round trip: http://127.0.0.1:46122/global.yaml.gz, code: 200, duration: 1.187737165s [client_ip=127.0.0.1 device_id=QgEKFAWo op=proxy_http origin=127.0.0.1:46122 root_op=proxy]
May 17 19:09:11.437 - 0m5s DEBUG bandwidth: bandwidth.go:57 Response missing XBQ header, can't read bandwidth quota [op=proxy origin_host=127.0.0.1 origin_port=46122 root_op=proxy user_agent=Go-http-client/1.1]
May 17 19:09:11.445 - 0m5s DEBUG flashlight.proxied: proxied.go:245 Got successful HTTP call! [fronted_url=http://127.0.0.1:46122/global.yaml.gz http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=127.0.0.1:46122 origin_host=127.0.0.1 origin_port=46122 proxy_type=fronted root_op=fetch_config]
May 17 19:09:11.446 - 0m5s DEBUG flashlight.config: fetcher.go:124 Response headers from http://127.0.0.1:46122/global.yaml.gz (http://127.0.0.1:46122/global.yaml.gz):
HTTP/1.1 200 OK
Connection: close
Transfer-Encoding: chunked
Content-Type: application/x-gzip
Date: Fri, 17 May 2019 19:09:11 GMT
X-Lantern-Etag: 1

 [op=fetch_config root_op=fetch_config]
May 17 19:09:11.446 - 0m5s DEBUG flashlight.config: fetcher.go:171 Fetched cloud config [op=fetch_config root_op=fetch_config]
May 17 19:09:11.452 - 0m5s DEBUG flashlight.proxied: proxied.go:295 Switching to chained fronter for future requests since it succeeded [fronted_url=http://127.0.0.1:46122/global.yaml.gz http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=127.0.0.1:46122 origin_host=127.0.0.1 origin_port=46122 proxy_type=fronted root_op=fetch_config]
May 17 19:09:11.855 - 0m5s DEBUG flashlight.config: config.go:226 Fetched config! &{11   https://update.getlantern.org 0 0 0 0xc820c29400 0xc820ad5b80 [0xc820cb6b60]}
May 17 19:09:11.857 - 0m5s DEBUG flashlight.config: config.go:229 Sent to save chan
May 17 19:09:11.858 - 0m5s DEBUG flashlight: flashlight.go:115 Applying global config
May 17 19:09:11.861 - 0m5s DEBUG fronted: cache.go:125 Closing cache from existing instance
May 17 19:09:11.862 - 0m5s DEBUG fronted: direct.go:112 Loading candidates
May 17 19:09:11.888 - 0m5s DEBUG flashlight.proxiedsites: proxiedsites.go:19 Configuring
May 17 19:09:11.913 - 0m5s DEBUG fronted: cache.go:76 Cache closed, stop filling
May 17 19:09:12.004 - 0m5s DEBUG proxiedsites: proxiedsites.go:151 Applied updated configuration
May 17 19:09:12.005 - 0m5s DEBUG proxiedsites: proxiedsites.go:152 1 additions, 11 deletions
May 17 19:09:12.006 - 0m5s DEBUG flashlight.proxiedsites: proxiedsites.go:31 Updating detour with 1 additions and 11 deletions
May 17 19:09:12.252 - 0m5s DEBUG flashlight.config: config.go:291 Wrote file at global.yaml
May 17 19:09:12.295 - 0m6s DEBUG fronted: cache.go:80 Caching vetted masquerade for cloudfront.net (54.240.130.58)
May 17 19:09:12.318 - 0m6s DEBUG fronted: cache.go:80 Caching vetted masquerade for cloudfront.net (54.240.130.19)
May 17 19:09:12.323 - 0m6s DEBUG fronted: cache.go:80 Caching vetted masquerade for cloudfront.net (54.240.131.41)
May 17 19:09:12.332 - 0m6s DEBUG fronted: cache.go:80 Caching vetted masquerade for cloudfront.net (54.240.130.161)
May 17 19:09:12.364 - 0m6s DEBUG fronted: cache.go:80 Caching vetted masquerade for cloudfront.net (54.240.130.30)
May 17 19:09:12.609 - 0m6s DEBUG flashlight.client: handler.go:51 Reverse proxying GET http://127.0.0.1:38814/ [op=proxy origin_host=127.0.0.1 origin_port=38814 root_op=proxy user_agent=Go-http-client/1.1]
May 17 19:09:12.616 - 0m6s DEBUG flashlight.client: client.go:239 Dialing proxy takes 5.792933ms for 127.0.0.1:38814 [detour=false op=proxied_dialer root_op=proxied_dialer]
May 17 19:09:12.619 - 0m6s DEBUG tokenfilter: tokenfilter.go:59 Allowing connection from 127.0.0.1:36780 to 127.0.0.1:38814 [client_ip=127.0.0.1 device_id=QgEKFAWo op=tokenfilter origin=127.0.0.1:38814 root_op=proxy]
May 17 19:09:12.623 - 0m6s DEBUG forward: forward.go:92 Round trip: http://127.0.0.1:38814/, code: 200, duration: 3.023695ms [client_ip=127.0.0.1 device_id=QgEKFAWo op=proxy_http origin=127.0.0.1:38814 root_op=proxy]
May 17 19:09:12.626 - 0m6s DEBUG bandwidth: bandwidth.go:57 Response missing XBQ header, can't read bandwidth quota [op=proxy origin_host=127.0.0.1 origin_port=38814 root_op=proxy user_agent=Go-http-client/1.1]
--- PASS: TestProxying (6.20s)
=== RUN   TestRead
May 17 19:09:12.660 - 0m6s DEBUG flashlight: settings.go:60 Loading settings
May 17 19:09:12.660 - 0m6s DEBUG flashlight: settings.go:80 Loaded settings from /tmp/test820227562
May 17 19:09:12.661 - 0m6s DEBUG flashlight: settings.go:132 Reading settings messages!!
May 17 19:09:12.661 - 0m6s DEBUG flashlight: settings.go:135 Read settings message!! map[autoLaunch:false systemProxy:false deviceID:8208fja09493 userID:890238588 autoReport:false proxyAll:true]
May 17 19:09:12.664 - 0m6s ERROR flashlight: settings.go:211 Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory [error=Could not write settings file %v error_location=github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211) error_op=open error_text=Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory error_type=errors.Error]
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).unlockAndSave (settings.go:347)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetAutoReport (settings.go:251)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetAutoReport-fm (settings.go:148)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).checkBool (settings.go:163)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).read (settings.go:148)
ERROR flashlight: settings.go:211   at runtime.goexit (asm_amd64.s:1998)
ERROR flashlight: settings.go:211 Caused by: no such file or directory
May 17 19:09:12.664 - 0m6s DEBUG flashlight: pac.go:198 Cycling the pac file
May 17 19:09:12.773 - 0m6s DEBUG fronted: cache.go:80 Caching vetted masquerade for cloudfront.net (54.240.130.216)
May 17 19:09:12.812 - 0m6s ERROR flashlight: pac.go:233 Unable to unset lantern as system proxy: Unable to execute /home/travis/.byteexec/pac-cmd: signal: trace/breakpoint trap (core dumped)

(process:4142): GLib-GIO-ERROR **: Settings schema 'org.gnome.system.proxy' is not installed

 [error=Unable to unset lantern as system proxy: %v error_location=github.com/getlantern/flashlight/app.doPACOff (pac.go:233) error_op= error_text=Unable to unset lantern as system proxy: Unable to execute /home/travis/.byteexec/pac-cmd: signal: trace/breakpoint trap (core dumped)

(process:4142): GLib-GIO-ERROR **: Settings schema 'org.gnome.system.proxy' is not installed

 error_type=errors.Error]
ERROR flashlight: pac.go:233   at github.com/getlantern/flashlight/app.doPACOff (pac.go:233)
ERROR flashlight: pac.go:233   at github.com/getlantern/flashlight/app.cyclePAC (pac.go:203)
ERROR flashlight: pac.go:233   at github.com/getlantern/flashlight/app.(*Settings).SetProxyAll (settings.go:234)
ERROR flashlight: pac.go:233   at github.com/getlantern/flashlight/app.(*Settings).SetProxyAll-fm (settings.go:149)
ERROR flashlight: pac.go:233   at github.com/getlantern/flashlight/app.(*Settings).checkBool (settings.go:163)
ERROR flashlight: pac.go:233   at github.com/getlantern/flashlight/app.(*Settings).read (settings.go:149)
ERROR flashlight: pac.go:233   at runtime.goexit (asm_amd64.s:1998)
ERROR flashlight: pac.go:233 Caused by: Unable to execute /home/travis/.byteexec/pac-cmd: signal: trace/breakpoint trap (core dumped)

(process:4142): GLib-GIO-ERROR **: Settings schema 'org.gnome.system.proxy' is not installed


May 17 19:09:12.845 - 0m6s DEBUG fronted: cache.go:80 Caching vetted masquerade for cloudfront.net (54.240.131.61)
May 17 19:09:12.964 - 0m6s DEBUG fronted: cache.go:80 Caching vetted masquerade for cloudfront.net (54.240.130.154)
May 17 19:09:12.970 - 0m6s ERROR flashlight: pac.go:217 Unable to set lantern as system proxy: Unable to execute /home/travis/.byteexec/pac-cmd: signal: trace/breakpoint trap (core dumped)

(process:4144): GLib-GIO-ERROR **: Settings schema 'org.gnome.system.proxy' is not installed

 [error=Unable to set lantern as system proxy: %v error_location=github.com/getlantern/flashlight/app.doPACOn (pac.go:217) error_op= error_text=Unable to set lantern as system proxy: Unable to execute /home/travis/.byteexec/pac-cmd: signal: trace/breakpoint trap (core dumped)

(process:4144): GLib-GIO-ERROR **: Settings schema 'org.gnome.system.proxy' is not installed

 error_type=errors.Error]
ERROR flashlight: pac.go:217   at github.com/getlantern/flashlight/app.doPACOn (pac.go:217)
ERROR flashlight: pac.go:217   at github.com/getlantern/flashlight/app.cyclePAC (pac.go:204)
ERROR flashlight: pac.go:217   at github.com/getlantern/flashlight/app.(*Settings).SetProxyAll (settings.go:234)
ERROR flashlight: pac.go:217   at github.com/getlantern/flashlight/app.(*Settings).SetProxyAll-fm (settings.go:149)
ERROR flashlight: pac.go:217   at github.com/getlantern/flashlight/app.(*Settings).checkBool (settings.go:163)
ERROR flashlight: pac.go:217   at github.com/getlantern/flashlight/app.(*Settings).read (settings.go:149)
ERROR flashlight: pac.go:217   at runtime.goexit (asm_amd64.s:1998)
ERROR flashlight: pac.go:217 Caused by: Unable to execute /home/travis/.byteexec/pac-cmd: signal: trace/breakpoint trap (core dumped)

(process:4144): GLib-GIO-ERROR **: Settings schema 'org.gnome.system.proxy' is not installed


May 17 19:09:12.972 - 0m6s ERROR flashlight: settings.go:211 Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory [error=Could not write settings file %v error_location=github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211) error_op=open error_text=Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory error_type=errors.Error]
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).unlockAndSave (settings.go:347)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetProxyAll (settings.go:235)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetProxyAll-fm (settings.go:149)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).checkBool (settings.go:163)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).read (settings.go:149)
ERROR flashlight: settings.go:211   at runtime.goexit (asm_amd64.s:1998)
ERROR flashlight: settings.go:211 Caused by: no such file or directory
May 17 19:09:12.973 - 0m6s ERROR flashlight: settings.go:211 Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory [error=Could not write settings file %v error_location=github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211) error_op=open error_text=Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory error_type=errors.Error]
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).unlockAndSave (settings.go:347)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetAutoLaunch (settings.go:260)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetAutoLaunch-fm (settings.go:150)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).checkBool (settings.go:163)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).read (settings.go:150)
ERROR flashlight: settings.go:211   at runtime.goexit (asm_amd64.s:1998)
ERROR flashlight: settings.go:211 Caused by: no such file or directory
May 17 19:09:12.974 - 0m6s DEBUG flashlight: pac.go:190 Unsetting lantern as system proxy
May 17 19:09:13.120 - 0m6s ERROR flashlight: pac.go:233 Unable to unset lantern as system proxy: Unable to execute /home/travis/.byteexec/pac-cmd: signal: trace/breakpoint trap (core dumped)

(process:4146): GLib-GIO-ERROR **: Settings schema 'org.gnome.system.proxy' is not installed

 [error=Unable to unset lantern as system proxy: %v error_location=github.com/getlantern/flashlight/app.doPACOff (pac.go:233) error_op= error_text=Unable to unset lantern as system proxy: Unable to execute /home/travis/.byteexec/pac-cmd: signal: trace/breakpoint trap (core dumped)

(process:4146): GLib-GIO-ERROR **: Settings schema 'org.gnome.system.proxy' is not installed

 error_type=errors.Error]
ERROR flashlight: pac.go:233   at github.com/getlantern/flashlight/app.doPACOff (pac.go:233)
ERROR flashlight: pac.go:233   at github.com/getlantern/flashlight/app.pacOff (pac.go:191)
ERROR flashlight: pac.go:233   at github.com/getlantern/flashlight/app.(*Settings).SetSystemProxy (settings.go:330)
ERROR flashlight: pac.go:233   at github.com/getlantern/flashlight/app.(*Settings).SetSystemProxy-fm (settings.go:151)
ERROR flashlight: pac.go:233   at github.com/getlantern/flashlight/app.(*Settings).checkBool (settings.go:163)
ERROR flashlight: pac.go:233   at github.com/getlantern/flashlight/app.(*Settings).read (settings.go:151)
ERROR flashlight: pac.go:233   at runtime.goexit (asm_amd64.s:1998)
ERROR flashlight: pac.go:233 Caused by: Unable to execute /home/travis/.byteexec/pac-cmd: signal: trace/breakpoint trap (core dumped)

(process:4146): GLib-GIO-ERROR **: Settings schema 'org.gnome.system.proxy' is not installed


May 17 19:09:13.120 - 0m6s DEBUG flashlight: pac.go:192 Unset lantern as system proxy
May 17 19:09:13.121 - 0m6s ERROR flashlight: settings.go:211 Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory [error=Could not write settings file %v error_location=github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211) error_op=open error_text=Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory error_type=errors.Error]
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).unlockAndSave (settings.go:347)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetSystemProxy (settings.go:340)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetSystemProxy-fm (settings.go:151)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).checkBool (settings.go:163)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).read (settings.go:151)
ERROR flashlight: settings.go:211   at runtime.goexit (asm_amd64.s:1998)
ERROR flashlight: settings.go:211 Caused by: no such file or directory
May 17 19:09:13.123 - 0m6s ERROR flashlight: settings.go:211 Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory [error=Could not write settings file %v error_location=github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211) error_op=open error_text=Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory error_type=errors.Error]
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).unlockAndSave (settings.go:347)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetUserID (settings.go:306)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetUserID-fm (settings.go:152)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).checkNum (settings.go:179)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).read (settings.go:152)
ERROR flashlight: settings.go:211   at runtime.goexit (asm_amd64.s:1998)
ERROR flashlight: settings.go:211 Caused by: no such file or directory
May 17 19:09:13.124 - 0m6s ERROR flashlight: settings.go:194 Could not convert userToken in map[autoReport:false proxyAll:true autoLaunch:false systemProxy:false deviceID:8208fja09493 userID:890238588] [error=Could not convert %v in %v error_location=github.com/getlantern/flashlight/app.(*Settings).checkString (settings.go:194) error_text=Could not convert userToken in map[autoReport:false proxyAll:true autoLaunch:false systemProxy:false deviceID:8208fja09493 userID:890238588] error_type=errors.Error]
ERROR flashlight: settings.go:194   at github.com/getlantern/flashlight/app.(*Settings).checkString (settings.go:194)
ERROR flashlight: settings.go:194   at github.com/getlantern/flashlight/app.(*Settings).read (settings.go:153)
ERROR flashlight: settings.go:194   at runtime.goexit (asm_amd64.s:1998)
May 17 19:09:13.129 - 0m6s DEBUG flashlight: settings.go:135 Read settings message!! map[deviceID:8208fja09493 userID:890238588 randomjfdklajfla:fadldjfdla userToken:token autoReport:false proxyAll:true autoLaunch:false systemProxy:false]
May 17 19:09:13.131 - 0m6s ERROR flashlight: settings.go:211 Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory [error=Could not write settings file %v error_location=github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211) error_op=open error_text=Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory error_type=errors.Error]
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).unlockAndSave (settings.go:347)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetAutoReport (settings.go:251)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetAutoReport-fm (settings.go:148)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).checkBool (settings.go:163)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).read (settings.go:148)
ERROR flashlight: settings.go:211   at runtime.goexit (asm_amd64.s:1998)
ERROR flashlight: settings.go:211 Caused by: no such file or directory
May 17 19:09:13.131 - 0m6s DEBUG flashlight: pac.go:198 Cycling the pac file
May 17 19:09:13.132 - 0m6s ERROR flashlight: settings.go:211 Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory [error=Could not write settings file %v error_location=github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211) error_op=open error_text=Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory error_type=errors.Error]
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).unlockAndSave (settings.go:347)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetProxyAll (settings.go:235)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetProxyAll-fm (settings.go:149)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).checkBool (settings.go:163)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).read (settings.go:149)
ERROR flashlight: settings.go:211   at runtime.goexit (asm_amd64.s:1998)
ERROR flashlight: settings.go:211 Caused by: no such file or directory
May 17 19:09:13.133 - 0m6s ERROR flashlight: settings.go:211 Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory [error=Could not write settings file %v error_location=github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211) error_op=open error_text=Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory error_type=errors.Error]
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).unlockAndSave (settings.go:347)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetAutoLaunch (settings.go:260)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetAutoLaunch-fm (settings.go:150)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).checkBool (settings.go:163)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).read (settings.go:150)
ERROR flashlight: settings.go:211   at runtime.goexit (asm_amd64.s:1998)
ERROR flashlight: settings.go:211 Caused by: no such file or directory
May 17 19:09:13.134 - 0m6s ERROR flashlight: settings.go:211 Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory [error=Could not write settings file %v error_location=github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211) error_op=open error_text=Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory error_type=errors.Error]
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).unlockAndSave (settings.go:347)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetSystemProxy (settings.go:340)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetSystemProxy-fm (settings.go:151)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).checkBool (settings.go:163)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).read (settings.go:151)
ERROR flashlight: settings.go:211   at runtime.goexit (asm_amd64.s:1998)
ERROR flashlight: settings.go:211 Caused by: no such file or directory
May 17 19:09:13.146 - 0m6s ERROR flashlight: settings.go:211 Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory [error=Could not write settings file %v error_location=github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211) error_op=open error_text=Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory error_type=errors.Error]
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).unlockAndSave (settings.go:347)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetUserID (settings.go:306)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetUserID-fm (settings.go:152)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).checkNum (settings.go:179)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).read (settings.go:152)
ERROR flashlight: settings.go:211   at runtime.goexit (asm_amd64.s:1998)
ERROR flashlight: settings.go:211 Caused by: no such file or directory
May 17 19:09:13.152 - 0m6s ERROR flashlight: settings.go:211 Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory [error=Could not write settings file %v error_location=github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211) error_op=open error_text=Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory error_type=errors.Error]
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).unlockAndSave (settings.go:347)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetToken (settings.go:290)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetToken-fm (settings.go:153)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).checkString (settings.go:191)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).read (settings.go:153)
ERROR flashlight: settings.go:211   at runtime.goexit (asm_amd64.s:1998)
ERROR flashlight: settings.go:211 Caused by: no such file or directory
May 17 19:09:13.154 - 0m6s DEBUG flashlight: settings.go:135 Read settings message!! map[userID:483109 randomjfdklajfla:fadldjfdla userToken:token autoReport:false proxyAll:true autoLaunch:false systemProxy:false deviceID:8208fja09493]
May 17 19:09:13.155 - 0m6s ERROR flashlight: settings.go:211 Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory [error=Could not write settings file %v error_location=github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211) error_op=open error_text=Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory error_type=errors.Error]
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).unlockAndSave (settings.go:347)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetAutoReport (settings.go:251)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetAutoReport-fm (settings.go:148)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).checkBool (settings.go:163)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).read (settings.go:148)
ERROR flashlight: settings.go:211   at runtime.goexit (asm_amd64.s:1998)
ERROR flashlight: settings.go:211 Caused by: no such file or directory
May 17 19:09:13.155 - 0m6s DEBUG flashlight: pac.go:198 Cycling the pac file
May 17 19:09:13.156 - 0m6s ERROR flashlight: settings.go:211 Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory [error=Could not write settings file %v error_location=github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211) error_op=open error_text=Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory error_type=errors.Error]
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).unlockAndSave (settings.go:347)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetProxyAll (settings.go:235)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetProxyAll-fm (settings.go:149)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).checkBool (settings.go:163)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).read (settings.go:149)
ERROR flashlight: settings.go:211   at runtime.goexit (asm_amd64.s:1998)
ERROR flashlight: settings.go:211 Caused by: no such file or directory
May 17 19:09:13.162 - 0m6s ERROR flashlight: settings.go:211 Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory [error=Could not write settings file %v error_location=github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211) error_op=open error_text=Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory error_type=errors.Error]
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).unlockAndSave (settings.go:347)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetAutoLaunch (settings.go:260)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetAutoLaunch-fm (settings.go:150)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).checkBool (settings.go:163)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).read (settings.go:150)
ERROR flashlight: settings.go:211   at runtime.goexit (asm_amd64.s:1998)
ERROR flashlight: settings.go:211 Caused by: no such file or directory
May 17 19:09:13.167 - 0m6s ERROR flashlight: settings.go:211 Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory [error=Could not write settings file %v error_location=github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211) error_op=open error_text=Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory error_type=errors.Error]
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).unlockAndSave (settings.go:347)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetSystemProxy (settings.go:340)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetSystemProxy-fm (settings.go:151)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).checkBool (settings.go:163)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).read (settings.go:151)
ERROR flashlight: settings.go:211   at runtime.goexit (asm_amd64.s:1998)
ERROR flashlight: settings.go:211 Caused by: no such file or directory
May 17 19:09:13.168 - 0m6s ERROR flashlight: settings.go:211 Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory [error=Could not write settings file %v error_location=github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211) error_op=open error_text=Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory error_type=errors.Error]
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).unlockAndSave (settings.go:347)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetUserID (settings.go:306)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetUserID-fm (settings.go:152)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).checkNum (settings.go:179)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).read (settings.go:152)
ERROR flashlight: settings.go:211   at runtime.goexit (asm_amd64.s:1998)
ERROR flashlight: settings.go:211 Caused by: no such file or directory
May 17 19:09:13.176 - 0m6s ERROR flashlight: settings.go:211 Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory [error=Could not write settings file %v error_location=github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211) error_op=open error_text=Could not write settings file open /home/travis/.lantern/settings.yaml: no such file or directory error_type=errors.Error]
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).save (settings.go:211)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).unlockAndSave (settings.go:347)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetToken (settings.go:290)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).SetToken-fm (settings.go:153)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).checkString (settings.go:191)
ERROR flashlight: settings.go:211   at github.com/getlantern/flashlight/app.(*Settings).read (settings.go:153)
ERROR flashlight: settings.go:211   at runtime.goexit (asm_amd64.s:1998)
ERROR flashlight: settings.go:211 Caused by: no such file or directory
--- PASS: TestRead (0.52s)
=== RUN   TestCheckNum
May 17 19:09:13.178 - 0m6s ERROR flashlight: settings.go:194 Could not convert test in map[test:4809] [error=Could not convert %v in %v error_location=github.com/getlantern/flashlight/app.(*Settings).checkString (settings.go:194) error_text=Could not convert test in map[test:4809] error_type=errors.Error]
ERROR flashlight: settings.go:194   at github.com/getlantern/flashlight/app.(*Settings).checkString (settings.go:194)
ERROR flashlight: settings.go:194   at github.com/getlantern/flashlight/app.TestCheckNum (settings_test.go:104)
ERROR flashlight: settings.go:194   at testing.tRunner (testing.go:473)
ERROR flashlight: settings.go:194   at runtime.goexit (asm_amd64.s:1998)
May 17 19:09:13.178 - 0m6s ERROR flashlight: settings.go:166 Could not convert test in map[test:4809] [error=Could not convert %v in %v error_location=github.com/getlantern/flashlight/app.(*Settings).checkBool (settings.go:166) error_text=Could not convert test in map[test:4809] error_type=errors.Error]
ERROR flashlight: settings.go:166   at github.com/getlantern/flashlight/app.(*Settings).checkBool (settings.go:166)
ERROR flashlight: settings.go:166   at github.com/getlantern/flashlight/app.TestCheckNum (settings_test.go:108)
ERROR flashlight: settings.go:166   at testing.tRunner (testing.go:473)
ERROR flashlight: settings.go:166   at runtime.goexit (asm_amd64.s:1998)
--- PASS: TestCheckNum (0.00s)
=== RUN   TestNotPersistVersion
May 17 19:09:13.179 - 0m6s DEBUG flashlight: settings.go:60 Loading settings
May 17 19:09:13.184 - 0m6s DEBUG flashlight: settings.go:80 Loaded settings from ./test.yaml
--- PASS: TestNotPersistVersion (0.01s)
PASS
coverage: 42.8% of statements in github.com/getlantern/fdcount, github.com/getlantern/appdir, github.com/getlantern/balancer, github.com/getlantern/bandwidth, github.com/getlantern/borda/client, github.com/getlantern/buuid, github.com/getlantern/bytecounting, github.com/getlantern/byteexec, github.com/getlantern/chained, github.com/getlantern/checkfallbacks, github.com/getlantern/connpool, github.com/getlantern/context, github.com/getlantern/deepcopy, github.com/getlantern/detour, github.com/getlantern/errors, github.com/getlantern/eventual, github.com/getlantern/flashlight, github.com/getlantern/flashlight/app, github.com/getlantern/flashlight/client, github.com/getlantern/flashlight/config, github.com/getlantern/flashlight/logging, github.com/getlantern/flashlight/proxied, github.com/getlantern/flashlight/util, github.com/getlantern/fronted, github.com/getlantern/geolookup, github.com/getlantern/golog, github.com/getlantern/hex, github.com/getlantern/hidden, github.com/getlantern/idletiming, github.com/getlantern/keyman, github.com/getlantern/lantern, github.com/getlantern/measured, github.com/getlantern/netx, github.com/getlantern/ops, github.com/getlantern/osversion, github.com/getlantern/pathreflect, github.com/getlantern/proxiedsites, github.com/getlantern/rotator, github.com/getlantern/stack, github.com/getlantern/tarfs, github.com/getlantern/tlsdefaults, github.com/getlantern/tlsdialer, github.com/getlantern/waitforserver, github.com/getlantern/wfilter, github.com/getlantern/withtimeout
ok  	github.com/getlantern/flashlight/app	8.087s
warning: no packages being tested depend on github.com/getlantern/fdcount
warning: no packages being tested depend on github.com/getlantern/borda/client
warning: no packages being tested depend on github.com/getlantern/buuid
warning: no packages being tested depend on github.com/getlantern/bytecounting
warning: no packages being tested depend on github.com/getlantern/byteexec
warning: no packages being tested depend on github.com/getlantern/checkfallbacks
warning: no packages being tested depend on github.com/getlantern/connpool
warning: no packages being tested depend on github.com/getlantern/deepcopy
warning: no packages being tested depend on github.com/getlantern/flashlight
warning: no packages being tested depend on github.com/getlantern/flashlight/app
warning: no packages being tested depend on github.com/getlantern/flashlight/config
warning: no packages being tested depend on github.com/getlantern/flashlight/logging
warning: no packages being tested depend on github.com/getlantern/flashlight/proxied
warning: no packages being tested depend on github.com/getlantern/flashlight/util
warning: no packages being tested depend on github.com/getlantern/geolookup
warning: no packages being tested depend on github.com/getlantern/lantern
warning: no packages being tested depend on github.com/getlantern/measured
warning: no packages being tested depend on github.com/getlantern/osversion
warning: no packages being tested depend on github.com/getlantern/pathreflect
warning: no packages being tested depend on github.com/getlantern/proxiedsites
warning: no packages being tested depend on github.com/getlantern/rotator
warning: no packages being tested depend on github.com/getlantern/tarfs
warning: no packages being tested depend on github.com/getlantern/tlsdefaults
warning: no packages being tested depend on github.com/getlantern/waitforserver
warning: no packages being tested depend on github.com/getlantern/wfilter
May 17 19:09:54.084 - 0m0s DEBUG flashlight: flashlight.go:66 ****************************** Package Version: 9999.99.99
May 17 19:09:54.084 - 0m0s DEBUG flashlight.util: hash.go:22 Hashing file at path /tmp/go-build764554141/github.com/getlantern/flashlight/client/_test/client.test
May 17 19:09:54.226 - 0m0s DEBUG flashlight.ui: ui.go:56 Creating tarfs filesystem that prefers local resources at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:09:54.226 - 0m0s DEBUG tarfs: tarfs.go:62 Using local filesystem at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:09:54.243 - 0m0s DEBUG flashlight: settings.go:60 Loading settings
May 17 19:09:54.243 - 0m0s DEBUG flashlight: settings.go:71 Could not read file open /home/travis/.lantern/settings.yaml: no such file or directory
May 17 19:09:54.245 - 0m0s DEBUG flashlight.ui: service.go:132 Accepting websocket connections at: /data
May 17 19:09:54.245 - 0m0s DEBUG flashlight: settings.go:120 Sending Lantern settings to new client
May 17 19:09:54.246 - 0m0s DEBUG flashlight: settings.go:132 Reading settings messages!!
testing: warning: no tests to run
PASS
coverage: 6.0% of statements in github.com/getlantern/fdcount, github.com/getlantern/appdir, github.com/getlantern/balancer, github.com/getlantern/bandwidth, github.com/getlantern/borda/client, github.com/getlantern/buuid, github.com/getlantern/bytecounting, github.com/getlantern/byteexec, github.com/getlantern/chained, github.com/getlantern/checkfallbacks, github.com/getlantern/connpool, github.com/getlantern/context, github.com/getlantern/deepcopy, github.com/getlantern/detour, github.com/getlantern/errors, github.com/getlantern/eventual, github.com/getlantern/flashlight, github.com/getlantern/flashlight/app, github.com/getlantern/flashlight/client, github.com/getlantern/flashlight/config, github.com/getlantern/flashlight/logging, github.com/getlantern/flashlight/proxied, github.com/getlantern/flashlight/util, github.com/getlantern/fronted, github.com/getlantern/geolookup, github.com/getlantern/golog, github.com/getlantern/hex, github.com/getlantern/hidden, github.com/getlantern/idletiming, github.com/getlantern/keyman, github.com/getlantern/lantern, github.com/getlantern/measured, github.com/getlantern/netx, github.com/getlantern/ops, github.com/getlantern/osversion, github.com/getlantern/pathreflect, github.com/getlantern/proxiedsites, github.com/getlantern/rotator, github.com/getlantern/stack, github.com/getlantern/tarfs, github.com/getlantern/tlsdefaults, github.com/getlantern/tlsdialer, github.com/getlantern/waitforserver, github.com/getlantern/wfilter, github.com/getlantern/withtimeout
ok  	github.com/getlantern/flashlight/client	1.308s
warning: no packages being tested depend on github.com/getlantern/fdcount
warning: no packages being tested depend on github.com/getlantern/borda/client
warning: no packages being tested depend on github.com/getlantern/buuid
warning: no packages being tested depend on github.com/getlantern/bytecounting
warning: no packages being tested depend on github.com/getlantern/byteexec
warning: no packages being tested depend on github.com/getlantern/checkfallbacks
warning: no packages being tested depend on github.com/getlantern/connpool
warning: no packages being tested depend on github.com/getlantern/deepcopy
warning: no packages being tested depend on github.com/getlantern/flashlight
warning: no packages being tested depend on github.com/getlantern/flashlight/app
warning: no packages being tested depend on github.com/getlantern/flashlight/logging
warning: no packages being tested depend on github.com/getlantern/flashlight/util
warning: no packages being tested depend on github.com/getlantern/geolookup
warning: no packages being tested depend on github.com/getlantern/lantern
warning: no packages being tested depend on github.com/getlantern/measured
warning: no packages being tested depend on github.com/getlantern/osversion
warning: no packages being tested depend on github.com/getlantern/pathreflect
warning: no packages being tested depend on github.com/getlantern/rotator
warning: no packages being tested depend on github.com/getlantern/tlsdefaults
warning: no packages being tested depend on github.com/getlantern/waitforserver
warning: no packages being tested depend on github.com/getlantern/wfilter
May 17 19:10:36.706 - 0m0s DEBUG flashlight: flashlight.go:66 ****************************** Package Version: 9999.99.99
May 17 19:10:36.706 - 0m0s DEBUG flashlight.util: hash.go:22 Hashing file at path /tmp/go-build761486221/github.com/getlantern/flashlight/config/_test/config.test
May 17 19:10:36.864 - 0m0s DEBUG flashlight.ui: ui.go:56 Creating tarfs filesystem that prefers local resources at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:10:36.864 - 0m0s DEBUG tarfs: tarfs.go:62 Using local filesystem at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:10:36.884 - 0m0s DEBUG flashlight: settings.go:60 Loading settings
May 17 19:10:36.884 - 0m0s DEBUG flashlight: settings.go:71 Could not read file open /home/travis/.lantern/settings.yaml: no such file or directory
May 17 19:10:36.885 - 0m0s DEBUG flashlight.ui: service.go:132 Accepting websocket connections at: /data
May 17 19:10:36.886 - 0m0s DEBUG flashlight: settings.go:120 Sending Lantern settings to new client
May 17 19:10:36.887 - 0m0s DEBUG flashlight: settings.go:132 Reading settings messages!!
=== RUN   TestBootstrapSettings
May 17 19:10:36.892 - 0m0s DEBUG flashlight.config: bootstrap_test.go:25 File at: /tmp/.packaged-lantern.yaml393390982
May 17 19:10:36.892 - 0m0s DEBUG flashlight.config: bootstrap_test.go:27 Settings: {test}
May 17 19:10:36.893 - 0m0s DEBUG flashlight.config: bootstrap.go:63 Opening file at: /tmp/.packaged-lantern.yaml393390982
May 17 19:10:36.894 - 0m0s DEBUG flashlight.config: bootstrap.go:75 Read bytes: startupurl: test
May 17 19:10:36.894 - 0m0s DEBUG flashlight.config: bootstrap.go:129 Opening bootstrap file from: /tmp/go-build761486221/github.com/getlantern/flashlight/config/.packaged-lantern.yaml
May 17 19:10:36.895 - 0m0s DEBUG flashlight.config: bootstrap_test.go:51 Running in /tmp/go-build761486221/github.com/getlantern/flashlight/config
--- PASS: TestBootstrapSettings (0.00s)
=== RUN   TestObfuscated
--- PASS: TestObfuscated (0.36s)
=== RUN   TestSaved
--- PASS: TestSaved (0.00s)
=== RUN   TestEmbedded
--- PASS: TestEmbedded (0.00s)
=== RUN   TestPollProxies
May 17 19:10:37.260 - 0m0s DEBUG fronted: direct.go:112 Loading candidates
May 17 19:10:37.285 - 0m0s DEBUG flashlight.config: fetcher.go:52 Will poll for config at http://config.getiantem.org/proxies.yaml.gz (http://d2wi0vwulmtn99.cloudfront.net/proxies.yaml.gz)
May 17 19:10:37.285 - 0m0s DEBUG flashlight.config: fetcher.go:74 Fetching cloud config from http://config.getiantem.org/proxies.yaml.gz (http://d2wi0vwulmtn99.cloudfront.net/proxies.yaml.gz) [op=fetch_config root_op=fetch_config]
May 17 19:10:37.285 - 0m0s DEBUG flashlight.proxied: proxied.go:193 Using dual fronter [http_method=GET http_proto=HTTP/1.1 op=chainedandfronted origin=config.getiantem.org root_op=fetch_config]
May 17 19:10:37.286 - 0m0s DEBUG flashlight.proxied: proxied.go:292 Sending chained request: false [http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=config.getiantem.org root_op=fetch_config]
May 17 19:10:37.290 - 0m0s DEBUG flashlight.proxied: proxied.go:265 In fronted [http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=config.getiantem.org root_op=fetch_config]
May 17 19:10:37.290 - 0m0s DEBUG flashlight.proxied: proxied.go:279 Sending request via DDF: false [fronted_url=http://d2wi0vwulmtn99.cloudfront.net/proxies.yaml.gz http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=config.getiantem.org proxy_type=fronted root_op=fetch_config]
May 17 19:10:37.292 - 0m0s DEBUG flashlight.proxied: proxied.go:406 Got an error: chained proxy unavailable [fronted_url=http://d2wi0vwulmtn99.cloudfront.net/proxies.yaml.gz http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=config.getiantem.org proxy_type=fronted root_op=fetch_config]
May 17 19:10:37.693 - 0m0s DEBUG flashlight.proxied: proxied.go:245 Got successful HTTP call! [fronted_url=http://d2wi0vwulmtn99.cloudfront.net/proxies.yaml.gz http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=d2wi0vwulmtn99.cloudfront.net proxy_type=fronted root_op=fetch_config]
May 17 19:10:37.694 - 0m0s DEBUG flashlight.proxied: proxied.go:284 Fronted request succeeded [fronted_url=http://d2wi0vwulmtn99.cloudfront.net/proxies.yaml.gz http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=d2wi0vwulmtn99.cloudfront.net proxy_type=fronted root_op=fetch_config]
May 17 19:10:37.695 - 0m0s DEBUG flashlight.config: fetcher.go:124 Response headers from http://config.getiantem.org/proxies.yaml.gz (http://d2wi0vwulmtn99.cloudfront.net/proxies.yaml.gz):
HTTP/1.1 200 OK
Connection: close
Content-Length: 1356
Content-Type: application/gzip
Date: Fri, 17 May 2019 19:10:37 GMT
Etag: 74a5b67e87760864bec8ae0552ab3af36a238c10
Server: Cowboy
Via: 1.1 vegur, 1.1 2dc8ddc16361287eeb5b9426e410ee78.cloudfront.net (CloudFront)
X-Amz-Cf-Id: CnUsybwHm_ltWBzSmj1XhLzffqjMaqLfkIcBnhcFLjBIDbYLTPJP0A==
X-Cache: Miss from cloudfront
X-Lantern-Etag: 74a5b67e87760864bec8ae0552ab3af36a238c10

 [op=fetch_config root_op=fetch_config]
May 17 19:10:37.699 - 0m0s DEBUG flashlight.config: fetcher.go:171 Fetched cloud config [op=fetch_config root_op=fetch_config]
May 17 19:10:37.712 - 0m1s DEBUG flashlight.config: config.go:226 Fetched config! map[fp-donyc3u16-20190517-060:0xc820236230]
May 17 19:10:37.715 - 0m1s DEBUG flashlight.config: config.go:291 Wrote file at ./fetched-proxies.yaml
May 17 19:10:37.717 - 0m1s DEBUG flashlight.config: config.go:229 Sent to save chan
May 17 19:10:37.718 - 0m1s DEBUG flashlight.config: config_test.go:89 Got newer mod time?
--- PASS: TestPollProxies (0.46s)
=== RUN   TestPollGlobal
May 17 19:10:37.719 - 0m1s DEBUG fronted: cache.go:125 Closing cache from existing instance
May 17 19:10:37.720 - 0m1s DEBUG fronted: direct.go:112 Loading candidates
May 17 19:10:37.766 - 0m1s DEBUG flashlight.config: fetcher.go:52 Will poll for config at https://globalconfig.flashlightproxy.com/global.yaml.gz (https://d24ykmup0867cj.cloudfront.net/global.yaml.gz)
May 17 19:10:37.767 - 0m1s DEBUG flashlight.config: fetcher.go:74 Fetching cloud config from https://globalconfig.flashlightproxy.com/global.yaml.gz (https://d24ykmup0867cj.cloudfront.net/global.yaml.gz) [op=fetch_config root_op=fetch_config]
May 17 19:10:37.768 - 0m1s DEBUG flashlight.proxied: proxied.go:193 Using dual fronter [http_method=GET http_proto=HTTP/1.1 op=chainedandfronted origin=globalconfig.flashlightproxy.com root_op=fetch_config]
May 17 19:10:37.771 - 0m1s DEBUG flashlight.proxied: proxied.go:265 In fronted [http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=globalconfig.flashlightproxy.com root_op=fetch_config]
May 17 19:10:37.771 - 0m1s DEBUG flashlight.proxied: proxied.go:279 Sending request via DDF: false [fronted_url=https://d24ykmup0867cj.cloudfront.net/global.yaml.gz http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=globalconfig.flashlightproxy.com proxy_type=fronted root_op=fetch_config]
May 17 19:10:37.772 - 0m1s DEBUG flashlight.proxied: proxied.go:292 Sending chained request: false [fronted_url=https://d24ykmup0867cj.cloudfront.net/global.yaml.gz http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=globalconfig.flashlightproxy.com proxy_type=fronted root_op=fetch_config]
May 17 19:10:37.774 - 0m1s DEBUG flashlight.proxied: proxied.go:406 Got an error: chained proxy unavailable [fronted_url=https://d24ykmup0867cj.cloudfront.net/global.yaml.gz http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=globalconfig.flashlightproxy.com proxy_type=fronted root_op=fetch_config]
May 17 19:10:38.140 - 0m1s DEBUG flashlight.proxied: proxied.go:245 Got successful HTTP call! [fronted_url=https://d24ykmup0867cj.cloudfront.net/global.yaml.gz http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=d24ykmup0867cj.cloudfront.net proxy_type=fronted root_op=fetch_config]
May 17 19:10:38.141 - 0m1s DEBUG flashlight.proxied: proxied.go:284 Fronted request succeeded [fronted_url=https://d24ykmup0867cj.cloudfront.net/global.yaml.gz http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=d24ykmup0867cj.cloudfront.net proxy_type=fronted root_op=fetch_config]
May 17 19:10:38.141 - 0m1s DEBUG flashlight.config: fetcher.go:124 Response headers from https://globalconfig.flashlightproxy.com/global.yaml.gz (https://d24ykmup0867cj.cloudfront.net/global.yaml.gz):
HTTP/1.1 200 OK
Connection: close
Content-Length: 64615
Accept-Ranges: bytes
Age: 33688
Cache-Control: max-age=86401, must-revalidate
Content-Type: application/octet-stream
Date: Fri, 17 May 2019 09:49:11 GMT
Etag: "518f4aa2615e814a5e5ac2258da3dd7c"
Last-Modified: Fri, 17 May 2019 09:47:33 GMT
Server: AmazonS3
Via: 1.1 375ff9ccdd5d6faa4011f06fd99e6e91.cloudfront.net (CloudFront)
X-Amz-Cf-Id: 16l30XjBSqydqXIJGp21sSrON2xaK9SvsF3nZN3dEmY9ZesGCH95BA==
X-Amz-Cf-Pop: IAD16-M1
X-Cache: Hit from cloudfront

 [op=fetch_config root_op=fetch_config]
May 17 19:10:38.142 - 0m1s DEBUG flashlight.config: fetcher.go:171 Fetched cloud config [op=fetch_config root_op=fetch_config]
May 17 19:10:38.613 - 0m1s DEBUG flashlight.config: config.go:226 Fetched config! &{0    5m0s 0.1 0.0001 0xc8205f4900 0xc82029aec0 [0xc820703740 0xc8207037a0 0xc820703800 0xc820703880 0xc8207038e0 0xc820703940]}
May 17 19:10:38.614 - 0m1s DEBUG flashlight.config: config.go:229 Sent to save chan
May 17 19:10:38.617 - 0m1s DEBUG flashlight.config: config_test.go:129 Got config from chan
May 17 19:10:38.886 - 0m2s DEBUG flashlight.config: config.go:291 Wrote file at ./fetched-global.yaml
May 17 19:10:38.920 - 0m2s DEBUG flashlight.config: config_test.go:141 Got newer mod time?
--- PASS: TestPollGlobal (1.20s)
=== RUN   TestFetcher
May 17 19:10:38.920 - 0m2s DEBUG flashlight.config: fetcher.go:52 Will poll for config at https://globalconfig.flashlightproxy.com/global.yaml.gz (https://d24ykmup0867cj.cloudfront.net/global.yaml.gz)
May 17 19:10:38.921 - 0m2s DEBUG flashlight.config: fetcher.go:74 Fetching cloud config from https://globalconfig.flashlightproxy.com/global.yaml.gz (https://d24ykmup0867cj.cloudfront.net/global.yaml.gz) [op=fetch_config root_op=fetch_config]
May 17 19:10:39.617 - 0m2s DEBUG flashlight.config: fetcher.go:124 Response headers from https://globalconfig.flashlightproxy.com/global.yaml.gz (https://d24ykmup0867cj.cloudfront.net/global.yaml.gz):
HTTP/2.0 200 OK
Content-Length: 64615
Accept-Ranges: bytes
Cache-Control: max-age=86401, must-revalidate
Cf-Ray: 4d87e4876c9b2553-ORD
Content-Type: application/octet-stream
Date: Fri, 17 May 2019 19:10:39 GMT
Etag: "518f4aa2615e814a5e5ac2258da3dd7c"
Expect-Ct: max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"
Last-Modified: Fri, 17 May 2019 09:47:33 GMT
Server: cloudflare
Set-Cookie: __cfduid=d623719c5bed983faaca8102b2649e4b41558120239; expires=Sat, 16-May-20 19:10:39 GMT; path=/; domain=.flashlightproxy.com; HttpOnly
X-Amz-Id-2: LBQHUskYMPk2eZsRkpyDu1VAUS9xTfTMbm8wysO1AqhThTFJ68aHtsDbvzLdco/G8BClm+zwlXM=
X-Amz-Request-Id: 66318852518D9EAA

 [op=fetch_config root_op=fetch_config]
May 17 19:10:39.618 - 0m2s DEBUG flashlight.config: fetcher.go:171 Fetched cloud config [op=fetch_config root_op=fetch_config]
--- PASS: TestFetcher (1.02s)
=== RUN   TestStagingSetup
May 17 19:10:39.937 - 0m3s DEBUG flashlight.config: fetcher.go:52 Will poll for config at http://config.getiantem.org/proxies.yaml.gz (http://d2wi0vwulmtn99.cloudfront.net/proxies.yaml.gz)
May 17 19:10:39.937 - 0m3s DEBUG flashlight.config: fetcher.go:52 Will poll for config at http://config.getiantem.org/proxies.yaml.gz (http://d2wi0vwulmtn99.cloudfront.net/proxies.yaml.gz)
May 17 19:10:39.937 - 0m3s DEBUG flashlight.config: fetcher.go:52 Will poll for config at http://config-staging.getiantem.org/proxies.yaml.gz (http://d33pfmbpauhmvd.cloudfront.net/proxies.yaml.gz)
--- PASS: TestStagingSetup (0.00s)
=== RUN   TestInit
May 17 19:10:39.938 - 0m3s DEBUG flashlight.config: initializer.go:137 Configuring for staging
May 17 19:10:39.939 - 0m3s DEBUG flashlight.client: client.go:321 Using config dir .
May 17 19:10:39.939 - 0m3s DEBUG flashlight.config: config.go:119 Could not load stored config Unable to open config file proxies.yaml for reading: open proxies.yaml: no such file or directory
May 17 19:10:39.943 - 0m3s DEBUG flashlight.config: config.go:125 Sending embedded config for .packaged-lantern.yaml
May 17 19:10:39.943 - 0m3s DEBUG flashlight.config: initializer.go:151 Configuring for staging
May 17 19:10:39.943 - 0m3s DEBUG flashlight.config: fetcher.go:52 Will poll for config at http://config-staging.getiantem.org/proxies.yaml.gz (http://d33pfmbpauhmvd.cloudfront.net/proxies.yaml.gz)
May 17 19:10:39.943 - 0m3s DEBUG flashlight.client: client.go:321 Using config dir .
May 17 19:10:39.944 - 0m3s DEBUG flashlight.config: fetcher.go:74 Fetching cloud config from http://config-staging.getiantem.org/proxies.yaml.gz (http://d33pfmbpauhmvd.cloudfront.net/proxies.yaml.gz) [op=fetch_config root_op=fetch_config]
May 17 19:10:39.944 - 0m3s DEBUG flashlight.config: config.go:119 Could not load stored config Unable to open config file global.yaml for reading: open global.yaml: no such file or directory
May 17 19:10:39.944 - 0m3s DEBUG flashlight.proxied: proxied.go:193 Using dual fronter [http_method=GET http_proto=HTTP/1.1 op=chainedandfronted origin=config-staging.getiantem.org root_op=fetch_config]
May 17 19:10:39.945 - 0m3s DEBUG flashlight.proxied: proxied.go:265 In fronted [http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=config-staging.getiantem.org root_op=fetch_config]
May 17 19:10:39.945 - 0m3s DEBUG flashlight.proxied: proxied.go:279 Sending request via DDF: false [fronted_url=http://d33pfmbpauhmvd.cloudfront.net/proxies.yaml.gz http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=config-staging.getiantem.org proxy_type=fronted root_op=fetch_config]
May 17 19:10:39.946 - 0m3s DEBUG flashlight.proxied: proxied.go:292 Sending chained request: false [fronted_url=http://d33pfmbpauhmvd.cloudfront.net/proxies.yaml.gz http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=config-staging.getiantem.org proxy_type=fronted root_op=fetch_config]
May 17 19:10:39.947 - 0m3s DEBUG flashlight.proxied: proxied.go:406 Got an error: chained proxy unavailable [fronted_url=http://d33pfmbpauhmvd.cloudfront.net/proxies.yaml.gz http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=config-staging.getiantem.org proxy_type=fronted root_op=fetch_config]
May 17 19:10:40.242 - 0m3s ERROR flashlight.proxied: proxied.go:137 unsuccessful response status [error=unsuccessful response status error_location=github.com/getlantern/flashlight/proxied.(*dualFetcher).do.func1 (proxied.go:252) error_text=unsuccessful response status error_type=errors.Error fronted_url=http://d33pfmbpauhmvd.cloudfront.net/proxies.yaml.gz http_method=GET http_proto=HTTP/1.1 http_response_status_code=500 op=dualfetcher origin=d33pfmbpauhmvd.cloudfront.net proxy_type=fronted root_op=fetch_config]
ERROR flashlight.proxied: proxied.go:137   at github.com/getlantern/flashlight/proxied.(*dualFetcher).do.func1 (proxied.go:252)
ERROR flashlight.proxied: proxied.go:137   at github.com/getlantern/flashlight/proxied.(*dualFetcher).do.func2 (proxied.go:282)
ERROR flashlight.proxied: proxied.go:137   at github.com/getlantern/context.(*context).Go.func1 (context.go:150)
ERROR flashlight.proxied: proxied.go:137   at runtime.goexit (asm_amd64.s:1998)
May 17 19:10:40.244 - 0m3s ERROR flashlight.config: config.go:212 Could not read fetched config Unable to fetch cloud config at http://config-staging.getiantem.org/proxies.yaml.gz: unsuccessful response status [error=Could not read fetched config %v error_location=github.com/getlantern/flashlight/config.(*config).poll (config.go:212) error_op= error_text=Could not read fetched config Unable to fetch cloud config at http://config-staging.getiantem.org/proxies.yaml.gz: unsuccessful response status error_type=errors.Error fronted_url=http://d33pfmbpauhmvd.cloudfront.net/proxies.yaml.gz http_method=GET http_proto=HTTP/1.1 http_response_status_code=500 op=dualfetcher origin=d33pfmbpauhmvd.cloudfront.net proxy_type=fronted root_op=fetch_config]
ERROR flashlight.config: config.go:212   at github.com/getlantern/flashlight/config.(*config).poll (config.go:212)
ERROR flashlight.config: config.go:212   at runtime.goexit (asm_amd64.s:1998)
ERROR flashlight.config: config.go:212 Caused by: Unable to fetch cloud config at http://config-staging.getiantem.org/proxies.yaml.gz: unsuccessful response status
ERROR flashlight.config: config.go:212 Caused by: unsuccessful response status
ERROR flashlight.config: config.go:212   at github.com/getlantern/flashlight/proxied.(*dualFetcher).do.func1 (proxied.go:252)
ERROR flashlight.config: config.go:212   at github.com/getlantern/flashlight/proxied.(*dualFetcher).do.func2 (proxied.go:282)
ERROR flashlight.config: config.go:212   at github.com/getlantern/context.(*context).Go.func1 (context.go:150)
ERROR flashlight.config: config.go:212   at runtime.goexit (asm_amd64.s:1998)
May 17 19:10:41.095 - 0m4s DEBUG flashlight.config: config.go:125 Sending embedded config for .packaged-lantern.yaml
May 17 19:10:41.096 - 0m4s DEBUG flashlight.config: fetcher.go:52 Will poll for config at https://globalconfig.flashlightproxy.com/global.yaml.gz (https://d24ykmup0867cj.cloudfront.net/global.yaml.gz)
May 17 19:10:41.096 - 0m4s DEBUG flashlight.config: fetcher.go:74 Fetching cloud config from https://globalconfig.flashlightproxy.com/global.yaml.gz (https://d24ykmup0867cj.cloudfront.net/global.yaml.gz) [op=fetch_config root_op=fetch_config]
May 17 19:10:41.097 - 0m4s DEBUG flashlight.proxied: proxied.go:193 Using dual fronter [http_method=GET http_proto=HTTP/1.1 op=chainedandfronted origin=globalconfig.flashlightproxy.com root_op=fetch_config]
May 17 19:10:41.099 - 0m4s DEBUG flashlight.proxied: proxied.go:265 In fronted [http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=globalconfig.flashlightproxy.com root_op=fetch_config]
May 17 19:10:41.099 - 0m4s DEBUG flashlight.proxied: proxied.go:279 Sending request via DDF: false [fronted_url=https://d24ykmup0867cj.cloudfront.net/global.yaml.gz http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=globalconfig.flashlightproxy.com proxy_type=fronted root_op=fetch_config]
May 17 19:10:41.100 - 0m4s DEBUG flashlight.proxied: proxied.go:292 Sending chained request: false [fronted_url=https://d24ykmup0867cj.cloudfront.net/global.yaml.gz http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=globalconfig.flashlightproxy.com proxy_type=fronted root_op=fetch_config]
May 17 19:10:41.101 - 0m4s DEBUG flashlight.proxied: proxied.go:406 Got an error: chained proxy unavailable [fronted_url=https://d24ykmup0867cj.cloudfront.net/global.yaml.gz http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=globalconfig.flashlightproxy.com proxy_type=fronted root_op=fetch_config]
--- PASS: TestInit (1.16s)
=== RUN   TestStaging
--- PASS: TestStaging (0.00s)
=== RUN   TestOverrides
May 17 19:10:41.103 - 0m4s DEBUG flashlight.config: initializer.go:114 Overridding chained URL from the command line 'test'
May 17 19:10:41.103 - 0m4s DEBUG flashlight.config: initializer.go:114 Overridding chained URL from the command line 'test'
May 17 19:10:41.103 - 0m4s DEBUG flashlight.config: initializer.go:123 Overridding fronted URL from the command line 'test'
--- PASS: TestOverrides (0.00s)
PASS
coverage: 25.3% of statements in github.com/getlantern/fdcount, github.com/getlantern/appdir, github.com/getlantern/balancer, github.com/getlantern/bandwidth, github.com/getlantern/borda/client, github.com/getlantern/buuid, github.com/getlantern/bytecounting, github.com/getlantern/byteexec, github.com/getlantern/chained, github.com/getlantern/checkfallbacks, github.com/getlantern/connpool, github.com/getlantern/context, github.com/getlantern/deepcopy, github.com/getlantern/detour, github.com/getlantern/errors, github.com/getlantern/eventual, github.com/getlantern/flashlight, github.com/getlantern/flashlight/app, github.com/getlantern/flashlight/client, github.com/getlantern/flashlight/config, github.com/getlantern/flashlight/logging, github.com/getlantern/flashlight/proxied, github.com/getlantern/flashlight/util, github.com/getlantern/fronted, github.com/getlantern/geolookup, github.com/getlantern/golog, github.com/getlantern/hex, github.com/getlantern/hidden, github.com/getlantern/idletiming, github.com/getlantern/keyman, github.com/getlantern/lantern, github.com/getlantern/measured, github.com/getlantern/netx, github.com/getlantern/ops, github.com/getlantern/osversion, github.com/getlantern/pathreflect, github.com/getlantern/proxiedsites, github.com/getlantern/rotator, github.com/getlantern/stack, github.com/getlantern/tarfs, github.com/getlantern/tlsdefaults, github.com/getlantern/tlsdialer, github.com/getlantern/waitforserver, github.com/getlantern/wfilter, github.com/getlantern/withtimeout
May 17 19:10:41.246 - 0m4s DEBUG flashlight.proxied: proxied.go:245 Got successful HTTP call! [fronted_url=https://d24ykmup0867cj.cloudfront.net/global.yaml.gz http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=d24ykmup0867cj.cloudfront.net proxy_type=fronted root_op=fetch_config]
May 17 19:10:41.246 - 0m4s DEBUG flashlight.proxied: proxied.go:284 Fronted request succeeded [fronted_url=https://d24ykmup0867cj.cloudfront.net/global.yaml.gz http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=d24ykmup0867cj.cloudfront.net proxy_type=fronted root_op=fetch_config]
May 17 19:10:41.247 - 0m4s DEBUG flashlight.config: fetcher.go:124 Response headers from https://globalconfig.flashlightproxy.com/global.yaml.gz (https://d24ykmup0867cj.cloudfront.net/global.yaml.gz):
HTTP/1.1 200 OK
Connection: close
Content-Length: 64615
Accept-Ranges: bytes
Age: 33453
Cache-Control: max-age=86401, must-revalidate
Content-Type: application/octet-stream
Date: Fri, 17 May 2019 09:53:09 GMT
Etag: "518f4aa2615e814a5e5ac2258da3dd7c"
Last-Modified: Fri, 17 May 2019 09:47:33 GMT
Server: AmazonS3
Via: 1.1 c31e58eea73a24f3cef3895c9968c3e3.cloudfront.net (CloudFront)
X-Amz-Cf-Id: OQoqNECtNAig5CSAFfs5UcZH0xpQV5PSopOMLXF9_JzfaMHuGENZxA==
X-Cache: Hit from cloudfront

 [op=fetch_config root_op=fetch_config]
May 17 19:10:41.248 - 0m4s DEBUG flashlight.config: fetcher.go:171 Fetched cloud config [op=fetch_config root_op=fetch_config]
ok  	github.com/getlantern/flashlight/config	5.542s
warning: no packages being tested depend on github.com/getlantern/fdcount
warning: no packages being tested depend on github.com/getlantern/balancer
warning: no packages being tested depend on github.com/getlantern/bandwidth
warning: no packages being tested depend on github.com/getlantern/buuid
warning: no packages being tested depend on github.com/getlantern/bytecounting
warning: no packages being tested depend on github.com/getlantern/byteexec
warning: no packages being tested depend on github.com/getlantern/chained
warning: no packages being tested depend on github.com/getlantern/checkfallbacks
warning: no packages being tested depend on github.com/getlantern/connpool
warning: no packages being tested depend on github.com/getlantern/deepcopy
warning: no packages being tested depend on github.com/getlantern/detour
warning: no packages being tested depend on github.com/getlantern/flashlight
warning: no packages being tested depend on github.com/getlantern/flashlight/app
warning: no packages being tested depend on github.com/getlantern/flashlight/client
warning: no packages being tested depend on github.com/getlantern/flashlight/config
warning: no packages being tested depend on github.com/getlantern/flashlight/util
warning: no packages being tested depend on github.com/getlantern/lantern
warning: no packages being tested depend on github.com/getlantern/measured
warning: no packages being tested depend on github.com/getlantern/pathreflect
warning: no packages being tested depend on github.com/getlantern/proxiedsites
warning: no packages being tested depend on github.com/getlantern/tarfs
warning: no packages being tested depend on github.com/getlantern/tlsdefaults
warning: no packages being tested depend on github.com/getlantern/waitforserver
warning: no packages being tested depend on github.com/getlantern/withtimeout
May 17 19:11:22.681 - 0m0s DEBUG flashlight: flashlight.go:66 ****************************** Package Version: 9999.99.99
May 17 19:11:22.682 - 0m0s DEBUG flashlight.util: hash.go:22 Hashing file at path /tmp/go-build526188327/github.com/getlantern/flashlight/logging/_test/logging.test
May 17 19:11:22.824 - 0m0s DEBUG flashlight.ui: ui.go:56 Creating tarfs filesystem that prefers local resources at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:11:22.824 - 0m0s DEBUG tarfs: tarfs.go:62 Using local filesystem at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:11:22.842 - 0m0s DEBUG flashlight: settings.go:60 Loading settings
May 17 19:11:22.842 - 0m0s DEBUG flashlight: settings.go:71 Could not read file open /home/travis/.lantern/settings.yaml: no such file or directory
May 17 19:11:22.845 - 0m0s DEBUG flashlight.ui: service.go:132 Accepting websocket connections at: /data
May 17 19:11:22.845 - 0m0s DEBUG flashlight: settings.go:120 Sending Lantern settings to new client
May 17 19:11:22.848 - 0m0s DEBUG flashlight: settings.go:132 Reading settings messages!!
=== RUN   TestUserAgent
--- PASS: TestUserAgent (0.20s)
=== RUN   TestNonStopWriter
--- PASS: TestNonStopWriter (0.00s)
=== RUN   TestLoggly
May 17 19:11:23.055 - 0m0s ERROR test: logging_test.go:72 short message
May 17 19:11:23.055 - 0m0s DEBUG flashlight.logging: logging.go:301 Reporting error at test: logging_test.go:72  to Loggly: short message
May 17 19:11:23.058 - 0m0s ERROR test: logging_test.go:72 short message
May 17 19:11:23.059 - 0m0s DEBUG flashlight.logging: logging.go:297 Not reporting duplicate at test: logging_test.go:72  to Loggly: short message
May 17 19:11:23.159 - 0m0s ERROR test: logging_test.go:85 
May 17 19:11:23.159 - 0m0s DEBUG flashlight.logging: logging.go:301 Reporting error at test: logging_test.go:85  to Loggly: 
May 17 19:11:23.159 - 0m0s DEBUG test: logging_test.go:86 **************** {"extra":{"hostname":"hidden","sessionUserAgents":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/50.0.2661.86 Safari/537.36: 2 requests; "},"fullMessage":"","hostname":"travis-job-655836f0-ec78-4b43-b363-cd9f4c8d77d6","locationInfo":"test: logging_test.go:85 ","message":"","timestamp":1558120283159}

May 17 19:11:23.160 - 0m0s ERROR test: logging_test.go:93 message with: reason
May 17 19:11:23.160 - 0m0s DEBUG flashlight.logging: logging.go:301 Reporting error at test: logging_test.go:93  to Loggly: message with: reason
May 17 19:11:23.161 - 0m0s ERROR test: logging_test.go:100 deep reason: message with: reason
May 17 19:11:23.162 - 0m0s DEBUG flashlight.logging: logging.go:301 Reporting error at test: logging_test.go:100  to Loggly: deep reason: message with: reason
May 17 19:11:23.163 - 0m0s ERROR test: logging_test.go:107 deep reason: an url https://a.com in message: reason
May 17 19:11:23.164 - 0m0s DEBUG flashlight.logging: logging.go:301 Reporting error at test: logging_test.go:107  to Loggly: deep reason: an url https://a.com in message: reason
May 17 19:11:23.164 - 0m0s ERROR test: logging_test.go:113 deep reason: an url 127.0.0.1:8787 in message: reason
May 17 19:11:23.164 - 0m0s DEBUG flashlight.logging: logging.go:301 Reporting error at test: logging_test.go:113  to Loggly: deep reason: an url 127.0.0.1:8787 in message: reason
May 17 19:11:23.166 - 0m0s ERROR test: logging_test.go:122 message with: really loooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooong reason
May 17 19:11:23.166 - 0m0s DEBUG flashlight.logging: logging.go:301 Reporting error at test: logging_test.go:122  to Loggly: message with: really loooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooong reason
--- PASS: TestLoggly (0.11s)
=== RUN   TestIncludeInSample
--- PASS: TestIncludeInSample (0.00s)
PASS
coverage: 8.1% of statements in github.com/getlantern/fdcount, github.com/getlantern/appdir, github.com/getlantern/balancer, github.com/getlantern/bandwidth, github.com/getlantern/borda/client, github.com/getlantern/buuid, github.com/getlantern/bytecounting, github.com/getlantern/byteexec, github.com/getlantern/chained, github.com/getlantern/checkfallbacks, github.com/getlantern/connpool, github.com/getlantern/context, github.com/getlantern/deepcopy, github.com/getlantern/detour, github.com/getlantern/errors, github.com/getlantern/eventual, github.com/getlantern/flashlight, github.com/getlantern/flashlight/app, github.com/getlantern/flashlight/client, github.com/getlantern/flashlight/config, github.com/getlantern/flashlight/logging, github.com/getlantern/flashlight/proxied, github.com/getlantern/flashlight/util, github.com/getlantern/fronted, github.com/getlantern/geolookup, github.com/getlantern/golog, github.com/getlantern/hex, github.com/getlantern/hidden, github.com/getlantern/idletiming, github.com/getlantern/keyman, github.com/getlantern/lantern, github.com/getlantern/measured, github.com/getlantern/netx, github.com/getlantern/ops, github.com/getlantern/osversion, github.com/getlantern/pathreflect, github.com/getlantern/proxiedsites, github.com/getlantern/rotator, github.com/getlantern/stack, github.com/getlantern/tarfs, github.com/getlantern/tlsdefaults, github.com/getlantern/tlsdialer, github.com/getlantern/waitforserver, github.com/getlantern/wfilter, github.com/getlantern/withtimeout
ok  	github.com/getlantern/flashlight/logging	1.655s
warning: no packages being tested depend on github.com/getlantern/fdcount
warning: no packages being tested depend on github.com/getlantern/appdir
warning: no packages being tested depend on github.com/getlantern/balancer
warning: no packages being tested depend on github.com/getlantern/bandwidth
warning: no packages being tested depend on github.com/getlantern/borda/client
warning: no packages being tested depend on github.com/getlantern/buuid
warning: no packages being tested depend on github.com/getlantern/bytecounting
warning: no packages being tested depend on github.com/getlantern/byteexec
warning: no packages being tested depend on github.com/getlantern/chained
warning: no packages being tested depend on github.com/getlantern/checkfallbacks
warning: no packages being tested depend on github.com/getlantern/connpool
warning: no packages being tested depend on github.com/getlantern/deepcopy
warning: no packages being tested depend on github.com/getlantern/detour
warning: no packages being tested depend on github.com/getlantern/flashlight
warning: no packages being tested depend on github.com/getlantern/flashlight/app
warning: no packages being tested depend on github.com/getlantern/flashlight/client
warning: no packages being tested depend on github.com/getlantern/flashlight/config
warning: no packages being tested depend on github.com/getlantern/flashlight/logging
warning: no packages being tested depend on github.com/getlantern/flashlight/util
warning: no packages being tested depend on github.com/getlantern/geolookup
warning: no packages being tested depend on github.com/getlantern/lantern
warning: no packages being tested depend on github.com/getlantern/measured
warning: no packages being tested depend on github.com/getlantern/osversion
warning: no packages being tested depend on github.com/getlantern/pathreflect
warning: no packages being tested depend on github.com/getlantern/proxiedsites
warning: no packages being tested depend on github.com/getlantern/rotator
warning: no packages being tested depend on github.com/getlantern/tarfs
warning: no packages being tested depend on github.com/getlantern/tlsdefaults
warning: no packages being tested depend on github.com/getlantern/waitforserver
warning: no packages being tested depend on github.com/getlantern/wfilter
warning: no packages being tested depend on github.com/getlantern/withtimeout
May 17 19:12:05.356 - 0m0s DEBUG flashlight: flashlight.go:66 ****************************** Package Version: 9999.99.99
May 17 19:12:05.357 - 0m0s DEBUG flashlight.util: hash.go:22 Hashing file at path /tmp/go-build905174198/github.com/getlantern/flashlight/proxied/_test/proxied.test
May 17 19:12:05.506 - 0m0s DEBUG flashlight.ui: ui.go:56 Creating tarfs filesystem that prefers local resources at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:12:05.506 - 0m0s DEBUG tarfs: tarfs.go:62 Using local filesystem at /home/travis/gopath/src/github.com/getlantern/lantern/lantern-ui/app
May 17 19:12:05.525 - 0m0s DEBUG flashlight: settings.go:60 Loading settings
May 17 19:12:05.525 - 0m0s DEBUG flashlight: settings.go:71 Could not read file open /home/travis/.lantern/settings.yaml: no such file or directory
May 17 19:12:05.528 - 0m0s DEBUG flashlight.ui: service.go:132 Accepting websocket connections at: /data
May 17 19:12:05.529 - 0m0s DEBUG flashlight: settings.go:120 Sending Lantern settings to new client
May 17 19:12:05.530 - 0m0s DEBUG flashlight: settings.go:132 Reading settings messages!!
=== RUN   TestChainedAndFrontedHeaders
May 17 19:12:05.532 - 0m0s DEBUG flashlight.proxied: proxied.go:193 Using dual fronter
May 17 19:12:05.533 - 0m0s DEBUG flashlight.proxied: proxied.go:265 In fronted [http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net root_op=dualfetcher]
May 17 19:12:05.533 - 0m0s DEBUG flashlight.proxied: proxied.go:279 Sending request via DDF: false [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=dualfetcher]
May 17 19:12:05.533 - 0m0s DEBUG flashlight.proxied: proxied.go:292 Sending chained request: false [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=dualfetcher]
May 17 19:12:05.533 - 0m0s DEBUG flashlight.proxied: proxied_test.go:49 Got FRONTED request headers:
GET /lookup/198.199.72.101 HTTP/1.1
Host: d3u5fqukq7qrhd.cloudfront.net
Accept: application/x-gzip
Cache-Control: no-cache
X-Lantern-If-None-Match: 473892jdfda

 [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=dualfetcher]
May 17 19:12:05.533 - 0m0s DEBUG flashlight.proxied: proxied_test.go:39 Got chained request headers:
GET /lookup/198.199.72.101 HTTP/1.1
Host: d3u5fqukq7qrhd.cloudfront.net
Accept: application/x-gzip
Cache-Control: no-cache
X-Lantern-If-None-Match: 473892jdfda

 [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=dualfetcher]
May 17 19:12:05.533 - 0m0s DEBUG flashlight.proxied: proxied.go:245 Got successful HTTP call! [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 http_response_status_code=503 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=dualfetcher]
May 17 19:12:05.534 - 0m0s DEBUG flashlight.proxied: proxied.go:284 Fronted request succeeded [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 http_response_status_code=503 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=dualfetcher]
May 17 19:12:05.534 - 0m0s DEBUG flashlight.proxied: proxied.go:376 Got good first response [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 http_response_status_code=503 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=dualfetcher]
--- PASS: TestChainedAndFrontedHeaders (0.00s)
May 17 19:12:05.534 - 0m0s DEBUG flashlight.proxied: proxied.go:387 Ignoring error on second response [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 http_response_status_code=503 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=dualfetcher]
=== RUN   TestParallelPreferChained
May 17 19:12:05.534 - 0m0s DEBUG flashlight.proxied: proxied_test.go:103 Starting server
May 17 19:12:05.544 - 0m0s DEBUG fronted: direct.go:112 Loading candidates
May 17 19:12:05.593 - 0m0s DEBUG flashlight.proxied: proxied.go:193 Using dual fronter [http_method=GET http_proto=HTTP/1.1 op=chainedandfronted origin=d3u5fqukq7qrhd.cloudfront.net root_op=chainedandfronted]
May 17 19:12:05.594 - 0m0s DEBUG flashlight.proxied: proxied.go:292 Sending chained request: false [http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net root_op=chainedandfronted]
May 17 19:12:05.598 - 0m0s DEBUG flashlight.proxied: proxied.go:265 In fronted [http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net root_op=chainedandfronted]
May 17 19:12:05.598 - 0m0s DEBUG flashlight.proxied: proxied.go:279 Sending request via DDF: false [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=chainedandfronted]
May 17 19:12:05.601 - 0m0s DEBUG flashlight.proxied: proxied_test.go:91 Got request
May 17 19:12:05.814 - 0m0s DEBUG flashlight.proxied: proxied.go:245 Got successful HTTP call! [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=chainedandfronted]
May 17 19:12:05.817 - 0m0s DEBUG flashlight.proxied: proxied.go:295 Switching to chained fronter for future requests since it succeeded [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=chainedandfronted]
May 17 19:12:05.823 - 0m0s DEBUG flashlight.proxied: proxied.go:376 Got good first response [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=chainedandfronted]
May 17 19:12:05.825 - 0m0s DEBUG flashlight.proxied: proxied.go:193 Using dual fronter [http_method=GET http_proto=HTTP/1.1 op=chainedandfronted origin=d3u5fqukq7qrhd.cloudfront.net root_op=chainedandfronted]
May 17 19:12:05.827 - 0m0s DEBUG flashlight.proxied: proxied.go:265 In fronted [http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net root_op=chainedandfronted]
May 17 19:12:05.829 - 0m0s May 17 19:12:05.829 - 0m0s DEBUG flashlight.proxied: proxied.go:279 Sending request via DDF: false [fronted_url=http://48290.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=chainedandfronted]
DEBUG flashlight.proxied: proxied.go:292 Sending chained request: false [fronted_url=http://48290.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=chainedandfronted]
May 17 19:12:05.838 - 0m0s DEBUG flashlight.proxied: proxied_test.go:91 Got request
May 17 19:12:06.321 - 0m0s DEBUG flashlight.proxied: proxied.go:245 Got successful HTTP call! [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=chainedandfronted]
May 17 19:12:06.325 - 0m0s DEBUG flashlight.proxied: proxied.go:382 Closing second response body [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=chainedandfronted]
May 17 19:12:06.326 - 0m0s DEBUG flashlight.proxied: proxied.go:284 Fronted request succeeded [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=chainedandfronted]
May 17 19:12:06.854 - 0m1s DEBUG flashlight.proxied: proxied.go:406 Got an error: unsuccessful response status [fronted_url=http://48290.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 http_response_status_code=403 op=dualfetcher origin=48290.cloudfront.net proxy_type=fronted root_op=chainedandfronted]
May 17 19:12:07.958 - 0m2s DEBUG flashlight.proxied: proxied.go:245 Got successful HTTP call! [fronted_url=http://48290.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=chainedandfronted]
May 17 19:12:07.960 - 0m2s DEBUG flashlight.proxied: proxied.go:295 Switching to chained fronter for future requests since it succeeded [fronted_url=http://48290.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=chainedandfronted]
May 17 19:12:07.964 - 0m2s DEBUG flashlight.proxied: proxied_test.go:139 Got response in test
May 17 19:12:07.965 - 0m2s DEBUG flashlight.proxied: proxied_test.go:147 Running test with bad URL in the req server
May 17 19:12:07.966 - 0m2s DEBUG flashlight.proxied: proxied.go:193 Using dual fronter [http_method=GET http_proto=HTTP/1.1 op=chainedandfronted origin=48290.cloudfront.net root_op=chainedandfronted]
May 17 19:12:07.966 - 0m2s DEBUG flashlight.proxied: proxied.go:265 In fronted [http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=48290.cloudfront.net root_op=chainedandfronted]
May 17 19:12:07.967 - 0m2s DEBUG flashlight.proxied: proxied.go:279 Sending request via DDF: false [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=48290.cloudfront.net proxy_type=fronted root_op=chainedandfronted]
May 17 19:12:07.967 - 0m2s DEBUG flashlight.proxied: proxied.go:292 Sending chained request: false [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=48290.cloudfront.net proxy_type=fronted root_op=chainedandfronted]
May 17 19:12:07.971 - 0m2s DEBUG flashlight.proxied: proxied_test.go:91 Got request
May 17 19:12:08.247 - 0m2s DEBUG flashlight.proxied: proxied.go:245 Got successful HTTP call! [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=chainedandfronted]
May 17 19:12:08.249 - 0m2s DEBUG flashlight.proxied: proxied.go:376 Got good first response [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=chainedandfronted]
--- FAIL: TestParallelPreferChained (2.72s)
	<autogenerated>:31:                         	Error Trace:	proxied_test.go:126
					proxied_test.go:78
			Error:		Should be true
			Messages:	Unexpected response 
		
	<autogenerated>:31:                         	Error Trace:	proxied_test.go:142
					proxied_test.go:78
			Error:		Should be true
			Messages:	Unexpected response 
		
	<autogenerated>:31:                         	Error Trace:	proxied_test.go:158
					proxied_test.go:78
			Error:		Should be true
			Messages:	Unexpected response {"City":{"GeoNameID":5101879,"Names":{"en":"North Bergen"}},"Continent":{"Code":"NA","GeoNameID":6255149,"Names":{"de":"Nordamerika","en":"North America","es":"NorteamÃ©rica","fr":"AmÃ©rique du Nord","ja":"åã¢ã¡ãªã«","pt-BR":"AmÃ©rica do Norte","ru":"Ð¡ÐµÐ²ÐµÑÐ½Ð°Ñ ÐÐ¼ÐµÑÐ¸ÐºÐ°","zh-CN":"åç¾æ´²"}},"Country":{"GeoNameID":6252001,"IsoCode":"US","Names":{"de":"USA","en":"United States","es":"Estados Unidos","fr":"Ãtats-Unis","ja":"ã¢ã¡ãªã«åè¡å½","pt-BR":"Estados Unidos","ru":"Ð¡Ð¨Ð","zh-CN":"ç¾å½"}},"Location":{"Latitude":40.793,"Longitude":-74.0247,"MetroCode":501,"TimeZone":"America/New_York"},"Postal":{"Code":"07047"},"RegisteredCountry":{"GeoNameID":6252001,"IsoCode":"US","Names":{"de":"USA","en":"United States","es":"Estados Unidos","fr":"Ãtats-Unis","ja":"ã¢ã¡ãªã«åè¡å½","pt-BR":"Estados Unidos","ru":"Ð¡Ð¨Ð","zh-CN":"ç¾å½"}},"RepresentedCountry":{"GeoNameID":0,"IsoCode":"","Names":null,"Type":""},"Subdivisions":[{"GeoNameID":5101760,"IsoCode":"NJ","Names":{"en":"New Jersey","es":"Nueva Jersey","fr":"New Jersey","ja":"ãã¥ã¼ã¸ã£ã¼ã¸ã¼å·","pt-BR":"Nova JÃ©rsia","ru":"ÐÑÑ-ÐÐ¶ÐµÑÑÐ¸","zh-CN":"æ°æ³½è¥¿å·"}}],"Traits":{"IsAnonymousProxy":false,"IsSatelliteProvider":false}}
		
=== RUN   TestChainedThenFronted
May 17 19:12:08.254 - 0m2s DEBUG flashlight.proxied: proxied.go:284 Fronted request succeeded [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=chainedandfronted]
May 17 19:12:08.254 - 0m2s DEBUG flashlight.proxied: proxied_test.go:103 Starting server
May 17 19:12:08.261 - 0m2s DEBUG fronted: cache.go:125 Closing cache from existing instance
May 17 19:12:08.264 - 0m2s DEBUG fronted: direct.go:112 Loading candidates
May 17 19:12:08.313 - 0m2s DEBUG flashlight.proxied: proxied.go:193 Using dual fronter [http_method=GET http_proto=HTTP/1.1 op=chainedandfronted origin=d3u5fqukq7qrhd.cloudfront.net root_op=chainedandfronted]
May 17 19:12:08.313 - 0m2s DEBUG flashlight.proxied: proxied.go:292 Sending chained request: false [http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net root_op=chainedandfronted]
May 17 19:12:08.320 - 0m2s DEBUG flashlight.proxied: proxied_test.go:91 Got request
May 17 19:12:08.444 - 0m3s DEBUG flashlight.proxied: proxied.go:245 Got successful HTTP call! [http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net root_op=chainedandfronted]
May 17 19:12:08.444 - 0m3s DEBUG flashlight.proxied: proxied.go:295 Switching to chained fronter for future requests since it succeeded [http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net root_op=chainedandfronted]
May 17 19:12:08.445 - 0m3s DEBUG flashlight.proxied: proxied.go:193 Using dual fronter [http_method=GET http_proto=HTTP/1.1 op=chainedandfronted origin=d3u5fqukq7qrhd.cloudfront.net root_op=chainedandfronted]
May 17 19:12:08.446 - 0m3s DEBUG flashlight.proxied: proxied.go:292 Sending chained request: false [http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net root_op=chainedandfronted]
May 17 19:12:08.448 - 0m3s DEBUG flashlight.proxied: proxied_test.go:91 Got request
May 17 19:12:09.993 - 0m4s DEBUG flashlight.proxied: proxied.go:387 Ignoring error on second response [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 http_response_status_code=502 op=dualfetcher origin=48290.cloudfront.net proxy_type=fronted root_op=chainedandfronted]
May 17 19:12:10.570 - 0m5s DEBUG flashlight.proxied: proxied.go:245 Got successful HTTP call! [http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net root_op=chainedandfronted]
May 17 19:12:10.570 - 0m5s DEBUG flashlight.proxied: proxied.go:295 Switching to chained fronter for future requests since it succeeded [http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net root_op=chainedandfronted]
May 17 19:12:10.571 - 0m5s DEBUG flashlight.proxied: proxied_test.go:139 Got response in test
May 17 19:12:10.571 - 0m5s DEBUG flashlight.proxied: proxied_test.go:147 Running test with bad URL in the req server
May 17 19:12:10.572 - 0m5s DEBUG flashlight.proxied: proxied.go:193 Using dual fronter [http_method=GET http_proto=HTTP/1.1 op=chainedandfronted origin=48290.cloudfront.net root_op=chainedandfronted]
May 17 19:12:10.572 - 0m5s DEBUG flashlight.proxied: proxied.go:292 Sending chained request: false [http_method=GET http_proto=HTTP/1.1 op=dualfetcher origin=48290.cloudfront.net root_op=chainedandfronted]
May 17 19:12:10.587 - 0m5s DEBUG flashlight.proxied: proxied_test.go:91 Got request
May 17 19:12:12.593 - 0m7s ERROR flashlight.proxied: proxied.go:360 Chained failed, trying fronted: unsuccessful response status [error=Chained failed, trying fronted: %v error_location=github.com/getlantern/flashlight/proxied.(*dualFetcher).do (proxied.go:360) error_text=Chained failed, trying fronted: unsuccessful response status error_type=errors.Error http_method=GET http_proto=HTTP/1.1 http_response_status_code=502 op=dualfetcher origin=48290.cloudfront.net root_op=chainedandfronted]
ERROR flashlight.proxied: proxied.go:360   at github.com/getlantern/flashlight/proxied.(*dualFetcher).do (proxied.go:360)
ERROR flashlight.proxied: proxied.go:360   at github.com/getlantern/flashlight/proxied.(*dualFetcher).RoundTrip (proxied.go:185)
ERROR flashlight.proxied: proxied.go:360   at github.com/getlantern/flashlight/proxied.(*chainedAndFronted).RoundTrip (proxied.go:133)
ERROR flashlight.proxied: proxied.go:360   at github.com/getlantern/flashlight/proxied.doTestChainedAndFronted (proxied_test.go:153)
ERROR flashlight.proxied: proxied.go:360   at github.com/getlantern/flashlight/proxied.TestChainedThenFronted (proxied_test.go:82)
ERROR flashlight.proxied: proxied.go:360   at testing.tRunner (testing.go:473)
ERROR flashlight.proxied: proxied.go:360   at runtime.goexit (asm_amd64.s:1998)
ERROR flashlight.proxied: proxied.go:360 Caused by: unsuccessful response status
ERROR flashlight.proxied: proxied.go:360   at github.com/getlantern/flashlight/proxied.(*dualFetcher).do.func1 (proxied.go:252)
ERROR flashlight.proxied: proxied.go:360   at github.com/getlantern/flashlight/proxied.(*dualFetcher).do.func3 (proxied.go:293)
ERROR flashlight.proxied: proxied.go:360   at github.com/getlantern/flashlight/proxied.(*dualFetcher).do (proxied.go:356)
ERROR flashlight.proxied: proxied.go:360   at github.com/getlantern/flashlight/proxied.(*dualFetcher).RoundTrip (proxied.go:185)
ERROR flashlight.proxied: proxied.go:360   at github.com/getlantern/flashlight/proxied.(*chainedAndFronted).RoundTrip (proxied.go:133)
ERROR flashlight.proxied: proxied.go:360   at github.com/getlantern/flashlight/proxied.doTestChainedAndFronted (proxied_test.go:153)
ERROR flashlight.proxied: proxied.go:360   at github.com/getlantern/flashlight/proxied.TestChainedThenFronted (proxied_test.go:82)
ERROR flashlight.proxied: proxied.go:360   at testing.tRunner (testing.go:473)
ERROR flashlight.proxied: proxied.go:360   at runtime.goexit (asm_amd64.s:1998)
May 17 19:12:12.593 - 0m7s DEBUG flashlight.proxied: proxied.go:265 In fronted [http_method=GET http_proto=HTTP/1.1 http_response_status_code=502 op=dualfetcher origin=48290.cloudfront.net root_op=chainedandfronted]
May 17 19:12:12.594 - 0m7s DEBUG flashlight.proxied: proxied.go:279 Sending request via DDF: false [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 http_response_status_code=502 op=dualfetcher origin=48290.cloudfront.net proxy_type=fronted root_op=chainedandfronted]
May 17 19:12:12.807 - 0m7s DEBUG flashlight.proxied: proxied.go:238 Passing response as is [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=chainedandfronted]
May 17 19:12:12.811 - 0m7s DEBUG flashlight.proxied: proxied.go:284 Fronted request succeeded [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=chainedandfronted]
May 17 19:12:12.813 - 0m7s DEBUG flashlight.proxied: proxied.go:363 Result of fronting: <nil> [fronted_url=http://d3u5fqukq7qrhd.cloudfront.net/lookup/198.199.72.101 http_method=GET http_proto=HTTP/1.1 http_response_status_code=200 op=dualfetcher origin=d3u5fqukq7qrhd.cloudfront.net proxy_type=fronted root_op=chainedandfronted]
--- FAIL: TestChainedThenFronted (4.57s)
	<autogenerated>:31:                         	Error Trace:	proxied_test.go:126
					proxied_test.go:82
			Error:		Should be true
			Messages:	Unexpected response 
		
	<autogenerated>:31:                         	Error Trace:	proxied_test.go:142
					proxied_test.go:82
			Error:		Should be true
			Messages:	Unexpected response 
		
	<autogenerated>:31:                         	Error Trace:	proxied_test.go:158
					proxied_test.go:82
			Error:		Should be true
			Messages:	Unexpected response {"City":{"GeoNameID":5101879,"Names":{"en":"North Bergen"}},"Continent":{"Code":"NA","GeoNameID":6255149,"Names":{"de":"Nordamerika","en":"North America","es":"NorteamÃ©rica","fr":"AmÃ©rique du Nord","ja":"åã¢ã¡ãªã«","pt-BR":"AmÃ©rica do Norte","ru":"Ð¡ÐµÐ²ÐµÑÐ½Ð°Ñ ÐÐ¼ÐµÑÐ¸ÐºÐ°","zh-CN":"åç¾æ´²"}},"Country":{"GeoNameID":6252001,"IsoCode":"US","Names":{"de":"USA","en":"United States","es":"Estados Unidos","fr":"Ãtats-Unis","ja":"ã¢ã¡ãªã«åè¡å½","pt-BR":"Estados Unidos","ru":"Ð¡Ð¨Ð","zh-CN":"ç¾å½"}},"Location":{"Latitude":40.793,"Longitude":-74.0247,"MetroCode":501,"TimeZone":"America/New_York"},"Postal":{"Code":"07047"},"RegisteredCountry":{"GeoNameID":6252001,"IsoCode":"US","Names":{"de":"USA","en":"United States","es":"Estados Unidos","fr":"Ãtats-Unis","ja":"ã¢ã¡ãªã«åè¡å½","pt-BR":"Estados Unidos","ru":"Ð¡Ð¨Ð","zh-CN":"ç¾å½"}},"RepresentedCountry":{"GeoNameID":0,"IsoCode":"","Names":null,"Type":""},"Subdivisions":[{"GeoNameID":5101760,"IsoCode":"NJ","Names":{"en":"New Jersey","es":"Nueva Jersey","fr":"New Jersey","ja":"ãã¥ã¼ã¸ã£ã¼ã¸ã¼å·","pt-BR":"Nova JÃ©rsia","ru":"ÐÑÑ-ÐÐ¶ÐµÑÑÐ¸","zh-CN":"æ°æ³½è¥¿å·"}}],"Traits":{"IsAnonymousProxy":false,"IsSatelliteProvider":false}}
		
FAIL
coverage: 20.8% of statements in github.com/getlantern/fdcount, github.com/getlantern/appdir, github.com/getlantern/balancer, github.com/getlantern/bandwidth, github.com/getlantern/borda/client, github.com/getlantern/buuid, github.com/getlantern/bytecounting, github.com/getlantern/byteexec, github.com/getlantern/chained, github.com/getlantern/checkfallbacks, github.com/getlantern/connpool, github.com/getlantern/context, github.com/getlantern/deepcopy, github.com/getlantern/detour, github.com/getlantern/errors, github.com/getlantern/eventual, github.com/getlantern/flashlight, github.com/getlantern/flashlight/app, github.com/getlantern/flashlight/client, github.com/getlantern/flashlight/config, github.com/getlantern/flashlight/logging, github.com/getlantern/flashlight/proxied, github.com/getlantern/flashlight/util, github.com/getlantern/fronted, github.com/getlantern/geolookup, github.com/getlantern/golog, github.com/getlantern/hex, github.com/getlantern/hidden, github.com/getlantern/idletiming, github.com/getlantern/keyman, github.com/getlantern/lantern, github.com/getlantern/measured, github.com/getlantern/netx, github.com/getlantern/ops, github.com/getlantern/osversion, github.com/getlantern/pathreflect, github.com/getlantern/proxiedsites, github.com/getlantern/rotator, github.com/getlantern/stack, github.com/getlantern/tarfs, github.com/getlantern/tlsdefaults, github.com/getlantern/tlsdialer, github.com/getlantern/waitforserver, github.com/getlantern/wfilter, github.com/getlantern/withtimeout
exit status 1
FAIL	github.com/getlantern/flashlight/proxied	7.615s
make: *** [test-and-cover] Error 1
travis_time:end:00be132e:start=1558119367322287877,finish=1558120332931127790,duration=965608839913[0K[31;1mThe command "GOROOT=/usr/local/go make test-and-cover" exited with 2.[0m



Done. Your build exited with 1.
